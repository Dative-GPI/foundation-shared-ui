import{E as Z,e as v,d as V,o as j,H as q,I as E,J as i,z as s,M as S,N as T,K as G,X as U,R as y,Y as b}from"./vue.esm-bundler-a27e881e.js";import{F as N}from"./FSButton-32c11b56.js";import{_ as p}from"./FSSpan-23926a6a.js";import{_ as D}from"./FSCol-5941d279.js";import{_ as C}from"./FSRow-e0b07355.js";import{C as w,u as M}from"./useColors-64c3c523.js";import{u as O,a as Q}from"./useTimeZone-035f95ae.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import{V as _,a as B}from"./VLocaleProvider-706a15ed.js";const z=Z({name:"FSCalendarTwin",components:{FSButton:N,FSSpan:p,FSCol:D,FSRow:C},props:{label:{type:String,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},color:{type:String,required:!1,default:w.Dark},limit:{type:String,required:!1,default:"none"}},emits:["update:modelValue"],setup(e,{emit:f}){var P;const{epochToPicker:R,epochToPickerHeader:c,pickerToEpoch:k,todayToEpoch:F}=O(),{languageCode:h}=Q(),g=v(()=>M().getColors(e.color)),I=M().getColors(w.Background),L=M().getColors(w.Dark),t=V(new Date().getMonth()),r=V(new Date().getFullYear()),o=V(new Date().getMonth()),d=V(new Date().getFullYear()),m=V((((P=e.modelValue)==null?void 0:P.length)??0)%2);j(()=>{!e.modelValue||!e.modelValue.length?(t.value=new Date().getMonth(),r.value=new Date().getFullYear(),t.value<11?(o.value=t.value+1,d.value=r.value):(o.value=0,d.value=r.value+1)):(t.value=c(e.modelValue[0]).m,r.value=c(e.modelValue[0]).y,t.value<11?(o.value=t.value+1,d.value=r.value):(o.value=0,d.value=r.value+1))});const u=(l,a,n)=>{switch(l){case"before":switch(a){case"left":return r.value>n.y||r.value===n.y&&t.value>n.m;case"right":return d.value>n.y||d.value===n.y&&o.value>n.m}case"during":switch(a){case"left":return r.value===n.y&&t.value===n.m;case"right":return d.value===n.y&&o.value===n.m}case"after":switch(a){case"left":return r.value<n.y||r.value===n.y&&t.value<n.m;case"right":return d.value<n.y||d.value===n.y&&o.value<n.m}}},H=v(()=>({"--fs-calendar-background-color":I.base,"--fs-calendar-hover-background-color":g.value.light,"--fs-calendar-active-background-color":g.value.base,"--fs-calendar-border-color":L.base,"--fs-calendar-hover-border-color":g.value.base,"--fs-calendar-active-border-color":g.value.base,"--fs-calendar-color":L.base,"--fs-calendar-hover-color":g.value.base,"--fs-calendar-active-color":g.value.light})),Y=v(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>u("during","left",c(l))||u("before","left",c(l)))),$=v(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>u("during","right",c(l))||u("after","right",c(l)))),A=v(()=>{const l=new Date(0);return l.setMonth(t.value),l.setFullYear(r.value),new Intl.DateTimeFormat(h.value,{month:"long",year:"numeric"}).format(l)}),J=v(()=>{const l=new Date(0);return l.setMonth(o.value),l.setFullYear(d.value),new Intl.DateTimeFormat(h.value,{month:"long",year:"numeric"}).format(l)}),K=v(()=>{const l=["fs-calendar-half","fs-calendar-left"];if(e.modelValue&&e.modelValue.length>1){const a=c(e.modelValue[0]),n=c(e.modelValue[1]);u("before","left",a)&&u("after","left",n)?l.push("fs-calendar-full"):u("during","left",a)&&u("during","left",n)?a.d!==n.d&&l.push("fs-calendar-part"):u("during","left",a)?l.push("fs-calendar-start"):u("during","left",n)&&l.push("fs-calendar-end")}return l}),X=v(()=>{const l=["fs-calendar-half","fs-calendar-right"];if(e.modelValue&&e.modelValue.length>1){const a=c(e.modelValue[0]),n=c(e.modelValue[1]);u("before","right",a)&&u("after","right",n)?l.push("fs-calendar-full"):u("during","right",a)&&u("during","right",n)?a.d!==n.d&&l.push("fs-calendar-part"):u("during","right",a)?l.push("fs-calendar-start"):u("during","right",n)&&l.push("fs-calendar-end")}return l});return{ColorEnum:w,languageCode:h,style:H,leftClasses:K,leftText:A,innerLeftMonth:t,innerLeftYear:r,innerLeftValue:Y,rightClasses:X,rightText:J,innerRightMonth:o,innerRightYear:d,innerRightValue:$,epochToPicker:R,onClickPrevious:()=>{t.value===11?(t.value--,o.value=11,d.value--):t.value===0?(r.value--,t.value=11,o.value--):(t.value--,o.value--)},onClickNext:()=>{o.value===11?(o.value=0,d.value++,t.value++):o.value===0?(o.value++,t.value=0,r.value++):(o.value++,t.value++)},onClickLeft:l=>{const a=k(l[l.length-1]);!e.modelValue||!e.modelValue.length?f("update:modelValue",[a,a]):e.modelValue.length===1?f("update:modelValue",[e.modelValue[0],a].sort()):Y.value.length===0?f("update:modelValue",[a,e.modelValue[1]]):(f("update:modelValue",[a,e.modelValue[m.value]].sort()),m.value=++m.value%2)},onClickRight:l=>{const a=k(l[l.length-1]);!e.modelValue||!e.modelValue.length?f("update:modelValue",[a,a]):e.modelValue.length===1?f("update:modelValue",[e.modelValue[0],a].sort()):$.value.length===0?f("update:modelValue",[e.modelValue[0],a]):(f("update:modelValue",[a,e.modelValue[m.value]].sort()),m.value=++m.value%2),m.value=++m.value%2},allowedDates:l=>{const a=k(l);switch(e.limit){case"past":return a<=F(!0);case"future":return a>=F(!0);default:return!0}}}}}),x=b("div",null,null,-1),ee=b("div",null,null,-1);function le(e,f,R,c,k,F){return q(),E(D,null,{default:i(()=>[s(C,null,{default:i(()=>[e.$props.label?(q(),E(p,{key:0,class:"fs-calendar-label",font:"text-overline"},{default:i(()=>[S(T(e.$props.label),1)]),_:1})):G("",!0)]),_:1}),s(C,{class:"fs-calendar-twin",style:y(e.style)},{default:i(()=>[s(D,{class:U(e.leftClasses),style:y(e.style)},{default:i(()=>[s(C,{class:"fs-calendar-header",align:"center-center"},{default:i(()=>[s(N,{size:"l",variant:"icon",icon:"mdi-chevron-left",color:e.ColorEnum.Dark,onClick:e.onClickPrevious},null,8,["color","onClick"]),s(p,{class:"fs-calendar-text",font:"text-h3"},{default:i(()=>[S(T(e.leftText),1)]),_:1}),x]),_:1}),b("div",{class:"fs-calendar-divider",style:y(e.style)},null,4),s(_,{locale:e.languageCode},{default:i(()=>[s(B,{month:e.innerLeftMonth,year:e.innerLeftYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerLeftValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickLeft,"onUpdate:month":h=>null,"onUpdate:year":h=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"]),s(D,{class:U(e.rightClasses),style:y(e.style)},{default:i(()=>[s(C,{class:"fs-calendar-header",align:"center-center"},{default:i(()=>[ee,s(p,{class:"fs-calendar-text",font:"text-h3"},{default:i(()=>[S(T(e.rightText),1)]),_:1}),s(N,{size:"l",variant:"icon",icon:"mdi-chevron-right",color:e.ColorEnum.Dark,onClick:e.onClickNext},null,8,["color","onClick"])]),_:1}),b("div",{class:"fs-calendar-divider",style:y(e.style)},null,4),s(_,{locale:e.languageCode},{default:i(()=>[s(B,{month:e.innerRightMonth,year:e.innerRightYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerRightValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickRight,"onUpdate:month":h=>null,"onUpdate:year":h=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"])]),_:1},8,["style"])]),_:1})}const ge=W(z,[["render",le]]);z.__docgenInfo={displayName:"FSCalendarTwin",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"number[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Dark"}},{name:"limit",values:["none","past","future"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"none"'}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSCalendarTwin.vue"]};export{ge as F};
