import{P as l}from"./pathCrumb-D0_87whe.js";import{C as I}from"./base-Db9bJp6t.js";import{S as c}from"./serviceFactory-Bd5jifNi.js";import{C as n}from"./composableFactory-rrf4GM2L.js";class a{constructor(e){this.id=e.id,this.organisationId=e.organisationId,this.parentId=e.parentId,this.imageId=e.imageId,this.icon=e.icon,this.code=e.code,this.label=e.label,this.tags=e.tags,this.path=e.path.map(t=>new l({...t})).sort((t,i)=>i.index-t.index),this.groupsIds=e.groupsIds.slice(),this.deviceOrganisationsIds=e.deviceOrganisationsIds.slice(),this.modelsIds=e.modelsIds.slice(),this.recursiveGroupsIds=e.recursiveGroupsIds.slice(),this.recursiveDeviceOrganisationsIds=e.recursiveDeviceOrganisationsIds.slice(),this.recursiveModelsIds=e.recursiveModelsIds.slice()}}class u extends a{constructor(e){super(e),this.parentIcon=e.parentIcon,this.parentLabel=e.parentLabel}}const d=()=>`${I()}/groups`,o=s=>`${d()}/${encodeURIComponent(s)}`,r=new c("group",u).create(s=>s.build(s.addGet(o),s.addGetMany(d,a),s.addCreate(d),s.addUpdate(o),s.addRemove(o),s.addNotify(e=>({...c.addCustom("changeParent",(t,i,h)=>t.put(o(i),h),t=>{const i=new u(t);return e.notify("update",i),i})})))),C=n.get(r),R=n.getMany(r);n.custom(r.changeParent);export{C as a,R as u};
