import{j as $,e as g,I as u,J as v,K as S,L as r,A as t,O as h,P as b,N as A,d as z,B as w,X,M as W,Z as L,F as O,x as M,C as ie,a6 as se,W as j}from"./vue.esm-bundler-01006032.js";import{a as G,b as le,F as ue}from"./FSStatusesCarousel-77d9b052.js";import{F as q}from"./FSButton-be94d44f.js";import{F as J}from"./FSCard-8fcd8e1e.js";import{F as Y}from"./FSChip-f497d1b7.js";import{F as P}from"./FSText-b54d9278.js";import{_ as N}from"./FSSpan-6e79caf3.js";import{_ as y}from"./FSCol-c97fad61.js";import{_ as F}from"./FSRow-83e75060.js";import{u as Z}from"./useTranslations-e38f43a5.js";import{u as K}from"./useAppTimeZone-14b58e87.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{V as H}from"./VMenu-4c05ddd6.js";import{C}from"./useColors-13ed6ee6.js";import{b as de,a as ce}from"./color-8c62b342.js";import{m as me,g as fe,u as pe}from"./useRender-4bcbb6ac.js";import{I as ve,m as ge}from"./tag-1f5f74bd.js";import{a as Se}from"./locale-903ef8d8.js";import{a as Fe,b as ye}from"./loader-878147ed.js";import{m as Ce,u as he}from"./rounded-9001edc0.js";import{p as be,J as $e,V as _e,aa as Ae}from"./theme-a26d2375.js";import{m as Ie,M as we}from"./transition-9c7eb302.js";import{V as Te}from"./VIcon-17be8ae5.js";import{F as ke}from"./FSDivider-df47992b.js";import{F as Ve}from"./FSImage-bcb6e763.js";import{F as qe}from"./FSTile-1cd334db.js";import{u as Ne}from"./css-279a0029.js";var l=(e=>(e[e.None=0]="None",e[e.Pending=1]="Pending",e[e.Untriggered=2]="Untriggered",e[e.Unresolved=3]="Unresolved",e[e.Resolved=4]="Resolved",e[e.Expired=5]="Expired",e[e.Triggered=6]="Triggered",e[e.Abandoned=7]="Abandoned",e))(l||{}),T=(e=>(e[e.None=0]="None",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e))(T||{}),I=(e=>(e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.PartiallyConnected=2]="PartiallyConnected",e[e.AlmostOffline=3]="AlmostOffline",e[e.Offline=4]="Offline",e))(I||{});const{$tr:V}=Z(),Be=e=>{switch(e){case I.Connected:return V("ui.connectivity-status.connected","Connected");case I.PartiallyConnected:return V("ui.connectivity-status.partially-connected","Partially connected");case I.AlmostOffline:return V("ui.connectivity-status.almost-offline","Almost offline");default:return V("ui.connectivity-status.offline","Offline")}},Q=$({name:"FSConnectivityCard",components:{FSButton:q,FSCard:J,FSChip:Y,FSText:P,FSSpan:N,FSCol:y,FSRow:F},props:{deviceConnectivity:{type:Object,required:!0}},emit:["close"],setup(e){const{epochToLongTimeFormat:n}=K();return{deviceTimestamp:g(()=>e.deviceConnectivity.sourceTimestamp?n(e.deviceConnectivity.sourceTimestamp):""),connectivityLabel:Be}}});function De(e,n,i,f,p,d){const c=u("FSChip"),s=u("FSText"),o=u("FSCard");return v(),S(o,{padding:"2px 2px 8px 2px",elevation:!0,border:!1},{default:r(()=>[t(y,{align:"center-center"},{default:r(()=>[t(y,{align:"center-center",gap:"0px"},{default:r(()=>[t(F,{align:"center-right"},{default:r(()=>[t(q,{icon:"mdi-close",variant:"icon",onClick:n[0]||(n[0]=a=>e.$emit("close"))})]),_:1}),t(y,{align:"center-center",padding:"0px 24px",gap:"12px"},{default:r(()=>[t(c,{prependIcon:e.$props.deviceConnectivity.icon,color:e.$props.deviceConnectivity.color,label:e.connectivityLabel(e.$props.deviceConnectivity.status)},null,8,["prependIcon","color","label"]),t(F,{width:"hug"},{default:r(()=>[t(s,null,{default:r(()=>[h(b(e.$tr("ui.shared.device-connectivity.last-message","Last message")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e.deviceTimestamp?(v(),S(F,{key:0,padding:"0px 24px",width:"hug"},{default:r(()=>[t(N,{font:"text-overline"},{default:r(()=>[h(b(e.deviceTimestamp),1)]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})}const We=_(Q,[["render",De]]);Q.__docgenInfo={displayName:"FSConnectivityCard",exportName:"default",description:"",tags:{},props:[{name:"deviceConnectivity",type:{name:"FSDeviceConnectivity"},required:!0}],events:[{name:"close"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSConnectivityCard.vue"]};const ee=$({name:"FSConnectivity",components:{FSConnectivityCard:We,FSColorIcon:G},props:{deviceConnectivity:{type:Object,required:!0}},setup(){return{menu:z(!1)}}});function Oe(e,n,i,f,p,d){const c=u("FSColorIcon"),s=u("FSConnectivityCard");return v(),S(H,{closeOnContentClick:!1,modelValue:e.menu,"onUpdate:modelValue":n[2]||(n[2]=o=>e.menu=o)},{activator:r(({props:o})=>[t(c,w({class:"fs-stopclick",size:"m",color:e.$props.deviceConnectivity.color,onClick:n[0]||(n[0]=X(()=>{},["prevent","stop"]))},o),{default:r(()=>[h(b(e.$props.deviceConnectivity.icon),1)]),_:2},1040,["color"])]),default:r(()=>[t(s,{deviceConnectivity:e.$props.deviceConnectivity,onClose:n[1]||(n[1]=o=>e.menu=!1)},null,8,["deviceConnectivity"])]),_:1},8,["modelValue"])}const Pe=_(ee,[["render",Oe]]);ee.__docgenInfo={displayName:"FSConnectivity",exportName:"default",description:"",tags:{},props:[{name:"deviceConnectivity",type:{name:"FSDeviceConnectivity"},required:!0}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSConnectivity.vue"]};const te=$({name:"FSStatusesRow",components:{FSStatus:le,FSRow:F},props:{modelStatuses:{type:Array,required:!0},deviceStatuses:{type:Array,required:!0}},setup(e){return{deviceStatus:i=>{const f=e.deviceStatuses.find(p=>p.modelStatusId===i.id);return f!=null?f.statusGroups:i.showDefault?[{label:i.label,icon:i.iconDefault,color:i.colorDefault}]:[]}}}});function Re(e,n,i,f,p,d){const c=u("FSStatus");return v(!0),W(O,null,L(e.$props.modelStatuses,(s,o)=>(v(),S(F,{align:"center-center",width:"hug",gap:"4px",key:o,wrap:!1},{default:r(()=>[(v(!0),W(O,null,L(e.deviceStatus(s),(a,m)=>(v(),S(c,{modelStatus:s,statusGroup:a,key:m},null,8,["modelStatus","statusGroup"]))),128))]),_:2},1024))),128)}const Ue=_(te,[["render",Re]]);te.__docgenInfo={displayName:"FSStatusesRow",exportName:"default",description:"",tags:{},props:[{name:"modelStatuses",type:{name:"FSModelStatus[]"},required:!0},{name:"deviceStatuses",type:{name:"FSDeviceStatus[]"},required:!0}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSStatusesRow.vue"]};const ne=$({name:"FSWorstAlertCard",components:{FSButton:q,FSCard:J,FSChip:Y,FSText:P,FSSpan:N,FSCol:y,FSRow:F},props:{deviceAlert:{type:Object,required:!0}},emits:["close"],setup(e){const{epochToLongTimeFormat:n}=K(),{$tr:i}=Z(),f=g(()=>{var s;switch((s=e.deviceAlert)==null?void 0:s.criticity){case T.Error:return C.Error;case T.Warning:return C.Warning;default:return C.Primary}}),p=g(()=>{var s;switch((s=e.deviceAlert)==null?void 0:s.status){case l.Pending:return"mdi-timer-outline";case l.Untriggered:return"mdi-timer-off-outline";case l.Unresolved:return"mdi-alert-circle-outline";case l.Resolved:return"mdi-check-circle-outline";case l.Expired:return"mdi-clock-outline";case l.Triggered:return"mdi-alert-circle-outline";case l.Abandoned:return"mdi-cancel";default:return""}}),d=g(()=>{var s;switch((s=e.deviceAlert)==null?void 0:s.status){case l.Pending:return i("ui.alert-status.pending","Pending");case l.Untriggered:return i("ui.alert-status.untriggered","Untriggered");case l.Unresolved:return i("ui.alert-status.unresolved","Unresolved");case l.Resolved:return i("ui.alert-status.resolved","Resolved");case l.Expired:return i("ui.alert-status.expired","Expired");case l.Triggered:return i("ui.alert-status.triggered","Triggered");case l.Abandoned:return i("ui.alert-status.abandoned","Abandoned");default:return""}});return{deviceTimestamp:g(()=>e.deviceAlert.sourceTimestamp?n(e.deviceAlert.sourceTimestamp):""),criticityColor:f,statusLabel:d,statusIcon:p}}});function Ee(e,n,i,f,p,d){const c=u("FSChip"),s=u("FSText"),o=u("FSCard");return v(),S(o,{padding:"2px 2px 8px 2px",elevation:!0,border:!1},{default:r(()=>[t(y,{align:"center-center"},{default:r(()=>[t(y,{align:"center-center",gap:"0px"},{default:r(()=>[t(F,{align:"center-right"},{default:r(()=>[t(q,{icon:"mdi-close",variant:"icon",onClick:n[0]||(n[0]=a=>e.$emit("close"))})]),_:1}),t(y,{align:"center-center",padding:"0px 24px",gap:"12px"},{default:r(()=>[t(c,{label:e.$props.deviceAlert.label,prependIcon:e.statusIcon,color:e.criticityColor},null,8,["label","prependIcon","color"]),t(F,{width:"hug"},{default:r(()=>[t(s,null,{default:r(()=>[h(b(e.statusLabel),1)]),_:1})]),_:1})]),_:1})]),_:1}),e.deviceTimestamp?(v(),S(F,{key:0,padding:"0px 24px",width:"hug"},{default:r(()=>[t(N,{font:"text-overline"},{default:r(()=>[h(b(e.deviceTimestamp),1)]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})}const xe=_(ne,[["render",Ee]]);ne.__docgenInfo={displayName:"FSWorstAlertCard",exportName:"default",description:"",tags:{},props:[{name:"deviceAlert",type:{name:"FSDeviceAlert"},required:!0}],events:[{name:"close"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSWorstAlertCard.vue"]};const re=$({name:"FSBadge",props:{content:{type:String,required:!1,default:null},color:{type:String,required:!1,default:C.Primary}}});const Le=be({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ve,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...me(),...Fe({location:"top end"}),...Ce(),...ge(),...$e(),...Ie({transition:"scale-rotate-transition"})},"VBadge"),Me=fe()({name:"VBadge",inheritAttrs:!1,props:Le(),setup(e,n){const{backgroundColorClasses:i,backgroundColorStyles:f}=de(M(e,"color")),{roundedClasses:p}=he(e),{t:d}=Se(),{textColorClasses:c,textColorStyles:s}=ce(M(e,"textColor")),{themeClasses:o}=_e(),{locationStyles:a}=ye(e,!0,m=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(m)?+(e.offsetY??0):["left","right"].includes(m)?+(e.offsetX??0):0));return pe(()=>{const m=Number(e.content),k=!e.max||isNaN(m)?e.content:m<=+e.max?m:`${e.max}+`,[B,D]=Ae(n.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return t(e.tag,w({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},D,{style:e.style}),{default:()=>{var R,U;return[t("div",{class:"v-badge__wrapper"},[(U=(R=n.slots).default)==null?void 0:U.call(R),t(we,{transition:e.transition},{default:()=>{var E,x;return[ie(t("span",w({class:["v-badge__badge",o.value,i.value,p.value,c.value],style:[f.value,s.value,e.inline?{}:a.value],"aria-atomic":"true","aria-label":d(e.label,m),"aria-live":"polite",role:"status"},B),[e.dot?void 0:n.slots.badge?(x=(E=n.slots).badge)==null?void 0:x.call(E):e.icon?t(Te,{icon:e.icon},null):k]),[[se,e.modelValue]])]}})])]}})}),{}}});function je(e,n,i,f,p,d){return e.$props.content?(v(),S(Me,{key:0,content:e.$props.content,color:e.$props.color,bordered:!0},{default:r(()=>[j(e.$slots,"default")]),_:3},8,["content","color"])):j(e.$slots,"default",{key:1})}const ze=_(re,[["render",je]]);re.__docgenInfo={displayName:"FSBadge",exportName:"default",description:"",tags:{},props:[{name:"content",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSBadge.vue"]};const oe=$({name:"FSWorstAlert",components:{FSWorstAlertCard:xe,FSColorIcon:G,FSBadge:ze},props:{deviceAlert:{type:Object,required:!0},deviceAlerts:{type:Number,required:!1,default:0}},setup(e){const n=z(!1),i=g(()=>{var d;switch((d=e.deviceAlert)==null?void 0:d.criticity){case T.Error:return C.Error;case T.Warning:return C.Warning;default:return C.Primary}}),f=g(()=>{var d;switch((d=e.deviceAlert)==null?void 0:d.status){case l.Pending:return"mdi-timer-outline";case l.Untriggered:return"mdi-timer-off-outline";case l.Unresolved:return"mdi-alert-circle-outline";case l.Resolved:return"mdi-check-circle-outline";case l.Expired:return"mdi-clock-outline";case l.Triggered:return"mdi-alert-circle-outline";case l.Abandoned:return"mdi-cancel";default:return""}}),p=g(()=>e.deviceAlerts<1?null:e.deviceAlerts>8?"9+":(e.deviceAlerts+1).toString());return{criticityColor:i,statusIcon:f,badgeLabel:p,menu:n}}});function Xe(e,n,i,f,p,d){const c=u("FSColorIcon"),s=u("FSBadge"),o=u("FSWorstAlertCard");return v(),S(H,{closeOnContentClick:!1,modelValue:e.menu,"onUpdate:modelValue":n[2]||(n[2]=a=>e.menu=a)},{activator:r(({props:a})=>[t(s,{content:e.badgeLabel,color:e.criticityColor},{default:r(()=>[t(c,w({class:"fs-stopclick",size:"m",color:e.criticityColor,onClick:n[0]||(n[0]=X(()=>{},["prevent","stop"]))},a),{default:r(()=>[h(b(e.statusIcon),1)]),_:2},1040,["color"])]),_:2},1032,["content","color"])]),default:r(()=>[t(o,{deviceAlert:e.deviceAlert,onClose:n[1]||(n[1]=a=>e.menu=!1)},null,8,["deviceAlert"])]),_:1},8,["modelValue"])}const Ge=_(oe,[["render",Xe]]);oe.__docgenInfo={displayName:"FSWorstAlert",exportName:"default",description:"",tags:{},props:[{name:"deviceAlert",type:{name:"FSDeviceAlert"},required:!0},{name:"deviceAlerts",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"0"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSWorstAlert.vue"]};const ae=$({name:"FSDeviceOrganisationTileUI",components:{FSStatusesCarousel:ue,FSConnectivity:Pe,FSStatusesRow:Ue,FSWorstAlert:Ge,FSDivider:ke,FSImage:Ve,FSText:P,FSTile:qe,FSCol:y,FSRow:F},props:{imageId:{type:String,required:!1,default:null},label:{type:String,required:!1,default:null},code:{type:String,required:!1,default:null},deviceConnectivity:{type:Object,required:!1,default:null},deviceWorstAlert:{type:Object,required:!1,default:null},deviceAlerts:{type:Array,required:!1,default:()=>[]},modelStatuses:{type:Array,required:!0,default:()=>[]},deviceStatuses:{type:Array,required:!0,default:()=>[]},modelValue:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!1,default:!0}},setup(e){const{isMobileSized:n}=Ne(),i=g(()=>e.modelStatuses.filter(o=>!(!o.inline||o.groupById||!o.showDefault&&!e.deviceStatuses.some(a=>a.modelStatusId===o.id))).slice(0,4).sort((o,a)=>o.index-a.index)),f=g(()=>e.deviceStatuses.filter(o=>i.value.some(a=>a.id===o.modelStatusId))),p=g(()=>{const o=e.modelStatuses.filter(a=>!(!a.inline||a.groupById)).slice(0,4);return e.modelStatuses.filter(a=>!(o.some(m=>a.id===m.id)||!a.showDefault&&!e.deviceStatuses.some(m=>m.modelStatusId===a.id))).sort((a,m)=>a.index+(a.inline?m.index:0)-m.index)}),d=g(()=>e.deviceStatuses.filter(o=>p.value.some(a=>a.id===o.modelStatusId))),c=g(()=>n.value?90:100),s=g(()=>{let o=n.value?288:304;return e.imageId&&(o-=c.value),o});return{ColorEnum:C,lineModelStatuses:i,lineDeviceStatuses:f,ConnectivityStatus:I,carouselModelStatuses:p,carouselDeviceStatuses:d,imageSize:c,infoWidth:s}}});function Je(e,n,i,f,p,d){const c=u("FSText"),s=u("FSConnectivity"),o=u("FSWorstAlert"),a=u("FSStatusesRow"),m=u("FSImage"),k=u("FSDivider"),B=u("FSStatusesCarousel"),D=u("FSTile");return v(),S(D,w({bottomColor:e.ColorEnum.Primary,editable:e.$props.editable,modelValue:e.$props.modelValue},e.$attrs),{default:r(()=>[t(y,{align:"center-center",width:"fill"},{default:r(()=>[t(F,{align:"center-center",gap:"24px",wrap:!1,height:e.imageSize},{default:r(()=>[t(y,{gap:"12px"},{default:r(()=>[t(y,{gap:"6px",width:e.infoWidth},{default:r(()=>[t(c,{font:"text-button",lineClamp:2},{default:r(()=>[h(b(e.$props.label),1)]),_:1}),t(c,{font:"text-overline",variant:"light"},{default:r(()=>[h(b(e.$props.code),1)]),_:1})]),_:1},8,["width"]),t(F,{gap:"4px"},{default:r(()=>[e.$props.deviceConnectivity&&e.$props.deviceConnectivity.status!=e.ConnectivityStatus.None?(v(),S(s,{key:0,deviceConnectivity:e.$props.deviceConnectivity},null,8,["deviceConnectivity"])):A("",!0),e.$props.deviceWorstAlert?(v(),S(o,{key:1,deviceAlert:e.$props.deviceWorstAlert,deviceAlerts:e.$props.deviceAlerts.length},null,8,["deviceAlert","deviceAlerts"])):A("",!0),t(a,{modelStatuses:e.lineModelStatuses,deviceStatuses:e.lineDeviceStatuses},null,8,["modelStatuses","deviceStatuses"])]),_:1})]),_:1}),e.$props.imageId?(v(),S(m,{key:0,imageId:e.$props.imageId,width:e.imageSize},null,8,["imageId","width"])):A("",!0)]),_:1},8,["height"]),e.carouselModelStatuses.length?(v(),W(O,{key:0},[t(k),t(B,{modelStatuses:e.carouselModelStatuses,deviceStatuses:e.carouselDeviceStatuses},null,8,["modelStatuses","deviceStatuses"])],64)):A("",!0)]),_:1})]),_:1},16,["bottomColor","editable","modelValue"])}const bt=_(ae,[["render",Je]]);ae.__docgenInfo={displayName:"FSDeviceOrganisationTileUI",exportName:"default",description:"",tags:{},props:[{name:"imageId",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"code",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceConnectivity",type:{name:"FSDeviceConnectivity"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceWorstAlert",type:{name:"FSDeviceAlert"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceAlerts",type:{name:"FSDeviceAlert[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"modelStatuses",type:{name:"FSModelStatus[]"},required:!0,defaultValue:{func:!0,value:"() => []"}},{name:"deviceStatuses",type:{name:"FSDeviceStatus[]"},required:!0,defaultValue:{func:!0,value:"() => []"}},{name:"modelValue",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/tiles/FSDeviceOrganisationTileUI.vue"]};export{bt as F};
