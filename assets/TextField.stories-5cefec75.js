import{g as Ce,f as y,l,O as ee,V as fe,B as O,z as Fe,w as Ve,F as W,x as E,P as Se,W as Ie,Q as ae,o as Pe,j as Re}from"./vue.esm-bundler-df2b59eb.js";import{_ as Te,b as we,p as M,j as te,g as U,u as z,i as Q,F as X,q as $e,s as Be,B as ke,z as Oe,v as Ee,w as Ne,G as je,H as qe,J as Le,C as Ae,K as De,c as We}from"./FSRow-a4346a5f.js";import{_ as Me}from"./FSCol-d95b6bbf.js";import{b as Ue,c as ze}from"./index-6f1c38e0.js";import{b as Ge,M as He,V as Je,c as Ke,u as ve,d as Qe,m as Xe,a as re}from"./VLabel-fd98cb8e.js";import{m as Ye,c as Ze,u as et,L as tt,b as nt}from"./loader-f4b8bce6.js";import{a as lt,b as at}from"./rounded-801f8536.js";import{n as rt,a as ot,s as st}from"./easing-9998643d.js";const me=Ce({name:"FSTextField",components:{FSSpan:Te,FSRow:we,FSCol:Me},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},value:{type:String,required:!1,default:null},color:{type:String,required:!1,default:null},editable:{type:Boolean,required:!1,default:!0}},setup(e,{emit:r}){return{}}});const it=M({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...te(),...Ge({transition:{component:Ue}})},"VCounter"),ut=U()({name:"VCounter",functional:!0,props:it(),setup(e,r){let{slots:a}=r;const s=y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return z(()=>l(He,{transition:e.transition},{default:()=>[ee(l("div",{class:["v-counter",e.class],style:e.style},[a.default?a.default({counter:s.value,max:e.max,value:e.value}):s.value]),[[fe,e.active]])]})),{}}});const ct=M({floating:Boolean,...te()},"VFieldLabel"),L=U()({name:"VFieldLabel",props:ct(),setup(e,r){let{slots:a}=r;return z(()=>l(Je,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),dt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ge=M({appendInnerIcon:Q,bgColor:String,clearable:Boolean,clearIcon:{type:Q,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Q,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>dt.includes(e)},"onClick:clear":X(),"onClick:appendInner":X(),"onClick:prependInner":X(),...te(),...Ye(),...lt(),...$e()},"VField"),be=U()({name:"VField",inheritAttrs:!1,props:{id:String,...Ke(),...ge()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,r){let{attrs:a,emit:s,slots:t}=r;const{themeClasses:n}=Be(e),{loaderClasses:o}=Ze(e),{focusClasses:u,isFocused:d,focus:c,blur:m}=ve(e),{InputIcon:f}=Qe(e),{roundedClasses:S}=at(e),{rtlClasses:P}=et(),R=y(()=>e.dirty||e.active),_=y(()=>!e.singleLine&&!!(e.label||t.label)),G=ke(),g=y(()=>e.id||`input-${G}`),H=y(()=>`${g.value}-messages`),N=O(),T=O(),j=O(),i=y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:h,backgroundColorStyles:x}=Oe(Fe(e,"bgColor")),{textColorClasses:C,textColorStyles:J}=Ee(y(()=>e.error||e.disabled?void 0:R.value&&d.value?e.color:e.baseColor));Ve(R,b=>{if(_.value){const v=N.value.$el,F=T.value.$el;requestAnimationFrame(()=>{const V=rt(v),p=F.getBoundingClientRect(),$=p.x-V.x,B=p.y-V.y-(V.height/2-p.height/2),I=p.width/.75,k=Math.abs(I-V.width)>1?{maxWidth:Ne(I)}:void 0,q=getComputedStyle(v),le=getComputedStyle(F),he=parseFloat(q.transitionDuration)*1e3||150,xe=parseFloat(le.getPropertyValue("--v-field-label-scale")),_e=le.getPropertyValue("color");v.style.visibility="visible",F.style.visibility="hidden",ot(v,{transform:`translate(${$}px, ${B}px) scale(${xe})`,color:_e,...k},{duration:he,easing:st,direction:b?"normal":"reverse"}).finished.then(()=>{v.style.removeProperty("visibility"),F.style.removeProperty("visibility")})})}},{flush:"post"});const w=y(()=>({isActive:R,isFocused:d,controlRef:j,blur:m,focus:c}));function K(b){b.target!==document.activeElement&&b.preventDefault()}return z(()=>{var $,B,I;const b=e.variant==="outlined",v=t["prepend-inner"]||e.prependInnerIcon,F=!!(e.clearable||t.clear),V=!!(t["append-inner"]||e.appendInnerIcon||F),p=()=>t.label?t.label({...w.value,label:e.label,props:{for:g.value}}):e.label;return l("div",E({class:["v-field",{"v-field--active":R.value,"v-field--appended":V,"v-field--center-affix":e.centerAffix??!i.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":v,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!p(),[`v-field--variant-${e.variant}`]:!0},n.value,h.value,u.value,o.value,S.value,P.value,e.class],style:[x.value,e.style],onClick:K},a),[l("div",{class:"v-field__overlay"},null),l(tt,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),v&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(f,{key:"prepend-icon",name:"prependInner"},null),($=t["prepend-inner"])==null?void 0:$.call(t,w.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&_.value&&l(L,{key:"floating-label",ref:T,class:[C.value],floating:!0,for:g.value,style:J.value},{default:()=>[p()]}),l(L,{ref:N,for:g.value},{default:()=>[p()]}),(B=t.default)==null?void 0:B.call(t,{...w.value,props:{id:g.value,class:"v-field__input","aria-describedby":H.value},focus:c,blur:m})]),F&&l(ze,{key:"clear"},{default:()=>[ee(l("div",{class:"v-field__clearable",onMousedown:k=>{k.preventDefault(),k.stopPropagation()}},[t.clear?t.clear():l(f,{name:"clear"},null)]),[[fe,e.dirty]])]}),V&&l("div",{key:"append",class:"v-field__append-inner"},[(I=t["append-inner"])==null?void 0:I.call(t,w.value),e.appendInnerIcon&&l(f,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",C.value],style:J.value},[b&&l(W,null,[l("div",{class:"v-field__outline__start"},null),_.value&&l("div",{class:"v-field__outline__notch"},[l(L,{ref:T,floating:!0,for:g.value},{default:()=>[p()]})]),l("div",{class:"v-field__outline__end"},null)]),i.value&&_.value&&l(L,{ref:T,floating:!0,for:g.value},{default:()=>[p()]})])])}),{controlRef:j}}});function ft(e){const r=Object.keys(be.props).filter(a=>!je(a)&&a!=="class"&&a!=="style");return qe(e,r)}const Y=Symbol("Forwarded refs");function Z(e,r){let a=e;for(;a;){const s=Reflect.getOwnPropertyDescriptor(a,r);if(s)return s;a=Object.getPrototypeOf(a)}}function vt(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return e[Y]=a,new Proxy(e,{get(t,n){if(Reflect.has(t,n))return Reflect.get(t,n);if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const o of a)if(o.value&&Reflect.has(o.value,n)){const u=Reflect.get(o.value,n);return typeof u=="function"?u.bind(o.value):u}}},has(t,n){if(Reflect.has(t,n))return!0;if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const o of a)if(o.value&&Reflect.has(o.value,n))return!0;return!1},set(t,n,o){if(Reflect.has(t,n))return Reflect.set(t,n,o);if(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))return!1;for(const u of a)if(u.value&&Reflect.has(u.value,n))return Reflect.set(u.value,n,o);return!1},getOwnPropertyDescriptor(t,n){var u;const o=Reflect.getOwnPropertyDescriptor(t,n);if(o)return o;if(!(typeof n=="symbol"||n.startsWith("$")||n.startsWith("__"))){for(const d of a){if(!d.value)continue;const c=Z(d.value,n)??("_"in d.value?Z((u=d.value._)==null?void 0:u.setupState,n):void 0);if(c)return c}for(const d of a){const c=d.value&&d.value[Y];if(!c)continue;const m=c.slice();for(;m.length;){const f=m.shift(),S=Z(f.value,n);if(S)return S;const P=f.value&&f.value[Y];P&&m.push(...P)}}}}})}function mt(e,r){if(!Le)return;const a=r.modifiers||{},s=r.value,{handler:t,options:n}=typeof s=="object"?s:{handler:s,options:{}},o=new IntersectionObserver(function(){var f;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;const c=(f=e._observe)==null?void 0:f[r.instance.$.uid];if(!c)return;const m=u.some(S=>S.isIntersecting);t&&(!a.quiet||c.init)&&(!a.once||m||c.init)&&t(m,u,d),m&&a.once?pe(e,r):c.init=!0},n);e._observe=Object(e._observe),e._observe[r.instance.$.uid]={init:!1,observer:o},o.observe(e)}function pe(e,r){var s;const a=(s=e._observe)==null?void 0:s[r.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[r.instance.$.uid])}const gt={mounted:mt,unmounted:pe},bt=gt,pt=["color","file","time","date","datetime-local","week","month"],yt=M({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Xe(),...ge()},"VTextField"),ht=U()({name:"VTextField",directives:{Intersect:bt},inheritAttrs:!1,props:yt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,r){let{attrs:a,emit:s,slots:t}=r;const n=nt(e,"modelValue"),{isFocused:o,focus:u,blur:d}=ve(e),c=y(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:(n.value??"").toString().length),m=y(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=y(()=>["plain","underlined"].includes(e.variant));function S(i,h){var x,C;!e.autofocus||!i||(C=(x=h[0].target)==null?void 0:x.focus)==null||C.call(x)}const P=O(),R=O(),_=O(),G=y(()=>pt.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function g(){var i;_.value!==document.activeElement&&((i=_.value)==null||i.focus()),o.value||u()}function H(i){s("mousedown:control",i),i.target!==_.value&&(g(),i.preventDefault())}function N(i){g(),s("click:control",i)}function T(i){i.stopPropagation(),g(),ae(()=>{n.value=null,De(e["onClick:clear"],i)})}function j(i){var x;const h=i.target;if(n.value=h.value,(x=e.modelModifiers)!=null&&x.trim&&["text","search","password","tel","url"].includes(e.type)){const C=[h.selectionStart,h.selectionEnd];ae(()=>{h.selectionStart=C[0],h.selectionEnd=C[1]})}}return z(()=>{const i=!!(t.counter||e.counter!==!1&&e.counter!=null),h=!!(i||t.details),[x,C]=Ae(a),{modelValue:J,...w}=re.filterProps(e),K=ft(e);return l(re,E({ref:P,modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":f.value},e.class],style:e.style},x,w,{centerAffix:!f.value,focused:o.value}),{...t,default:b=>{let{id:v,isDisabled:F,isDirty:V,isReadonly:p,isValid:$}=b;return l(be,E({ref:R,onMousedown:H,onClick:N,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},K,{id:v.value,active:G.value||V.value,dirty:V.value||e.dirty,disabled:F.value,focused:o.value,error:$.value===!1}),{...t,default:B=>{let{props:{class:I,...k}}=B;const q=ee(l("input",E({ref:_,value:n.value,onInput:j,autofocus:e.autofocus,readonly:p.value,disabled:F.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:d},k,C),null),[[Se("intersect"),{handler:S},null,{once:!0}]]);return l(W,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?l("div",{class:I,"data-no-activator":""},[t.default(),q]):Ie(q,{class:I}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:h?b=>{var v;return l(W,null,[(v=t.details)==null?void 0:v.call(t,b),i&&l(W,null,[l("span",null,null),l(ut,{active:e.persistentCounter||o.value,value:c.value,max:m.value},t.counter)])])}:void 0})}),vt({},P,R,_)}});function xt(e,r,a,s,t,n){return Pe(),Re(ht,E({class:"fs-text-field",variant:"outlined","hide-details":""},e.$attrs),null,16)}const ne=We(me,[["render",xt]]);me.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"value",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSTextField.vue"]};const Tt={title:"Foundation/TextField",component:ne,tags:["autodocs"],argTypes:{onClick:{action:"clicked"}}},ye=`
<v-container fluid class="pa-0 ma-0" style="display: flex;">
  <TextField v-bind="args" />
</v-container>
`,A={args:{args:{label:"Editable",full:!1,value:"Bonjour",color:"primary",editable:!0}},render:(e,{argTypes:r})=>({components:{TextField:ne},props:Object.keys(r),setup(){return{...e}},template:ye})},D={args:{args:{label:"Not Editable",full:!0,color:"warning",editable:!1}},render:(e,{argTypes:r})=>({components:{TextField:ne},props:Object.keys(r),setup(){return{...e}},template:ye})};var oe,se,ie;A.parameters={...A.parameters,docs:{...(oe=A.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    args: {
      label: "Editable",
      full: false,
      value: "Bonjour",
      color: "primary",
      editable: true
    }
  },
  render: (args, {
    argTypes
  }) => ({
    components: {
      TextField
    },
    props: Object.keys(argTypes),
    setup() {
      return {
        ...args
      };
    },
    template
  })
}`,...(ie=(se=A.parameters)==null?void 0:se.docs)==null?void 0:ie.source}}};var ue,ce,de;D.parameters={...D.parameters,docs:{...(ue=D.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  args: {
    args: {
      label: "Not Editable",
      full: true,
      color: "warning",
      editable: false
    }
  },
  render: (args, {
    argTypes
  }) => ({
    components: {
      TextField
    },
    props: Object.keys(argTypes),
    setup() {
      return {
        ...args
      };
    },
    template
  })
}`,...(de=(ce=D.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};const wt=["Editable","NotEditable"];export{A as Editable,D as NotEditable,wt as __namedExportsOrder,Tt as default};
