import{d as $,w as L,y as n,z as S,A as F,M as _,N as h,B as o,m as w,I as A,J as N,K as q,D as U,L as i,E as I,G as y}from"./vue.esm-bundler-Vj2X7okO.js";import{_ as E}from"./lodash-BiW_TGGX.js";import{F as k}from"./FSDataTable-ByS6eBsk.js";import{_ as d}from"./FSSpan-etgUZXmX.js";import{F as B}from"./FSImage-xcHxoARe.js";import{F as D}from"./FSTagGroup-DJm-CAER.js";import{F as G}from"./FSIconCheck-B4z6jzzg.js";import{F as P}from"./FSUserOrganisationTileUI-9W720RHN.js";import{u as z}from"./useTranslations-DyPMaPr_.js";import{a as M}from"./useUserOrganisations-BVLle-2A.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-BosuxZz1.js";import"./VImg-BXfgvzNq.js";import"./css-CbCR1nbl.js";import"./useColors-ClJ5KOuK.js";import"./index-3zl-tJp_.js";import"./theme-DqOMA9k1.js";import"./color-Dk23S21P.js";import"./dimensions-CBrtQk_X.js";import"./elevation-DH7kyzD7.js";import"./locale-CMOn_BOp.js";import"./rounded-B-50KYhN.js";import"./transition-Cs7QtK7U.js";import"./index-DQeMThUY.js";import"./FSCol-Bk577joi.js";import"./FSRow-BuYwVvwM.js";import"./VSpacer-BJ2TWwuy.js";import"./FSDataTableUI-CWLbUHmv.js";import"./vue-router-Cn9ishJ4.js";import"./uuid-DTaye2KM.js";import"./FSCheckbox-CEveiKls.js";import"./FSIcon-C5J86pUk.js";import"./VIcon-Dc5M3VhK.js";import"./tag-BDy8Psij.js";import"./useRules-DpnTqc7T.js";import"./VSelectionControl-BYXKZDmZ.js";import"./density-BWgXlOb-.js";import"./proxiedModel-CZPY81Tp.js";import"./index-BN7Lbnw3.js";import"./VLabel-CtKTiIK0.js";import"./VInput-CifUC8kS.js";import"./index-7QBgy7JM.js";import"./form-BN2rR47-.js";import"./FSCard-CD3PuQHv.js";import"./FSText-BFkdlBCz.js";import"./useSlots-DXmhvOIb.js";import"./FSSearchField-DQjooe7z.js";import"./FSTextField-BxQZ_6yr.js";import"./FSBaseField-Na9zArMU.js";import"./FSButton-DypSO1L1.js";import"./FSClickable-HpeyF8B8.js";import"./VProgressCircular-BALYDMME.js";import"./VField-C1LOclAH.js";import"./loader-DsDTT_wf.js";import"./anchor-J8DF-zwD.js";import"./VDefaultsProvider-3kZaGa5j.js";import"./forwardRefs-DWGaNmQL.js";import"./FSSelectField-Df_Hyyw7.js";import"./FSDialogMenu-BLjBa2f5.js";import"./VDialog-skjiTtId.js";import"./VOverlay-Dml741yE.js";import"./display-B4Z--0w1.js";import"./lazy-Ceu0wY4v.js";import"./router-DPbzaFf1.js";import"./FSSlideGroup-DJuMPLhX.js";import"./group-CT1H1YXM.js";import"./FSToggleSet-_rtSdk97.js";import"./FSWrapGroup-WFgHTW5y.js";import"./FSFadeOut-k2izDgAG.js";import"./FSRadio-DUmD3b7i.js";import"./VList-C3UDUNRO.js";import"./ssrBoot-D42UTWSS.js";import"./border-BD8WTLKh.js";import"./VSelect-D4M3PHT5.js";import"./VMenu-BOpQjLNS.js";import"./FSDivider-D-_vZpJK.js";import"./FSChip-Cy1QD-MY.js";import"./FSOptionGroup-CNdXJuEX.js";import"./VBtn-8V3HVfv8.js";import"./filter-KqM1uUBX.js";import"./base-Cf5ASDDk.js";import"./useAppOrganisationId-Cm3pwMtR.js";import"./serviceFactory-Bd5jifNi.js";import"./composableFactory-B0937_6N.js";import"./FSImageUI-oKoqxlvk.js";import"./base-CmdGny12.js";import"./FSTag-Du2B_Py4.js";import"./FSTile-DHr5L1WJ.js";import"./permissionInfos-BPDgTHQl.js";var l=(e=>(e[e.User=0]="User",e[e.ServiceAccount=1]="ServiceAccount",e[e.Extension=2]="Extension",e))(l||{}),s=(e=>(e[e.InvitationNotSent=0]="InvitationNotSent",e[e.InvitationSent=1]="InvitationSent",e[e.AccountCreated=17]="AccountCreated",e[e.AccountValidated=273]="AccountValidated",e))(s||{});const{$tr:r}=z(),j=e=>{switch(e){case l.User:return r("ui.user-type.user","User");case l.ServiceAccount:return r("ui.user-type.service-account","Service account");case l.Extension:return r("ui.user-type.extension","Extension")}},x=e=>{switch(e){case s.InvitationNotSent:return r("ui.user-validity.invitation-not-sent","Invitation not sent");case s.InvitationSent:return r("ui.user-validity.invitation-sent","Invitation sent");case s.AccountCreated:return r("ui.user-validity.account-created","Not validated");case s.AccountValidated:return r("ui.user-validity.account-validated","Validated")}},T=$({name:"FSBaseUserOrganisationsList",components:{FSDataTable:k,FSImage:B,FSUserOrganisationTileUI:P,FSSpan:d,FSTagGroup:D,FSIconCheck:G},props:{userOrganisationsFilters:{type:Object,required:!1,default:null},modelValue:{type:Array,required:!1,default:()=>[]},itemTo:{type:Function,required:!1},tableCode:{type:String,required:!0}},emits:["update:modelValue"],setup(e){const{getMany:m,entities:c}=M(),g=a=>e.modelValue.includes(a);return L(()=>e.userOrganisationsFilters,(a,u)=>{(!a&&!u||!E.isEqual(a,u))&&m(e.userOrganisationsFilters??void 0)},{immediate:!0}),{userOrganisations:c,userValidityLabel:x,userTypeLabel:j,isSelected:g}}});function J(e,m,c,g,a,u){const b=n("FSImage"),f=n("FSIconCheck"),O=n("FSTagGroup"),V=n("FSUserOrganisationTileUI"),C=n("FSDataTable");return S(),F(C,w({items:e.userOrganisations,itemTo:e.$props.itemTo,modelValue:e.$props.modelValue,tableCode:e.$props.tableCode,"onUpdate:modelValue":m[0]||(m[0]=t=>e.$emit("update:modelValue",t))},e.$attrs),_({"item.imageId":o(({item:t})=>[t.imageId?(S(),F(b,{key:0,height:"32px",width:"32px",imageId:t.imageId},null,8,["imageId"])):U("",!0)]),"item.allowEmails":o(({item:t})=>[i(f,{value:t.allowEmails},null,8,["value"])]),"item.allowSms":o(({item:t})=>[i(f,{value:t.allowSms},null,8,["value"])]),"item.tags":o(({item:t})=>[i(O,{variant:"slide",editable:!1,tags:t.tags},null,8,["tags"])]),"item.validity":o(({item:t})=>[i(d,{font:"text-overline"},{default:o(()=>[I(y(e.userValidityLabel(t.validity)),1)]),_:2},1024)]),"item.userType":o(({item:t})=>[i(d,{font:"text-overline"},{default:o(()=>[I(y(e.userTypeLabel(t.userType)),1)]),_:2},1024)]),"item.tile":o(({item:t,toggleSelect:p})=>[i(V,{roleLabel:t.roleLabel,roleIcon:t.roleIcon,userType:t.userType,imageId:t.imageId,admin:t.admin,name:t.name,to:e.$props.itemTo&&e.$props.itemTo(t),modelValue:e.isSelected(t.id),"onUpdate:modelValue":v=>p(t)},null,8,["roleLabel","roleIcon","userType","imageId","admin","name","to","modelValue","onUpdate:modelValue"])]),_:2},[h(e.$slots,(t,p)=>({name:p,fn:o(v=>[A(e.$slots,p,N(q(v)))])}))]),1040,["items","itemTo","modelValue","tableCode"])}const _t=R(T,[["render",J]]);T.__docgenInfo={displayName:"FSBaseUserOrganisationsList",exportName:"default",description:"",tags:{},props:[{name:"userOrganisationsFilters",type:{name:"UserOrganisationFilters | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"itemTo",type:{name:"(item: UserOrganisationInfos) => Partial<RouteLocation>"},required:!1},{name:"tableCode",type:{name:"string"},required:!0}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/lists/userOrganisations/FSBaseUserOrganisationsList.vue"]};export{_t as default};
