import{m as te,u as le,a as ae,b as se}from"./group-CBQYGNTq.js";import{s as z,c as g,w as ne,N as h}from"./vue.esm-bundler-DTB_q9xr.js";import{V as E}from"./index-UH0ZuYvc.js";import{m as oe,g as q,a as ue}from"./color-Du5JXqac.js";import{m as ie,u as re}from"./display-BhWGQDVt.js";import{I as H,a as ce,V as B}from"./VIcon-DzZvThha.js";import{a as ve}from"./locale-BJQwrXJ7.js";import{u as L}from"./resizeObserver-BhfhgZOk.js";import{p as fe,I as de,m as me,B as pe}from"./theme-CX_N7n5F.js";function N(l){const s=Math.abs(l);return Math.sign(l)*(s/((1/.501-2)*(1-s)+1))}function $(l){let{selectedElement:c,containerSize:s,contentSize:n,isRtl:S,currentScrollOffset:v,isHorizontal:o}=l;const u=o?c.clientWidth:c.clientHeight,t=o?c.offsetLeft:c.offsetTop,r=S&&o?n-t-u:t,f=s+v,i=u+r,y=u*.4;return r<=v?v=Math.max(r-y,0):f<=i&&(v=Math.min(v-(f-i-y),n-s)),v}function he(l){let{selectedElement:c,containerSize:s,contentSize:n,isRtl:S,isHorizontal:v}=l;const o=v?c.clientWidth:c.clientHeight,u=v?c.offsetLeft:c.offsetTop,t=S&&v?n-u-o/2-s/2:u+o/2-s/2;return Math.min(n-s,Math.max(0,t))}const D=Symbol.for("vuetify:v-slide-group"),Se=fe({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:D},nextIcon:{type:H,default:"$next"},prevIcon:{type:H,default:"$prev"},showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||["always","desktop","mobile"].includes(l)},...oe(),...ie(),...ce(),...te({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Te=q()({name:"VSlideGroup",props:Se(),emits:{"update:modelValue":l=>!0},setup(l,c){let{slots:s}=c;const{isRtl:n}=ve(),{displayClasses:S,mobile:v}=re(l),o=le(l,l.symbol),u=z(!1),t=z(0),r=z(0),f=z(0),i=g(()=>l.direction==="horizontal"),{resizeRef:y,contentRect:I}=L(),{resizeRef:d,contentRect:R}=L(),P=g(()=>o.selected.value.length?o.items.value.findIndex(e=>e.id===o.selected.value[0]):-1),W=g(()=>o.selected.value.length?o.items.value.findIndex(e=>e.id===o.selected.value[o.selected.value.length-1]):-1);if(de){let e=-1;ne(()=>[o.selected.value,I.value,R.value,i.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(I.value&&R.value){const a=i.value?"width":"height";r.value=I.value[a],f.value=R.value[a],u.value=r.value+1<f.value}if(P.value>=0&&d.value){const a=d.value.children[W.value];P.value===0||!u.value?t.value=0:l.centerActive?t.value=he({selectedElement:a,containerSize:r.value,contentSize:f.value,isRtl:n.value,isHorizontal:i.value}):u.value&&(t.value=$({selectedElement:a,containerSize:r.value,contentSize:f.value,isRtl:n.value,currentScrollOffset:t.value,isHorizontal:i.value}))}})})}const b=z(!1);let V=0,C=0;function X(e){const a=i.value?"clientX":"clientY";C=(n.value&&i.value?-1:1)*t.value,V=e.touches[0][a],b.value=!0}function Y(e){if(!u.value)return;const a=i.value?"clientX":"clientY",m=n.value&&i.value?-1:1;t.value=m*(C+V-e.touches[0][a])}function K(e){const a=f.value-r.value;t.value<0||!u.value?t.value=0:t.value>=a&&(t.value=a),b.value=!1}function U(){y.value&&(y.value[i.value?"scrollLeft":"scrollTop"]=0)}const w=z(!1);function j(e){if(w.value=!0,!(!u.value||!d.value)){for(const a of e.composedPath())for(const m of d.value.children)if(m===a){t.value=$({selectedElement:m,containerSize:r.value,contentSize:f.value,isRtl:n.value,currentScrollOffset:t.value,isHorizontal:i.value});return}}}function J(e){w.value=!1}function Q(e){var a;!w.value&&!(e.relatedTarget&&((a=d.value)!=null&&a.contains(e.relatedTarget)))&&p()}function Z(e){d.value&&(i.value?e.key==="ArrowRight"?p(n.value?"prev":"next"):e.key==="ArrowLeft"&&p(n.value?"next":"prev"):e.key==="ArrowDown"?p("next"):e.key==="ArrowUp"&&p("prev"),e.key==="Home"?p("first"):e.key==="End"&&p("last"))}function p(e){var a,m,G,F,M;if(d.value)if(!e)(a=me(d.value)[0])==null||a.focus();else if(e==="next"){const x=(m=d.value.querySelector(":focus"))==null?void 0:m.nextElementSibling;x?x.focus():p("first")}else if(e==="prev"){const x=(G=d.value.querySelector(":focus"))==null?void 0:G.previousElementSibling;x?x.focus():p("last")}else e==="first"?(F=d.value.firstElementChild)==null||F.focus():e==="last"&&((M=d.value.lastElementChild)==null||M.focus())}function k(e){const a=t.value+(e==="prev"?-1:1)*r.value;t.value=pe(a,0,f.value-r.value)}const ee=g(()=>{let e=t.value>f.value-r.value?-(f.value-r.value)+N(f.value-r.value-t.value):-t.value;t.value<=0&&(e=N(-t.value));const a=n.value&&i.value?-1:1;return{transform:`translate${i.value?"X":"Y"}(${a*e}px)`,transition:b.value?"none":"",willChange:b.value?"transform":""}}),T=g(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),O=g(()=>{switch(l.showArrows){case"always":return!0;case"desktop":return!v.value;case!0:return u.value||Math.abs(t.value)>0;case"mobile":return v.value||u.value||Math.abs(t.value)>0;default:return!v.value&&(u.value||Math.abs(t.value)>0)}}),A=g(()=>Math.abs(t.value)>0),_=g(()=>f.value>Math.abs(t.value)+r.value);return ue(()=>h(l.tag,{class:["v-slide-group",{"v-slide-group--vertical":!i.value,"v-slide-group--has-affixes":O.value,"v-slide-group--is-overflowing":u.value},S.value,l.class],style:l.style,tabindex:w.value||o.selected.value.length?-1:0,onFocus:Q},{default:()=>{var e,a,m;return[O.value&&h("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!A.value}],onClick:()=>A.value&&k("prev")},[((e=s.prev)==null?void 0:e.call(s,T.value))??h(E,null,{default:()=>[h(B,{icon:n.value?l.nextIcon:l.prevIcon},null)]})]),h("div",{key:"container",ref:y,class:"v-slide-group__container",onScroll:U},[h("div",{ref:d,class:"v-slide-group__content",style:ee.value,onTouchstartPassive:X,onTouchmovePassive:Y,onTouchendPassive:K,onFocusin:j,onFocusout:J,onKeydown:Z},[(a=s.default)==null?void 0:a.call(s,T.value)])]),O.value&&h("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!_.value}],onClick:()=>_.value&&k("next")},[((m=s.next)==null?void 0:m.call(s,T.value))??h(E,null,{default:()=>[h(B,{icon:n.value?l.prevIcon:l.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:k,scrollOffset:t,focus:p}}}),Oe=q()({name:"VSlideGroupItem",props:ae(),emits:{"group:selected":l=>!0},setup(l,c){let{slots:s}=c;const n=se(l,D);return()=>{var S;return(S=s.default)==null?void 0:S.call(s,{isSelected:n.isSelected.value,select:n.select,toggle:n.toggle,selectedClass:n.selectedClass.value})}}});export{Te as V,Oe as a,Se as m};
