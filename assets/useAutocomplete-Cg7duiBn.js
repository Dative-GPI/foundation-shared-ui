import{b as c,c as D,w as i,g as E}from"./vue.esm-bundler-DjjVIdVI.js";import{_ as L}from"./lodash-BiW_TGGX.js";import{u as M}from"./FSFadeOut-QsEpWU03.js";const j=(a,p,g,v,t=null,d=n=>n.id,h=n=>n.label,b=!1,A=!0,w=5,y=1e3)=>{const{debounce:n}=M(),l=c(""),s=c(0),r=c(!0),q=D(()=>A&&s.value>0&&s.value<=w),m=()=>n(()=>v(l.value),y),x=e=>{if(t)if(Array.isArray(e)){const u=e.map(o=>a.value.find(f=>d(f)===o)||null).filter(o=>o!==null);t(u)}else t(e&&a.value.find(u=>d(u)===e)||null);else g("update:modelValue",e)};return i(p,(e,u)=>{L.isEqual(e,u)||m()}),i(l,(e,u)=>{e!==u&&b&&!a.value.map(f=>h(f)).includes(l.value)&&(!l.value||!l.value.length||l.value.length>2)&&m()}),i(()=>a.value,()=>{r.value&&(r.value=!1),s.value=a.value.length}),E(()=>{v(l.value)}),{toggleSet:q,search:l,init:r,onUpdate:x}};export{j as u};
