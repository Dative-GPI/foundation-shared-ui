import{d as le,c as p,b as k,v as a,m as C,Z as te,_ as ae,F as S,a2 as ne,n as N,z as re,A as E,B as M,M as O,C as V,J as x,K as h,L as q,E as se,N as oe}from"./vue.esm-bundler-BwDfg4wG.js";import{F as ue}from"./FSBaseField-3b1naUZS.js";import{F as z}from"./FSButton-jJkg4qCi.js";import{u as ie}from"./useRules-CJCAsX67.js";import{u as de,C as $}from"./useColors-tmPxRJAs.js";import{u as fe}from"./useSlots-2JqallzA.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{m as me,f as pe,V as ve,a as ye}from"./VField-C9nLiyrW.js";import{m as be,u as Ve,V as R}from"./VInput-Bb_DU4hJ.js";import{f as ge}from"./forwardRefs-DWGaNmQL.js";import{u as Fe}from"./proxiedModel-okNizC5Y.js";import{I as xe}from"./index-O1RQoaVh.js";import{p as $e,x as Ce,z as ke}from"./theme-DkbGhe4v.js";import{g as Se,u as he}from"./color-BnvS3YzF.js";const H=le({name:"FSTextField",components:{FSBaseField:ue,FSButton:z},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"text"},modelValue:{type:String,required:!1,default:null},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e){const{validateOn:i,getMessages:c}=ie(),{getColors:d}=de(),{slots:t}=fe();delete t.label,delete t.description;const s=d($.Error),n=d($.Light),r=d($.Dark),m=p(()=>e.editable?{"--fs-text-field-cursor":"text","--fs-text-field-border-color":n.dark,"--fs-text-field-color":r.base,"--fs-text-field-active-border-color":r.dark,"--fs-text-field-error-border-color":s.base}:{"--fs-text-field-cursor":"default","--fs-text-field-border-color":n.base,"--fs-text-field-color":n.dark,"--fs-text-field-active-border-color":n.base}),v=p(()=>e.messages??c(e.modelValue,e.rules));return{validateOn:i,ColorEnum:$,messages:v,slots:t,style:m}}}),qe=["color","file","time","date","datetime-local","week","month"],Pe=$e({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...be(),...me()},"VTextField"),Be=Se()({name:"VTextField",directives:{Intersect:xe},inheritAttrs:!1,props:Pe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:c,emit:d,slots:t}=i;const s=Fe(e,"modelValue"),{isFocused:n,focus:r,blur:m}=Ve(e),v=p(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),j=p(()=>{if(c.maxlength)return c.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),P=p(()=>["plain","underlined"].includes(e.variant));function L(l,o){var u,f;!e.autofocus||!l||(f=(u=o[0].target)==null?void 0:u.focus)==null||f.call(u)}const B=k(),I=k(),y=k(),U=p(()=>qe.includes(e.type)||e.persistentPlaceholder||n.value||e.active);function g(){var l;y.value!==document.activeElement&&((l=y.value)==null||l.focus()),n.value||r()}function J(l){d("mousedown:control",l),l.target!==y.value&&(g(),l.preventDefault())}function K(l){g(),d("click:control",l)}function Z(l){l.stopPropagation(),g(),N(()=>{s.value=null,ke(e["onClick:clear"],l)})}function _(l){var u;const o=l.target;if(s.value=o.value,(u=e.modelModifiers)!=null&&u.trim&&["text","search","password","tel","url"].includes(e.type)){const f=[o.selectionStart,o.selectionEnd];N(()=>{o.selectionStart=f[0],o.selectionEnd=f[1]})}}return he(()=>{const l=!!(t.counter||e.counter!==!1&&e.counter!=null),o=!!(l||t.details),[u,f]=Ce(c),{modelValue:we,...G}=R.filterProps(e),Q=pe(e);return a(R,C({ref:B,modelValue:s.value,"onUpdate:modelValue":b=>s.value=b,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":P.value},e.class],style:e.style},u,G,{centerAffix:!P.value,focused:n.value}),{...t,default:b=>{let{id:F,isDisabled:T,isDirty:w,isReadonly:W,isValid:X}=b;return a(ve,C({ref:I,onMousedown:J,onClick:K,"onClick:clear":Z,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},Q,{id:F.value,active:U.value||w.value,dirty:w.value||e.dirty,disabled:T.value,focused:n.value,error:X.value===!1}),{...t,default:Y=>{let{props:{class:A,...ee}}=Y;const D=te(a("input",C({ref:y,value:s.value,onInput:_,autofocus:e.autofocus,readonly:W.value,disabled:T.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:m},ee,f),null),[[ae("intersect"),{handler:L},null,{once:!0}]]);return a(S,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?a("div",{class:A,"data-no-activator":""},[t.default(),D]):ne(D,{class:A}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:o?b=>{var F;return a(S,null,[(F=t.details)==null?void 0:F.call(t,b),l&&a(S,null,[a("span",null,null),a(ye,{active:e.persistentCounter||n.value,value:v.value,max:j.value},t.counter)])])}:void 0})}),ge({},B,I,y)}});function Ie(e,i,c,d,t,s){const n=re("FSBaseField");return E(),M(n,{label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,messages:e.messages},O({default:V(()=>[a(Be,C({class:"fs-text-field",variant:"outlined",style:e.style,type:e.$props.type,persistentClear:!0,hideDetails:!0,readonly:!e.$props.editable,clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,rules:e.$props.rules,validateOn:e.validateOn,modelValue:e.$props.modelValue,"onUpdate:modelValue":i[1]||(i[1]=r=>e.$emit("update:modelValue",r))},e.$attrs),O({clear:V(()=>[x(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(E(),M(z,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:i[0]||(i[0]=r=>e.$emit("update:modelValue",null))},null,8,["color"])):se("",!0)])]),_:2},[oe(e.slots,(r,m)=>({name:m,fn:V(v=>[x(e.$slots,m,h(q(v)))])}))]),1040,["style","type","readonly","clearable","rules","validateOn","modelValue"])]),_:2},[e.$slots.label?{name:"label",fn:V(r=>[x(e.$slots,"label",h(q(r)))]),key:"0"}:void 0,e.$slots.description?{name:"label",fn:V(r=>[x(e.$slots,"description",h(q(r)))]),key:"1"}:void 0]),1032,["label","description","hideHeader","required","editable","messages"])}const Te=ce(H,[["render",Ie]]);H.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"type",values:["text","password","number"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"text"'}},{name:"modelValue",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"label",scoped:!0,bindings:[]},{name:"description",scoped:!0,bindings:[]},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"clear"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSTextField.vue"]};const Ze=Object.freeze(Object.defineProperty({__proto__:null,default:Te},Symbol.toStringTag,{value:"Module"}));export{Te as F,Be as V,Ze as a,Pe as m};
