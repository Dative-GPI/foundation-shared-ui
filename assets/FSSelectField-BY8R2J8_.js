import{d as x,b as ee,c as b,z as d,C as l,S as le,G as q,H as n,E as p,P as s,m,B as R,L as t,M as g,Q as F,N as k,A as T,F as O,I as c,J as h}from"./vue.esm-bundler-CM4TIH-Q.js";import{F as ae,V as re}from"./VList-DEzGjKAB.js";import{_ as L}from"./FSSlideGroup-DeB5Ds_m.js";import{F as oe}from"./FSToggleSet-CwbYA91K.js";import{F as se}from"./FSBaseField-B4z0jav7.js";import{F as z}from"./FSTextField-DAhSqlNI.js";import{F as N}from"./FSCheckbox-cl9Reorp.js";import{_ as j}from"./FSFadeOut-PZiJk41N.js";import{F as C}from"./FSButton-CnIlx-fc.js";import{F as ne}from"./FSLoader-_1jWS2ee.js";import{_ as G}from"./FSRadio-Cpv_pdl7.js";import{F as de}from"./FSCard-CYsPoqay.js";import{_ as V}from"./FSSpan-BXQyelfo.js";import{F as B}from"./FSCol-Be93XvPD.js";import{_ as f}from"./FSRow-C47sfGk6.js";import{u as te}from"./useBreakpoints-DsICqL2A.js";import{u as ie}from"./useRules-B12Yr5ve.js";import{u as ue,C as w}from"./useColors-CjA2D2xA.js";import{u as pe}from"./useSlots-c6yg-hhg.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as fe}from"./VSelect-D2RjpGxv.js";const W=x({name:"FSSelectField",components:{FSDialogMenu:ae,FSSlideGroup:L,FSBaseField:se,FSTextField:z,FSToggleSet:oe,FSCheckbox:N,FSFadeOut:j,FSButton:C,FSLoader:ne,FSRadio:G,FSCard:de,FSSpan:V,FSCol:B,FSRow:f},props:{label:{type:String,required:!1,default:null},placeholder:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},items:{type:Array,required:!0},itemValue:{type:String,required:!1,default:"id"},itemTitle:{type:String,required:!1,default:"label"},modelValue:{type:[Array,String,Number],required:!1,default:null},multiple:{type:Boolean,required:!1,default:!1},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},toggleSet:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(e,{emit:u}){const{fontStyles:I,isExtraSmall:U,isMobileSized:E}=te(),{validateOn:P,getMessages:A}=ie(),{getColors:S}=ue(),{slots:y}=pe();delete y.label,delete y.description;const H=S(w.Background),D=S(w.Error),a=S(w.Light),o=S(w.Dark),i=ee(!1),v=b(()=>e.disabled?{"--fs-select-field-cursor":"default","--fs-select-field-border-color":a.base,"--fs-select-field-color":a.dark,"--fs-select-field-active-border-color":a.base,"--fs-select-field-multiple-opacity":"var(--v-disabled-opacity)","--fs-base-field-input-height":E.value?"34px":"38px",...I.value}:{"--fs-select-field-cursor":"pointer","--fs-select-field-background-color":H.base,"--fs-select-field-border-color":a.dark,"--fs-select-field-color":o.base,"--fs-select-field-active-border-color":o.dark,"--fs-select-field-error-border-color":D.base,"--fs-select-field-multiple-opacity":"1","--fs-base-field-input-height":E.value?"34px":"38px",...I.value}),J=b(()=>Object.keys(y).filter(r=>r.startsWith("select-")).reduce((r,$)=>(r[$.substring(7)]=y[$],r),{})),Q=b(()=>Object.keys(y).filter(r=>r.startsWith("toggle-set-")).reduce((r,$)=>(r[$.substring(11)]=y[$],r),{})),K=b(()=>({style:v.value})),X=b(()=>e.messages??A(e.modelValue,e.rules)),M=b(()=>e.multiple?null:Array.isArray(e.modelValue)&&e.modelValue.length>0?e.items.find(r=>r[e.itemValue]===e.modelValue[0])??null:e.modelValue?e.items.find(r=>r[e.itemValue]===e.modelValue)??null:null),Y=b(()=>{if(Array.isArray(e.modelValue)&&e.modelValue.length>0)return e.items.filter(r=>e.modelValue.includes(r[e.itemValue]));if(e.modelValue){const r=e.items.find($=>$[e.itemValue]===e.modelValue);if(r)return[r]}return[]}),Z=b(()=>"calc(100vh - 40px - 16px)"),_=b(()=>e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0?e.placeholder:M.value?M.value[e.itemTitle]:null);return{toggleSetSlots:Q,selectedItems:Y,isExtraSmall:U,selectedItem:M,mobileValue:_,selectSlots:J,validateOn:P,ColorEnum:w,listStyle:K,maxHeight:Z,messages:X,dialog:i,style:v,openMobileOverlay:()=>{e.disabled||(i.value=!0)},onCheckboxChange:r=>{Array.isArray(e.modelValue)?e.modelValue.includes(r)?u("update:modelValue",e.modelValue.filter($=>$!==r)):u("update:modelValue",[...e.modelValue,r]):e.modelValue!=null?e.modelValue===r?u("update:modelValue",[]):u("update:modelValue",[e.modelValue,r]):u("update:modelValue",[r])},onSingleChange:r=>{u("update:modelValue",r)},onRadioChange:r=>{u("update:modelValue",r),i.value=!1},onClear:()=>{u("update:modelValue",null)}}}});function ge(e,u,I,U,E,P){const A=q("FSLoader"),S=q("FSCard"),y=q("FSDialogMenu"),H=q("FSToggleSet"),D=q("FSBaseField");return e.$props.loading?(n(),d(B,{key:0},{default:l(()=>[e.$props.hideHeader?p("",!0):(n(),d(A,{key:0,variant:"text-overline"})),e.$props.loading?(n(),d(A,{key:1,width:"100%",height:["40px","36px"]})):p("",!0)]),_:1})):e.isExtraSmall?(n(),d(B,{key:1},{default:l(()=>[s(z,m({validationValue:e.$props.modelValue,description:e.$props.description,hideHeader:e.$props.hideHeader,clearable:e.$props.clearable,disabled:e.$props.disabled,required:e.$props.required,validateOn:e.validateOn,label:e.$props.label,rules:e.$props.rules,messages:e.messages,readonly:!0,modelValue:e.mobileValue,onClick:e.openMobileOverlay},e.$attrs),R({"prepend-inner":l(()=>[e.selectedItem?t(e.$slots,"item-prepend",g(m({key:0},{item:e.selectedItem}))):p("",!0)]),clear:l(()=>[s(f,{wrap:!1},{default:l(()=>[e.selectedItem?t(e.$slots,"item-append",g(m({key:0},{item:e.selectedItem}))):p("",!0),t(e.$slots,"clear",{},()=>[e.$props.clearable&&!e.$props.disabled&&e.$props.modelValue?(n(),d(C,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:e.onClear},null,8,["color","onClick"])):p("",!0)])]),_:3})]),"append-inner":l(()=>[s(C,{icon:"mdi-chevron-down",variant:"icon",disabled:e.$props.disabled,color:e.ColorEnum.Dark,onClick:e.openMobileOverlay},null,8,["disabled","color","onClick"])]),_:2},[F(e.$slots,(a,o)=>({name:o,fn:l(i=>[t(e.$slots,o,g(k(i)))])}))]),1040,["validationValue","description","hideHeader","clearable","disabled","required","validateOn","label","rules","messages","modelValue","onClick"]),e.$props.multiple&&Array.isArray(e.$props.modelValue)?(n(),d(L,{key:0},{default:l(()=>[(n(!0),T(O,null,F(e.$props.items.filter(a=>e.$props.modelValue.includes(a[e.$props.itemValue])),(a,o)=>(n(),d(S,{variant:"standard",height:["40px","36px"],color:e.ColorEnum.Light,border:!1,key:o},{default:l(()=>[s(f,{align:"center-left",padding:"0 8px",wrap:!1},{default:l(()=>[t(e.$slots,"item-prepend",m({ref_for:!0},{item:a})),s(V,null,{default:l(()=>[c(h(a[e.$props.itemTitle]),1)]),_:2},1024),t(e.$slots,"item-append",m({ref_for:!0},{item:a})),s(C,{icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:()=>e.onCheckboxChange(a[e.$props.itemValue])},null,8,["color","onClick"])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:3})):p("",!0),s(y,{padding:"16px",modelValue:e.dialog,"onUpdate:modelValue":u[0]||(u[0]=a=>e.dialog=a)},{body:l(()=>[s(j,{maxHeight:e.maxHeight},{default:l(()=>[s(B,{gap:"12px"},{default:l(()=>[(n(!0),T(O,null,F(e.$props.items,(a,o)=>(n(),d(f,{align:"center-left",height:"36px",wrap:!1,key:o,onClick:i=>e.$props.multiple?e.onCheckboxChange(a[e.$props.itemValue]):e.onRadioChange(a[e.$props.itemValue])},{default:l(()=>[s(f,{style:{"min-width":"0"},wrap:!1},{default:l(()=>[t(e.$slots,"item-prepend",m({ref_for:!0},{item:a})),s(V,{font:e.selectedItems.includes(a)?"text-button":"text-body"},{default:l(()=>[c(h(a[e.$props.itemTitle]),1)]),_:2},1032,["font"])]),_:2},1024),s(f,{align:"center-right",width:"hug",wrap:!1},{default:l(()=>{var i;return[t(e.$slots,"item-append",m({ref_for:!0},{item:a})),e.$props.multiple?(n(),d(N,{key:0,disabled:e.$props.disabled,modelValue:(i=e.$props.modelValue)==null?void 0:i.includes(a[e.$props.itemValue]),"onUpdate:modelValue":v=>e.onCheckboxChange(a[e.$props.itemValue])},null,8,["disabled","modelValue","onUpdate:modelValue"])):(n(),d(G,{key:1,selected:e.$props.modelValue===a[e.$props.itemValue],disabled:e.$props.disabled,item:a,modelValue:a[e.$props.itemValue],"onUpdate:modelValue":v=>e.onRadioChange(a[e.$props.itemValue])},null,8,["selected","disabled","item","modelValue","onUpdate:modelValue"]))]}),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:3})]),_:3},8,["maxHeight"]),!e.$props.items||e.$props.items.length===0?(n(),d(f,{key:0,padding:"4px 3px"},{default:l(()=>[s(V,null,{default:l(()=>[c(h(e.$tr("ui.common.no-data","No data")),1)]),_:1})]),_:1})):p("",!0)]),_:3},8,["modelValue"])]),_:3})):(n(),d(D,{key:2,style:le(e.style),description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,disabled:e.$props.disabled,label:e.$props.label,messages:e.messages},{default:l(()=>[e.$props.toggleSet?(n(),d(H,m({key:0,disabled:e.$props.disabled,multiple:e.$props.multiple,required:e.$props.required,values:e.$props.items,rules:e.$props.rules,modelValue:e.$props.modelValue,"onUpdate:modelValue":u[1]||(u[1]=a=>e.$emit("update:modelValue",a))},e.$attrs),R({_:2},[F(e.toggleSetSlots,(a,o)=>({name:o,fn:l(i=>[t(e.$slots,`toggle-set-${o}`,g(k(i)))])}))]),1040,["disabled","multiple","required","values","rules","modelValue"])):(n(),d(B,{key:1},{default:l(()=>[s(fe,m({class:"fs-select-field",variant:"outlined",clearable:e.$props.clearable&&!e.$props.disabled&&!!e.$props.modelValue,itemTitle:e.$props.itemTitle,itemValue:e.$props.itemValue,disabled:e.$props.disabled,readonly:e.$props.readonly,multiple:e.$props.multiple,validateOn:e.validateOn,persistentClear:!0,listProps:e.listStyle,returnObject:!1,items:e.$props.items,rules:e.$props.rules,hideDetails:!0,menuIcon:null,modelValue:e.$props.modelValue,"onUpdate:modelValue":e.onSingleChange},e.$attrs),R({item:l(({props:a,item:o})=>[s(re,g(k({...a,title:""})),{default:l(()=>[s(f,{align:"center-left",wrap:!1},{default:l(()=>{var i;return[e.$props.multiple?(n(),d(N,{key:0,modelValue:(i=e.$props.modelValue)==null?void 0:i.includes(o.raw[e.$props.itemValue]),onClick:a.onClick},{label:l(({font:v})=>[t(e.$slots,"item-prepend",g(k({item:o.raw}))),s(V,{font:v},{default:l(()=>[c(h(o.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])]),_:2},1032,["modelValue","onClick"])):(n(),T(O,{key:1},[t(e.$slots,"item-prepend",g(k({item:o.raw}))),s(V,{font:e.$props.modelValue===o.raw[e.$props.itemTitle]?"text-button":"text-body"},{default:l(()=>[c(h(o.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])],64)),s(f,{align:"center-right"},{default:l(()=>[t(e.$slots,"item-append",g(k({item:o.raw})))]),_:2},1024)]}),_:2},1024)]),_:2},1040)]),"prepend-inner":l(()=>[e.selectedItem?t(e.$slots,"item-prepend",g(m({key:0},{item:e.selectedItem}))):p("",!0)]),clear:l(()=>[s(f,{wrap:!1},{default:l(()=>[e.selectedItem?t(e.$slots,"item-append",g(m({key:0},{item:e.selectedItem}))):p("",!0),t(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.disabled&&e.$props.modelValue?(n(),d(C,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:e.onClear},null,8,["color","onClick"])):p("",!0)])]),_:3})]),"append-inner":l(()=>[t(e.$slots,"append-inner",{},()=>[s(C,{icon:"mdi-chevron-down",variant:"icon",disabled:e.$props.disabled,color:e.ColorEnum.Dark},null,8,["disabled","color"])])]),"no-data":l(()=>[!e.$props.items||e.$props.items.length===0?(n(),d(f,{key:0,padding:"15px"},{default:l(()=>[s(V,null,{default:l(()=>[c(h(e.$tr("ui.common.no-data","No data")),1)]),_:1})]),_:1})):p("",!0)]),_:2},[F(e.selectSlots,(a,o)=>({name:o,fn:l(i=>[t(e.$slots,`select-${o}`,g(k(i)))])})),e.$props.multiple?{name:"selection",fn:l(({index:a})=>[a===e.$props.modelValue.length-1?(n(),d(V,{key:0},{default:l(()=>[c(h(e.$props.placeholder),1)]),_:1})):p("",!0)]),key:"0"}:void 0]),1040,["clearable","itemTitle","itemValue","disabled","readonly","multiple","validateOn","listProps","items","rules","modelValue","onUpdate:modelValue"]),e.$props.multiple&&Array.isArray(e.$props.modelValue)?(n(),d(L,{key:0,class:"fs-select-field-multiple-slide-group"},{default:l(()=>[(n(!0),T(O,null,F(e.$props.items.filter(a=>e.$props.modelValue.includes(a[e.$props.itemValue])),(a,o)=>(n(),d(S,{variant:"standard",height:["40px","36px"],color:e.ColorEnum.Light,border:!1,key:o},{default:l(()=>[s(f,{align:"center-left",padding:"0 8px"},{default:l(()=>[t(e.$slots,"item-prepend",m({ref_for:!0},{item:a})),s(V,null,{default:l(()=>[c(h(a[e.$props.itemTitle]),1)]),_:2},1024),t(e.$slots,"item-append",m({ref_for:!0},{item:a})),s(C,{icon:"mdi-close",variant:"icon",disabled:e.$props.disabled,color:e.ColorEnum.Dark,onClick:()=>e.onCheckboxChange(a[e.$props.itemValue])},null,8,["disabled","color","onClick"])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:3})):p("",!0)]),_:3}))]),_:3},8,["style","description","hideHeader","required","disabled","label","messages"]))}const Pe=me(W,[["render",ge]]);W.__docgenInfo={displayName:"FSSelectField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"placeholder",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"items",type:{name:"any[]"},required:!0},{name:"itemValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"id"'}},{name:"itemTitle",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"label"'}},{name:"modelValue",type:{name:"(string | number)[] | string | number | null | any"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"multiple",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"disabled",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"readonly",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"loading",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"toggleSet",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"item-prepend",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"item-append",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"clear"},{name:"`toggle-set-${name}`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"`select-${name}`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"append-inner"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSSelectField.vue"]};export{Pe as F};
