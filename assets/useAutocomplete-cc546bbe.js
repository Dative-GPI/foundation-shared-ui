import{j as c,g as x,w as i,o as D}from"./vue.esm-bundler-a0893183.js";import{_ as E}from"./lodash-569b8a6d.js";import{u as L}from"./FSFadeOut-a78e38e1.js";const _=(a,p,g,v,t=null,d=n=>n.id,h=n=>n.label,b=!1,A=!0,w=5,y=1e3)=>{const{debounce:n}=L(),l=c(""),s=c(0),r=c(!0),j=x(()=>A&&s.value>0&&s.value<=w),m=()=>n(()=>v(l.value),y),q=e=>{if(t)if(Array.isArray(e)){const u=e.map(o=>a.value.find(f=>d(f)===o)||null).filter(o=>o!==null);t(u)}else t(e&&a.value.find(u=>d(u)===e)||null);else g("update:modelValue",e)};return i(p,(e,u)=>{E.isEqual(e,u)||m()}),i(l,(e,u)=>{e!==u&&b&&!a.value.map(f=>h(f)).includes(l.value)&&(!l.value||!l.value.length||l.value.length>2)&&m()}),i(()=>a.value,()=>{r.value&&(r.value=!1),s.value=a.value.length}),D(()=>{v(l.value)}),{toggleSet:j,search:l,init:r,onUpdate:q}};export{_ as u};
