import{d as T,c as f,y as r,z as p,A as c,B as o,k as y,L as n}from"./vue.esm-bundler-gWFTcvUr.js";import{M as a,u as S}from"./useMagicFieldProvider-Dob9X8L9.js";import{F as q,a as V}from"./FSButtonAddIcon-QVFsNV8a.js";import{F as $}from"./FSTranslateField-Dvu1iBo_.js";import{_ as i}from"./FSRow-Bpa2jjpJ.js";import{d as k,b as D,I,D as w,T as C,N}from"./rules-BH_IHeol.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F=T({name:"FSMagicConfigField",components:{FSButtonRemoveIcon:q,FSTranslateField:$,FSButtonAddIcon:V,FSRow:i},props:{type:{type:Number,required:!1,default:a.TextField},labelDefault:{type:String,required:!1,default:null},value:{type:String,required:!1,default:null},translations:{type:Array,required:!1,default:()=>[]},editable:{type:Boolean,required:!1,default:!0}},emits:["click:remove","click:add","update:value","update:labelDefault","update:translations"],setup(e,{emit:l}){const{get:s}=S(),d=f(()=>{switch(e.type){case a.NumberField:return[N.required()];case a.TextField:return[C.required()];case a.DateTimeField:return[w.required()];case a.IconField:return[I.required()];case a.TimeField:return[D.required()];case a.TimeStepField:return[k.required()]}return[]}),m=f(()=>{switch(e.type){case a.NumberField:case a.DateTimeField:case a.TimeField:return e.value==null||isNaN(parseFloat(e.value))?null:parseFloat(e.value);case a.Switch:return e.value==null?null:e.value==="true";default:return e.value}});return{MagicFieldType:a,valueToInput:m,rules:d,inputToValue:t=>{switch(e.type){case a.NumberField:case a.Switch:case a.DateTimeField:case a.TimeField:if(t==null){l("update:value",null);break}l("update:value",t.toString());break;default:l("update:value",t);break}},get:s}}});function B(e,l,s,d,m,g){const t=r("FSTranslateField"),v=r("FSButtonRemoveIcon"),b=r("FSButtonAddIcon");return p(),c(i,null,{default:o(()=>[(p(),c(y(e.get(e.$props.type)),{class:"fs-magic-config-field-value",label:e.$tr("ui.magic-config-field.value","Value"),editable:e.$props.editable,required:!0,rules:e.rules,modelValue:e.valueToInput,"onUpdate:modelValue":e.inputToValue},null,8,["label","editable","rules","modelValue","onUpdate:modelValue"])),n(i,{gap:"24px"},{default:o(()=>[n(t,{label:e.$tr("ui.magic-config-field.label","Label"),editable:e.$props.editable,modelValue:e.$props.labelDefault,translations:e.$props.translations,"onUpdate:modelValue":l[0]||(l[0]=u=>e.$emit("update:labelDefault",u)),"onUpdate:translations":l[1]||(l[1]=u=>e.$emit("update:translations",u))},null,8,["label","editable","modelValue","translations"]),n(i,{class:"fs-magic-config-field-actions",width:"hug",wrap:!1},{default:o(()=>[n(v,{onClick:l[2]||(l[2]=u=>e.$emit("click:remove"))}),n(b,{onClick:l[3]||(l[3]=u=>e.$emit("click:add"))})]),_:1})]),_:1})]),_:1})}const j=R(F,[["render",B]]);F.__docgenInfo={displayName:"FSMagicConfigField",exportName:"default",description:"",tags:{},props:[{name:"type",type:{name:"MagicFieldType"},required:!1,defaultValue:{func:!1,value:"MagicFieldType.TextField"}},{name:"labelDefault",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"value",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"translations",type:{name:"{ languageCode: string; label: string }[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:labelDefault"},{name:"update:translations"},{name:"click:remove"},{name:"click:add"},{name:"update:value"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSMagicConfigField.vue"]};export{j as F};
