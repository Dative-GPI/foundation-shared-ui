import{C as u}from"./base-DT4A-z-k.js";import{d as D,D as f,a as w,b as g,c as C,W as S}from"./dashboardTranslation-BBvk7tfF.js";import{P as y}from"./pathCrumb-D0_87whe.js";import{S as i}from"./serviceFactory-D_XwB3_y.js";import{C as l}from"./composableFactory-C-hWj-Am.js";class v{constructor(e){this.hiddenCode=e.hiddenCode,this.globalStartDate=e.globalStartDate,this.globalEndDate=e.globalEndDate}}class I{constructor(e){this.hiddenCode=e.hiddenCode,this.globalSelectedEntities=e.globalSelectedEntities,this.globalEntitiesFilters=e.globalEntitiesFilters,this.globalEntitiesIds=e.globalEntitiesIds.slice()}}class P{constructor(e){this.hiddenCode=e.hiddenCode,this.defaultValue=e.defaultValue,this.useOnlyAllowedValues=e.useOnlyAllowedValues,this.allowedValues=e.allowedValues.map(t=>new D(t))}}class a{constructor(e){this.id=e.id,this.organisationId=e.organisationId,this.dashboardOrganisationTypeId=e.dashboardOrganisationTypeId,this.dashboardOrganisationTypeLabel=e.dashboardOrganisationTypeLabel,this.folderId=e.folderId,this.folderLabel=e.folderLabel,this.folderIcon=e.folderIcon,this.imageId=e.imageId,this.label=e.label,this.code=e.code,this.icon=e.icon,this.tags=e.tags.slice(),this.colors=e.colors.slice(),this.dashboardId=e.dashboardId,this.scope=e.scope}}class d extends a{constructor(e){super(e),this.labelDefault=e.labelDefault,this.path=e.path.map(t=>new y(t)).sort((t,s)=>s.index-t.index),this.overrideUseAutoRefresh=e.overrideUseAutoRefresh,this.overrideAutoRefresh=e.overrideAutoRefresh,this.overrideSingleEntity=e.overrideSingleEntity,this.overrideEntityPresetCode=e.overrideEntityPresetCode,this.overrideDatePresetCode=e.overrideDatePresetCode,this.overrideVariableCode=e.overrideVariableCode,this.overrideDatePresets=e.overrideDatePresets.map(t=>new v(t)),this.overrideEntityPresets=e.overrideEntityPresets.map(t=>new I(t)),this.overrideVariables=e.overrideVariables.map(t=>new P(t)),this.translations=e.translations.map(t=>new f(t)),this.useAutoRefresh=e.useAutoRefresh,this.autoRefresh=e.autoRefresh,this.singleEntity=e.singleEntity,this.entityPresetCode=e.entityPresetCode,this.datePresetCode=e.datePresetCode,this.variableCode=e.variableCode,this.datePresets=e.datePresets.map(t=>new w(t)),this.entityPresets=e.entityPresets.map(t=>new g(t)),this.variables=e.variables.map(t=>new C(t)),this.widgets=e.widgets.map(t=>new S(t))}}const n=()=>`${u()}/dashboard-shallows`,r=o=>`${n()}/${encodeURIComponent(o)}`,E=o=>`${r(o)}/folder`,h=new i("dashboardShallow",d).createComplete(n,r,a),b=new i("dashboardShallow",d).create(o=>o.build(o.addNotify(e=>({...i.addCustom("duplicate",(t,s)=>t.patch(r(s)),t=>{const s=new d(t);return e.notify("update",s),s}),...i.addCustom("changeFolder",(t,s,c)=>t.put(E(s),c),t=>{const s=new d(t);return e.notify("update",s),s})})))),F=l.get(h),_=l.getMany(h);l.custom(b.duplicate);l.custom(b.changeFolder);export{F as a,_ as u};
