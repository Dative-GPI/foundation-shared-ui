import{d as ze,b as J,c as g,w as ue,s as oe,n as we,L as t,F as z,m as y,E as L,y as x,z as f,A as c,B as o,D as F,M as ye,N as ee,I as h,J as M,K as G,C as de,G as H}from"./vue.esm-bundler-Vj2X7okO.js";import{F as je}from"./FSSearchField-Br299av8.js";import{F as We}from"./FSDialogMenu-BPvC2ERZ.js";import{F as $e}from"./FSSlideGroup-COYtI-Nu.js";import{F as Ge}from"./FSToggleSet-BMnFEOfS.js";import{F as Je}from"./FSBaseField-DEWTBdWD.js";import{F as Te,m as Qe,V as Ae}from"./FSTextField-BQbZuAPn.js";import{F as ke,V as Xe}from"./FSCheckbox-B0fh_Rt7.js";import{F as De}from"./FSFadeOut-CB131b1X.js";import{F as U}from"./FSButton-D9OonqCF.js";import{F as Ye}from"./VImg-Da3f9R37.js";import{_ as Be}from"./FSRadio-B3ak8RSo.js";import{F as Ze}from"./FSCard-D5wiJKub.js";import{_ as O}from"./FSSpan-etgUZXmX.js";import{_ as re}from"./FSCol-Bk577joi.js";import{_ as w}from"./FSRow-BuYwVvwM.js";import{u as _e}from"./css-CbCR1nbl.js";import{u as xe}from"./useRules-DpnTqc7T.js";import{u as el,C as ne}from"./useColors-C8ZtkfWa.js";import{u as ll}from"./useSlots-DXmhvOIb.js";import{_ as al}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as tl,a as ol,V as Se,b as nl}from"./VList-DgcfM2IV.js";import{m as ul,u as rl,a as sl,b as il}from"./VSelect-iR212XTF.js";import{g as dl,b as ml,a as fl}from"./color-CxiNukW_.js";import{m as pl,u as cl}from"./filter-CkY1Z-lm.js";import{u as vl}from"./form-CgybbRT3.js";import{f as gl}from"./forwardRefs-DWGaNmQL.js";import{u as Vl}from"./locale-CMOn_BOp.js";import{u as be}from"./proxiedModel-BE9FlVMJ.js";import{m as hl}from"./transition-CQDsmRPd.js";import{V as yl}from"./VMenu-DOKVMVxb.js";import{V as qe}from"./VIcon-DptP6m9n.js";import{V as bl}from"./VDefaultsProvider-CztrVRTm.js";import{p as $l,o as kl,w as Sl,I as Cl,A as Fl,B as wl,C as Ie}from"./theme-D8Xq3tpQ.js";const Ee=ze({name:"FSAutocompleteField",inheritAttrs:!1,components:{FSSearchField:je,FSDialogMenu:We,FSSlideGroup:$e,FSBaseField:Je,FSTextField:Te,FSToggleSet:Ge,FSCheckbox:ke,FSFadeOut:De,FSButton:U,FSLoader:Ye,FSRadio:Be,FSCard:Ze,FSSpan:O,FSCol:re,FSRow:w},props:{label:{type:String,required:!1,default:null},placeholder:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},items:{type:Array,required:!0},itemValue:{type:String,required:!1,default:"id"},itemTitle:{type:String,required:!1,default:"label"},modelValue:{type:[Array,String,Object],required:!1,default:null},multiple:{type:Boolean,required:!1,default:!1},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},toggleSet:{type:Boolean,required:!1,default:!1},showSearch:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","update:search","add:item"],setup:(e,{emit:u})=>{const{isExtraSmall:r,isMobileSized:Q}=_e(),{validateOn:q,getMessages:D}=xe(),{getColors:k}=el(),{slots:C}=ll();delete C.label,delete C.description;const X=k(ne.Background),j=k(ne.Error),E=k(ne.Light),p=k(ne.Dark),l=J(!1),s=J(""),b=J(!0),P=g(()=>e.editable?{"--fs-autocomplete-field-cursor":"text","--fs-autocomplete-field-background-color":X.base,"--fs-autocomplete-field-no-data-background-color":E.light,"--fs-autocomplete-field-border-color":E.dark,"--fs-autocomplete-field-color":p.base,"--fs-autocomplete-field-active-border-color":p.dark,"--fs-autocomplete-field-error-color":j.base,"--fs-autocomplete-field-error-border-color":j.base}:{"--fs-autocomplete-field-cursor":"default","--fs-autocomplete-field-border-color":E.base,"--fs-autocomplete-field-color":E.dark,"--fs-autocomplete-field-active-border-color":E.base}),me=g(()=>Object.keys(C).filter(n=>n.startsWith("autocomplete-")).reduce((n,R)=>(n[R.substring(13)]=C[R],n),{})),fe=g(()=>Object.keys(C).filter(n=>n.startsWith("toggle-set-")).reduce((n,R)=>(n[R.substring(11)]=C[R],n),{})),pe=g(()=>({style:P.value})),ce=g(()=>e.messages??D(e.modelValue,e.rules)),$=g(()=>e.items.filter(n=>n[e.itemTitle].toLowerCase().includes(s.value.toLowerCase()))),i=g(()=>e.multiple?null:Array.isArray(e.modelValue)&&e.modelValue.length>0?e.items.find(n=>n[e.itemValue]===e.modelValue[0])??null:e.modelValue?e.items.find(n=>n[e.itemValue]===e.modelValue)??null:null),ve=g(()=>{if(Array.isArray(e.modelValue)&&e.modelValue.length>0)return e.items.filter(n=>e.modelValue.includes(n[e.itemValue]));if(e.modelValue){const n=e.items.find(R=>R[e.itemValue]===e.modelValue);if(n)return[n]}return[]}),N=g(()=>e.showSearch&&s.value.trim().length>0),le=g(()=>`calc(100vh - 40px - ${16+(Q?36:40)+8}px)`),ge=g(()=>e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0?e.placeholder:i.value?i.value[e.itemTitle]:null),B=()=>{e.editable&&(l.value=!0)},Y=n=>{u("update:modelValue",n),l.value=!1},Z=n=>{Array.isArray(e.modelValue)?e.modelValue.includes(n)?u("update:modelValue",e.modelValue.filter(R=>R!==n)):u("update:modelValue",[...e.modelValue,n]):e.modelValue!=null?e.modelValue===n?u("update:modelValue",[]):u("update:modelValue",[e.modelValue,n]):u("update:modelValue",[n])},Ve=n=>{u("update:modelValue",n),n&&!Array.isArray(n)&&(b.value=!0)},_=()=>{u("update:modelValue",null),s.value=""},ae=()=>{s.value="",b.value=!1},te=()=>{b.value=!0};return ue(s,()=>{u("update:search",s.value)}),{autocompleteSlots:me,toggleSetSlots:fe,selectedItems:ve,isExtraSmall:r,allowAddItem:N,selectedItem:i,mobileValue:ge,searchItems:$,validateOn:q,ColorEnum:ne,listStyle:pe,maxHeight:le,showExtra:b,messages:ce,dialog:l,search:s,slots:C,style:P,openMobileOverlay:B,onCheckboxChange:Z,onSingleChange:Ve,onRadioChange:Y,onClear:_,onClick:ae,onBlur:te}}});function Al(e,u,r){if(u==null)return e;if(Array.isArray(u))throw new Error("Multiple matches is not implemented");return typeof u=="number"&&~u?t(z,null,[t("span",{class:"v-autocomplete__unmask"},[e.substr(0,u)]),t("span",{class:"v-autocomplete__mask"},[e.substr(u,r)]),t("span",{class:"v-autocomplete__unmask"},[e.substr(u+r)])]):e}const ql=$l({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...pl({filterKeys:["title"]}),...ul(),...kl(Qe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...hl({transition:!1})},"VAutocomplete"),Il=dl()({name:"VAutocomplete",props:ql(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,u){let{slots:r}=u;const{t:Q}=Vl(),q=J(),D=oe(!1),k=oe(!0),C=oe(!1),X=J(),j=J(),E=be(e,"menu"),p=g({get:()=>E.value,set:a=>{var d;E.value&&!a&&((d=X.value)!=null&&d.Î¨openChildren)||(E.value=a)}}),l=oe(-1),s=g(()=>{var a;return(a=q.value)==null?void 0:a.color}),b=g(()=>p.value?e.closeText:e.openText),{items:P,transformIn:me,transformOut:fe}=tl(e),{textColorClasses:pe,textColorStyles:ce}=ml(s),$=be(e,"search",""),i=be(e,"modelValue",[],a=>me(a===null?[null]:Sl(a)),a=>{const d=fe(a);return e.multiple?d:d[0]??null}),ve=g(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),N=vl(),{filteredItems:le,getMatches:ge}=cl(e,P,()=>k.value?"":$.value),B=g(()=>e.hideSelected?le.value.filter(a=>!i.value.some(d=>d.value===a.value)):le.value),Y=g(()=>!!(e.chips||r.chip)),Z=g(()=>Y.value||!!r.selection),Ve=g(()=>i.value.map(a=>a.props.value)),_=g(()=>{var d;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&$.value===((d=B.value[0])==null?void 0:d.title))&&B.value.length>0&&!k.value&&!C.value}),ae=g(()=>e.hideNoData&&!B.value.length||e.readonly||(N==null?void 0:N.isReadonly.value)),te=J(),{onListScroll:n,onListKeydown:R}=rl(te,q);function Pe(a){e.openOnClear&&(p.value=!0),$.value=""}function Re(){ae.value||(p.value=!0)}function Me(a){ae.value||(D.value&&(a.preventDefault(),a.stopPropagation()),p.value=!p.value)}function Le(a){var m,v,I;if(e.readonly||N!=null&&N.isReadonly.value)return;const d=q.value.selectionStart,V=i.value.length;if((l.value>-1||["Enter","ArrowDown","ArrowUp"].includes(a.key))&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(p.value=!0),["Escape"].includes(a.key)&&(p.value=!1),_.value&&["Enter","Tab"].includes(a.key)&&K(B.value[0]),a.key==="ArrowDown"&&_.value&&((m=te.value)==null||m.focus("next")),["Backspace","Delete"].includes(a.key)){if(!e.multiple&&Z.value&&i.value.length>0)return K(i.value[0],!1);if(l.value<0){a.key==="Backspace"&&!$.value&&(l.value=V-1);return}const S=l.value;K(i.value[l.value],!1),l.value=S>=V-1?V-2:S}if(e.multiple){if(a.key==="ArrowLeft"){if(l.value<0&&d>0)return;const S=l.value>-1?l.value-1:V-1;i.value[S]?l.value=S:(l.value=-1,q.value.setSelectionRange((v=$.value)==null?void 0:v.length,(I=$.value)==null?void 0:I.length))}if(a.key==="ArrowRight"){if(l.value<0)return;const S=l.value+1;i.value[S]?l.value=S:(l.value=-1,q.value.setSelectionRange(0,0))}}}function Oe(a){if(Ie(q.value,":autofill")||Ie(q.value,":-webkit-autofill")){const d=P.value.find(V=>V.title===a.target.value);d&&K(d)}}function He(){var a;D.value&&(k.value=!0,(a=q.value)==null||a.focus())}function Ue(a){D.value=!0,setTimeout(()=>{C.value=!0})}function Ne(a){C.value=!1}function Ke(a){(a==null||a===""&&!e.multiple)&&(i.value=[])}const he=oe(!1);function K(a){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!a||a.props.disabled))if(e.multiple){const V=i.value.findIndex(v=>e.valueComparator(v.value,a.value)),m=d??!~V;if(~V){const v=m?[...i.value,a]:[...i.value];v.splice(V,1),i.value=v}else m&&(i.value=[...i.value,a]);e.clearOnSelect&&($.value="")}else{const V=d!==!1;i.value=V?[a]:[],$.value=V&&!Z.value?a.title:"",we(()=>{p.value=!1,k.value=!0})}}return ue(D,(a,d)=>{var V;a!==d&&(a?(he.value=!0,$.value=e.multiple||Z.value?"":String(((V=i.value.at(-1))==null?void 0:V.props.title)??""),k.value=!0,we(()=>he.value=!1)):(!e.multiple&&$.value==null?i.value=[]:_.value&&!C.value&&!i.value.some(m=>{let{value:v}=m;return v===B.value[0].value})&&K(B.value[0]),p.value=!1,$.value="",l.value=-1))}),ue($,a=>{!D.value||he.value||(a&&(p.value=!0),k.value=!a)}),ue(p,()=>{if(!e.hideSelected&&p.value&&i.value.length){const a=B.value.findIndex(d=>i.value.some(V=>d.value===V.value));Cl&&window.requestAnimationFrame(()=>{var d;a>=0&&((d=j.value)==null||d.scrollToIndex(a))})}}),ue(()=>e.items,(a,d)=>{p.value||D.value&&!d.length&&a.length&&(p.value=!0)}),fl(()=>{const a=!!(!e.hideNoData||B.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),d=i.value.length>0,V=Ae.filterProps(e);return t(Ae,y({ref:q},V,{modelValue:$.value,"onUpdate:modelValue":[m=>$.value=m,Ke],focused:D.value,"onUpdate:focused":m=>D.value=m,validationValue:i.externalValue,counterValue:ve.value,dirty:d,onChange:Oe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":p.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!Z.value,"v-autocomplete--selecting-index":l.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:d?void 0:e.placeholder,"onClick:clear":Pe,"onMousedown:control":Re,onKeydown:Le}),{...r,default:()=>t(z,null,[t(yl,y({ref:X,modelValue:p.value,"onUpdate:modelValue":m=>p.value=m,activator:"parent",contentClass:"v-autocomplete__content",disabled:ae.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:He},e.menuProps),{default:()=>[a&&t(ol,y({ref:te,selected:Ve.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:m=>m.preventDefault(),onKeydown:R,onFocusin:Ue,onFocusout:Ne,onScrollPassive:n,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var m,v,I;return[(m=r["prepend-item"])==null?void 0:m.call(r),!B.value.length&&!e.hideNoData&&(((v=r["no-data"])==null?void 0:v.call(r))??t(Se,{title:Q(e.noDataText)},null)),t(sl,{ref:j,renderless:!0,items:B.value},{default:S=>{var Fe;let{item:A,index:W,itemRef:T}=S;const Ce=y(A.props,{ref:T,key:W,active:_.value&&W===0?!0:void 0,onClick:()=>K(A,null)});return((Fe=r.item)==null?void 0:Fe.call(r,{item:A,index:W,props:Ce}))??t(Se,y(Ce,{role:"option"}),{prepend:se=>{let{isSelected:ie}=se;return t(z,null,[e.multiple&&!e.hideSelected?t(Xe,{key:A.value,modelValue:ie,ripple:!1,tabindex:"-1"},null):void 0,A.props.prependAvatar&&t(nl,{image:A.props.prependAvatar},null),A.props.prependIcon&&t(qe,{icon:A.props.prependIcon},null)])},title:()=>{var se,ie;return k.value?A.title:Al(A.title,(se=ge(A))==null?void 0:se.title,((ie=$.value)==null?void 0:ie.length)??0)}})}}),(I=r["append-item"])==null?void 0:I.call(r)]}})]}),i.value.map((m,v)=>{function I(T){T.stopPropagation(),T.preventDefault(),K(m,!1)}const S={"onClick:close":I,onKeydown(T){T.key!=="Enter"&&T.key!==" "||(T.preventDefault(),T.stopPropagation(),I(T))},onMousedown(T){T.preventDefault(),T.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},A=Y.value?!!r.chip:!!r.selection,W=A?Fl(Y.value?r.chip({item:m,index:v,props:S}):r.selection({item:m,index:v})):void 0;if(!(A&&!W))return t("div",{key:m.value,class:["v-autocomplete__selection",v===l.value&&["v-autocomplete__selection--selected",pe.value]],style:v===l.value?ce.value:{}},[Y.value?r.chip?t(bl,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:m.title}}},{default:()=>[W]}):t(il,y({key:"chip",closable:e.closableChips,size:"small",text:m.title,disabled:m.props.disabled},S),null):W??t("span",{class:"v-autocomplete__selection-text"},[m.title,e.multiple&&v<i.value.length-1&&t("span",{class:"v-autocomplete__selection-comma"},[L(",")])])])})]),"append-inner":function(){var S;for(var m=arguments.length,v=new Array(m),I=0;I<m;I++)v[I]=arguments[I];return t(z,null,[(S=r["append-inner"])==null?void 0:S.call(r,...v),e.menuIcon?t(qe,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Me,onClick:wl,"aria-label":Q(b.value),title:Q(b.value)},null):void 0])}})}),gl({isFocused:D,isPristine:k,menu:p,search:$,filteredItems:le,select:K},q)}});function Tl(e,u,r,Q,q,D){const k=x("FSLoader"),C=x("FSCard"),X=x("FSSearchField"),j=x("FSDialogMenu"),E=x("FSToggleSet"),p=x("FSBaseField");return e.$props.loading?(f(),c(re,{key:0},{default:o(()=>[e.$props.hideHeader?F("",!0):(f(),c(k,{key:0,variant:"text-overline"})),e.$props.loading?(f(),c(k,{key:1,width:"100%",height:["40px","36px"]})):F("",!0)]),_:1})):e.isExtraSmall?(f(),c(re,{key:1},{default:o(()=>[t(Te,y({validationValue:e.$props.modelValue,description:e.$props.description,hideHeader:e.$props.hideHeader,clearable:e.$props.clearable,editable:e.$props.editable,required:e.$props.required,label:e.$props.label,rules:e.$props.rules,messages:e.messages,readonly:!0,modelValue:e.mobileValue,onClick:e.openMobileOverlay},e.$attrs),ye({"prepend-inner":o(()=>[e.selectedItem&&e.showExtra?h(e.$slots,"item-prepend",M(y({key:0},{item:e.selectedItem}))):F("",!0)]),clear:o(()=>[t(w,{wrap:!1},{default:o(()=>[e.selectedItem&&e.showExtra?h(e.$slots,"item-append",M(y({key:0},{item:e.selectedItem}))):F("",!0),h(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(f(),c(U,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:e.onClear},null,8,["color","onClick"])):F("",!0)])]),_:3})]),"append-inner":o(()=>[t(U,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark,onClick:e.openMobileOverlay},null,8,["editable","color","onClick"])]),_:2},[ee(e.$slots,(l,s)=>({name:s,fn:o(b=>[h(e.$slots,s,M(G(b)))])}))]),1040,["validationValue","description","hideHeader","clearable","editable","required","label","rules","messages","modelValue","onClick"]),e.$props.multiple&&Array.isArray(e.$props.modelValue)?(f(),c($e,{key:0},{default:o(()=>[(f(!0),de(z,null,ee(e.$props.items.filter(l=>e.$props.modelValue.includes(l[e.$props.itemValue])),(l,s)=>(f(),c(C,{variant:"standard",height:["40px","36px"],color:e.ColorEnum.Light,border:!1,key:s},{default:o(()=>[t(w,{align:"center-left",padding:"0 8px",wrap:!1},{default:o(()=>[h(e.$slots,"item-prepend",y({ref_for:!0},{item:l})),t(O,null,{default:o(()=>[L(H(l[e.$props.itemTitle]),1)]),_:2},1024),h(e.$slots,"item-append",y({ref_for:!0},{item:l})),t(U,{icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:()=>e.onCheckboxChange(l[e.$props.itemValue])},null,8,["color","onClick"])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:3})):F("",!0),t(j,{modelValue:e.dialog,"onUpdate:modelValue":u[2]||(u[2]=l=>e.dialog=l)},{body:o(()=>[t(X,{hideHeader:!0,modelValue:e.search,"onUpdate:modelValue":u[0]||(u[0]=l=>e.search=l)},null,8,["modelValue"]),t(De,{maxHeight:e.maxHeight},{default:o(()=>[t(re,{gap:"12px"},{default:o(()=>[(f(!0),de(z,null,ee(e.searchItems,(l,s)=>(f(),c(w,{key:s},{default:o(()=>{var b;return[e.$props.multiple?(f(),c(ke,{key:0,label:l[e.$props.itemTitle],editable:e.$props.editable,modelValue:(b=e.$props.modelValue)==null?void 0:b.includes(l[e.$props.itemValue]),"onUpdate:modelValue":()=>e.onCheckboxChange(l[e.$props.itemValue])},{label:o(({font:P})=>[t(w,{align:"center-left",wrap:!1},{default:o(()=>[h(e.$slots,"item-prepend",y({ref_for:!0},{item:l})),t(O,{font:P},{default:o(()=>[L(H(l[e.$props.itemTitle]),1)]),_:2},1032,["font"])]),_:2},1024)]),_:2},1032,["label","editable","modelValue","onUpdate:modelValue"])):(f(),c(Be,{key:1,selected:e.$props.modelValue===l[e.$props.itemValue],label:l[e.$props.itemTitle],editable:e.$props.editable,item:l,modelValue:l[e.$props.itemValue],"onUpdate:modelValue":()=>e.onRadioChange(l[e.$props.itemValue])},{label:o(({font:P})=>[t(w,{align:"center-left",wrap:!1},{default:o(()=>[h(e.$slots,"item-prepend",y({ref_for:!0},{item:l})),t(O,{font:P},{default:o(()=>[L(H(l[e.$props.itemTitle]),1)]),_:2},1032,["font"])]),_:2},1024)]),_:2},1032,["selected","label","editable","item","modelValue","onUpdate:modelValue"])),t(w,{align:"center-right"},{default:o(()=>[h(e.$slots,"item-append",y({ref_for:!0},{item:l}))]),_:2},1024)]}),_:2},1024))),128))]),_:3})]),_:3},8,["maxHeight"]),e.allowAddItem?(f(),c(w,{key:0,padding:"4px 3px"},{default:o(()=>[t(U,{variant:"icon",label:e.$tr("ui.autocomplete-field.add-item","Add new item"),color:e.ColorEnum.Primary,onClick:u[1]||(u[1]=l=>e.$emit("add:item",e.search))},null,8,["label","color"])]),_:1})):F("",!0),!e.allowAddItem&&e.searchItems.length===0?(f(),c(w,{key:1,padding:"4px 3px"},{default:o(()=>[t(O,null,{default:o(()=>[L(H(e.$tr("ui.autocomplete-field.no-data","No data")),1)]),_:1})]),_:1})):F("",!0)]),_:3},8,["modelValue"])]),_:3})):(f(),c(p,{key:2,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,label:e.$props.label,messages:e.messages},{default:o(()=>[e.$props.toggleSet?(f(),c(E,y({key:0,editable:e.$props.editable,multiple:e.$props.multiple,required:e.$props.required,values:e.$props.items,rules:e.$props.rules,modelValue:e.$props.modelValue,"onUpdate:modelValue":u[3]||(u[3]=l=>e.$emit("update:modelValue",l))},e.$attrs),ye({_:2},[ee(e.toggleSetSlots,(l,s)=>({name:s,fn:o(b=>[h(e.$slots,`toggle-set-${s}`,M(G(b)))])}))]),1040,["editable","multiple","required","values","rules","modelValue"])):(f(),c(re,{key:1},{default:o(()=>[t(Il,y({class:"fs-autocomplete-field",variant:"outlined",clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,itemTitle:e.$props.itemTitle,itemValue:e.$props.itemValue,readonly:!e.$props.editable,multiple:e.$props.multiple,validateOn:e.validateOn,autoSelectFirst:!0,persistentClear:!0,listProps:e.listStyle,returnObject:!1,items:e.$props.items,rules:e.$props.rules,hideDetails:!0,menuIcon:null,style:e.style,modelValue:e.$props.modelValue,"onUpdate:modelValue":e.onSingleChange,onClick:e.onClick,onBlur:e.onBlur,search:e.search,"onUpdate:search":u[5]||(u[5]=l=>e.search=l)},e.$attrs),ye({item:o(({props:l,item:s})=>[t(Se,M(G({...l,title:""})),{default:o(()=>[t(w,{align:"center-left",wrap:!1},{default:o(()=>{var b;return[e.$props.multiple?(f(),c(ke,{key:0,modelValue:(b=e.$props.modelValue)==null?void 0:b.includes(s.raw[e.$props.itemValue]),onClick:l.onClick},{label:o(({font:P})=>[h(e.$slots,"item-prepend",M(G({item:s.raw}))),t(O,{font:P},{default:o(()=>[L(H(s.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])]),_:2},1032,["modelValue","onClick"])):(f(),de(z,{key:1},[h(e.$slots,"item-prepend",M(G({item:s.raw}))),t(O,{font:e.$props.modelValue===s.raw[e.$props.itemTitle]?"text-button":"text-body"},{default:o(()=>[L(H(s.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])],64)),t(w,{align:"center-right"},{default:o(()=>[h(e.$slots,"item-append",M(G({item:s.raw})))]),_:2},1024)]}),_:2},1024)]),_:2},1040)]),"prepend-inner":o(()=>[e.selectedItem&&e.showExtra?h(e.$slots,"item-prepend",M(y({key:0},{item:e.selectedItem}))):F("",!0)]),clear:o(()=>[t(w,{wrap:!1},{default:o(()=>[e.selectedItem&&e.showExtra?h(e.$slots,"item-append",M(y({key:0},{item:e.selectedItem}))):F("",!0),h(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(f(),c(U,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:e.onClear},null,8,["color","onClick"])):F("",!0)])]),_:3})]),"append-inner":o(()=>[h(e.$slots,"append-inner",{},()=>[t(U,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark},null,8,["editable","color"])])]),"append-item":o(()=>[e.allowAddItem?(f(),c(w,{key:0,padding:"15px"},{default:o(()=>[t(U,{variant:"icon",label:e.$tr("ui.autocomplete.add-item","Add new item"),color:e.ColorEnum.Primary,onClick:u[4]||(u[4]=l=>e.$emit("add:item",e.search))},null,8,["label","color"])]),_:1})):F("",!0)]),"no-data":o(()=>[e.allowAddItem?F("",!0):(f(),c(w,{key:0,padding:"15px"},{default:o(()=>[t(O,null,{default:o(()=>[L(H(e.$tr("ui.common.no-data","No data")),1)]),_:1})]),_:1}))]),_:2},[ee(e.autocompleteSlots,(l,s)=>({name:s,fn:o(b=>[h(e.$slots,`autocomplete-${s}`,M(G(b)))])})),e.$props.multiple?{name:"selection",fn:o(({index:l})=>[l===e.$props.modelValue.length-1&&e.showExtra?(f(),c(O,{key:0},{default:o(()=>[L(H(e.$props.placeholder),1)]),_:1})):F("",!0)]),key:"0"}:void 0]),1040,["clearable","itemTitle","itemValue","readonly","multiple","validateOn","listProps","items","rules","style","modelValue","onUpdate:modelValue","onClick","onBlur","search"]),e.$props.multiple&&Array.isArray(e.$props.modelValue)?(f(),c($e,{key:0},{default:o(()=>[(f(!0),de(z,null,ee(e.$props.items.filter(l=>e.$props.modelValue.includes(l[e.$props.itemValue])),(l,s)=>(f(),c(C,{variant:"standard",height:["40px","36px"],color:e.ColorEnum.Light,border:!1,key:s},{default:o(()=>[t(w,{align:"center-left",padding:"0 8px"},{default:o(()=>[h(e.$slots,"item-prepend",y({ref_for:!0},{item:l})),t(O,null,{default:o(()=>[L(H(l[e.$props.itemTitle]),1)]),_:2},1024),h(e.$slots,"item-append",y({ref_for:!0},{item:l})),t(U,{icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:()=>e.onCheckboxChange(l[e.$props.itemValue])},null,8,["color","onClick"])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:3})):F("",!0)]),_:3}))]),_:3},8,["description","hideHeader","required","editable","label","messages"]))}const ma=al(Ee,[["render",Tl]]);Ee.__docgenInfo={displayName:"FSAutocompleteField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"placeholder",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"items",type:{name:"any[]"},required:!0},{name:"itemValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"id"'}},{name:"itemTitle",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"label"'}},{name:"modelValue",type:{name:"string[] | string | null | any"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"multiple",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"loading",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"toggleSet",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"showSearch",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"add:item"},{name:"update:modelValue"},{name:"update:search"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"item-prepend",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"item-append",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"clear"},{name:"`toggle-set-${name}`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"`autocomplete-${name}`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"append-inner"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSAutocompleteField.vue"]};export{ma as F};
