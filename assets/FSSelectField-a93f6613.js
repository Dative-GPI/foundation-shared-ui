import{f as J,j as K,g as p,D as T,E as n,F as i,G as s,H as D,M as t,U as A,V as c,R as f,N as g,O as v,A as E,J as H,I as M,K as Q,L as W}from"./vue.esm-bundler-838daa40.js";import{F as X}from"./FSDialogMenu-722a6878.js";import{F as R}from"./FSRadioGroup-b8d7aeee.js";import{F as Y}from"./VField-2385223f.js";import{F as w}from"./FSTextField-eda7ef73.js";import{F}from"./FSCheckbox-ee47ff76.js";import{F as U}from"./FSFadeOut-498299d0.js";import{F as V}from"./FSButton-919146d7.js";import{_ as j}from"./FSSpan-3df08200.js";import{_ as S}from"./FSCol-44fe82a9.js";import{_ as q}from"./FSRow-753b58e5.js";import{u as Z}from"./useRules-cda8e231.js";import{u as _}from"./css-67cfec15.js";import{u as x,C as b}from"./useColors-95e93720.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import{V as le,a as ae}from"./VSelect-5b0f61d5.js";const N=J({name:"FSSelectField",components:{FSDialogMenu:X,FSRadioGroup:R,FSBaseField:Y,FSTextField:w,FSCheckbox:F,FSFadeOut:U,FSButton:V,FSSpan:j,FSCol:S,FSRow:q},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},items:{type:Array,required:!0},itemValue:{type:String,required:!1,default:"id"},itemTitle:{type:String,required:!1,default:"label"},modelValue:{type:[Array,String,Number],required:!1,default:null},hideHeader:{type:Boolean,required:!1,default:!1},returnObject:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const{validateOn:k,blurred:C,getMessages:h}=Z(),{isExtraSmall:O}=_(),{getColors:d}=x(),$=d(b.Background),l=d(b.Error),r=d(b.Light),u=d(b.Dark),y=K(!1),B=p(()=>e.editable?{"--fs-select-field-cursor":"pointer","--fs-select-field-background-color":$.base,"--fs-select-field-border-color":r.dark,"--fs-select-field-color":u.base,"--fs-select-field-active-border-color":u.dark,"--fs-select-field-error-border-color":l.base}:{"--fs-select-field-cursor":"default","--fs-select-field-border-color":r.base,"--fs-select-field-color":r.dark,"--fs-select-field-active-border-color":r.base}),P=p(()=>({style:B.value})),I=p(()=>e.messages??h(e.modelValue,e.rules)),L=p(()=>"calc(100vh - 40px - 16px)"),G=p(()=>{if(e.multiple&&Array.isArray(e.modelValue))return e.modelValue.map(o=>{const m=e.items.find(z=>z[e.itemValue]===o);if(m)return m[e.itemTitle]}).filter(o=>!!o).join(", ");if(e.modelValue){const o=e.items.find(m=>m[e.itemValue]===e.modelValue);if(o)return o[e.itemTitle]}return null});return{isExtraSmall:O,mobileValue:G,validateOn:k,ColorEnum:b,listStyle:P,messages:I,blurred:C,dialog:y,height:L,style:B,openMobileOverlay:()=>{e.editable&&(y.value=!0)},onCheckboxChange:o=>{Array.isArray(e.modelValue)?e.modelValue.includes(o)?a("update:modelValue",e.modelValue.filter(m=>m!==o)):a("update:modelValue",[...e.modelValue,o]):e.modelValue===o?a("update:modelValue",[]):a("update:modelValue",[e.modelValue,o])},onRadioChange:o=>{a("update:modelValue",o),y.value=!1}}}});function re(e,a,k,C,h,O){const d=T("FSDialogMenu"),$=T("FSBaseField");return n(),i(S,null,{default:s(()=>[e.isExtraSmall?(n(),D(H,{key:0},[t(w,E({label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,clearable:e.$props.clearable,editable:e.$props.editable,readonly:!0,rules:e.$props.rules,messages:e.messages,validateOn:e.validateOn,validationValue:e.$props.modelValue,modelValue:e.mobileValue,"onUpdate:modelValue":a[0]||(a[0]=l=>e.$emit("update:modelValue",l)),onClick:e.openMobileOverlay,onBlur:a[1]||(a[1]=l=>e.blurred=!0)},e.$attrs),A({"append-inner":s(()=>[f(e.$slots,"append-inner",{},()=>[t(V,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark,onClick:e.openMobileOverlay},null,8,["editable","color","onClick"])])]),_:2},[c(e.$slots,(l,r)=>({name:r,fn:s(u=>[f(e.$slots,r,g(v(u)))])}))]),1040,["label","description","hideHeader","required","clearable","editable","rules","messages","validateOn","validationValue","modelValue","onClick"]),t(d,{modelValue:e.dialog,"onUpdate:modelValue":a[2]||(a[2]=l=>e.dialog=l)},{body:s(()=>[t(U,{height:e.height},{default:s(()=>[e.$props.multiple?(n(),i(S,{key:0,gap:"12px"},{default:s(()=>[(n(!0),D(H,null,c(e.$props.items,(l,r)=>(n(),i(q,{key:r},{default:s(()=>{var u;return[t(F,{label:l[e.$props.itemTitle],editable:e.$props.editable,modelValue:(u=e.$props.modelValue)==null?void 0:u.includes(l[e.$props.itemValue]),"onUpdate:modelValue":()=>e.onCheckboxChange(l[e.$props.itemValue])},null,8,["label","editable","modelValue","onUpdate:modelValue"])]}),_:2},1024))),128))]),_:1})):(n(),i(R,{key:1,gap:"12px",values:e.$props.items.map(l=>({value:l[e.$props.itemValue],label:l[e.$props.itemTitle]})),modelValue:e.$props.modelValue,editable:e.$props.editable,"onUpdate:modelValue":e.onRadioChange},null,8,["values","modelValue","editable","onUpdate:modelValue"]))]),_:1},8,["height"])]),_:1},8,["modelValue"])],64)):(n(),i($,{key:1,label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,messages:e.messages},{default:s(()=>[t(ae,E({class:"fs-select-field",variant:"outlined",menuIcon:null,style:e.style,listProps:e.listStyle,hideDetails:!0,items:e.$props.items,itemTitle:e.$props.itemTitle,itemValue:e.$props.itemValue,readonly:!e.$props.editable,clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,returnObject:e.$props.returnObject,rules:e.$props.rules,validateOn:e.validateOn,multiple:e.$props.multiple,modelValue:e.$props.modelValue,"onUpdate:modelValue":a[4]||(a[4]=l=>e.$emit("update:modelValue",l)),onBlur:a[5]||(a[5]=l=>e.blurred=!0)},e.$attrs),A({item:s(({props:l,item:r})=>[t(le,g(v({...l,title:""})),{default:s(()=>[t(q,{align:"center-left"},{default:s(()=>{var u;return[e.$props.multiple?(n(),i(F,{key:0,modelValue:(u=e.$props.modelValue)==null?void 0:u.includes(r.raw.id),onClick:l.onClick},null,8,["modelValue","onClick"])):M("",!0),t(j,null,{default:s(()=>[Q(W(r.raw.label),1)]),_:2},1024)]}),_:2},1024)]),_:2},1040)]),clear:s(()=>[f(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(n(),i(V,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:a[3]||(a[3]=l=>e.$emit("update:modelValue",null))},null,8,["color"])):M("",!0)])]),"append-inner":s(()=>[f(e.$slots,"append-inner",{},()=>[t(V,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark},null,8,["editable","color"])])]),_:2},[c(e.$slots,(l,r)=>({name:r,fn:s(u=>[f(e.$slots,r,g(v(u)))])}))]),1040,["style","listProps","items","itemTitle","itemValue","readonly","clearable","returnObject","rules","validateOn","multiple","modelValue"])]),_:3},8,["label","description","hideHeader","required","editable","messages"]))]),_:3})}const qe=ee(N,[["render",re]]);N.__docgenInfo={displayName:"FSSelectField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"items",type:{name:"any[]"},required:!0},{name:"itemValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"id"'}},{name:"itemTitle",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"label"'}},{name:"modelValue",type:{name:"(string | number)[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"returnObject",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"multiple",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"append-inner"},{name:"clear"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSSelectField.vue"]};export{qe as F};
