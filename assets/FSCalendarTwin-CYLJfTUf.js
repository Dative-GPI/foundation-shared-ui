import{d as Z,b as w,c as f,g as x,A as ee,B as le,C as ae,E as i,P as s,F as Y,R as C,J as L,K as M,X as b}from"./vue.esm-bundler-Zcuj-zyO.js";import{F as te}from"./FSSelectField-b29JGwjP.js";import{F}from"./FSButton-BzTwanlk.js";import{_ as p}from"./FSSpan-Bb6VK1Ws.js";import{F as D}from"./FSCol-DLyNVOXQ.js";import{_ as V}from"./FSRow-4Qz6Bbpg.js";import{C as k,u as ne}from"./useColors-Cz5tOQmp.js";import{u as oe}from"./useDateFormat-DKOGXig2.js";import{u as ue}from"./useAppLanguageCode-DjpqeQYI.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as R,a as U}from"./VLocaleProvider-BOBWKwQe.js";const N=Z({name:"FSCalendarTwin",components:{FSSelectField:te,FSButton:F,FSSpan:p,FSCol:D,FSRow:V},props:{modelValue:{type:Array,required:!1,default:null},color:{type:String,required:!1,default:k.Dark},limit:{type:String,required:!1,default:"none"}},emits:["update:modelValue"],setup(e,{emit:m}){const{epochToPicker:T,epochToPickerHeader:c,pickerToEpoch:v,todayToEpoch:S}=oe(),{languageCode:y}=ue(),{getColors:h}=ne(),n=w(new Date().getMonth()),o=w(new Date().getFullYear()),u=w(new Date().getMonth()),r=w(new Date().getFullYear()),g=f(()=>h(e.color)),P=h(k.Background),$=h(k.Light),B=h(k.Dark),E=f(()=>({"--fs-calendar-background-color":P.base,"--fs-calendar-hover-background-color":g.value.light,"--fs-calendar-active-background-color":g.value.base,"--fs-calendar-border-color":$.dark,"--fs-calendar-hover-border-color":g.value.base,"--fs-calendar-active-border-color":g.value.base,"--fs-calendar-color":B.base,"--fs-calendar-hover-color":g.value.base,"--fs-calendar-active-color":g.value.light})),q=f(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>d("during","left",c(l))||d("before","left",c(l)))),z=f(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>d("during","right",c(l))||d("after","right",c(l)))),A=f(()=>{const l=new Date(0);return l.setMonth(n.value),l.setFullYear(o.value),new Intl.DateTimeFormat(y.value,{month:"long",year:"numeric"}).format(l)}),H=f(()=>{const l=new Date(0);return l.setMonth(u.value),l.setFullYear(r.value),new Intl.DateTimeFormat(y.value,{month:"long",year:"numeric"}).format(l)}),I=f(()=>{const l=["fs-calendar-half","fs-calendar-left"];if(e.modelValue&&e.modelValue.length>1){const a=c(e.modelValue[0]),t=c(e.modelValue[1]);d("before","left",a)&&d("after","left",t)?l.push("fs-calendar-full"):d("during","left",a)&&d("during","left",t)?a.d!==t.d&&l.push("fs-calendar-part"):d("during","left",a)?l.push("fs-calendar-start"):d("during","left",t)&&l.push("fs-calendar-end")}return l}),_=f(()=>{const l=["fs-calendar-half","fs-calendar-right"];if(e.modelValue&&e.modelValue.length>1){const a=c(e.modelValue[0]),t=c(e.modelValue[1]);d("before","right",a)&&d("after","right",t)?l.push("fs-calendar-full"):d("during","right",a)&&d("during","right",t)?a.d!==t.d&&l.push("fs-calendar-part"):d("during","right",a)?l.push("fs-calendar-start"):d("during","right",t)&&l.push("fs-calendar-end")}return l}),J=f(()=>{const l=[];switch(e.limit){case"past":for(let a=1900;a<new Date().getFullYear();a++)l.push({label:a.toString(),id:a});break;case"future":for(let a=new Date().getFullYear();a<2100;a++)l.push({label:a.toString(),id:a});break;default:for(let a=1900;a<2100;a++)l.push({label:a.toString(),id:a});break}return l}),d=(l,a,t)=>{switch(l){case"before":switch(a){case"left":return o.value>t.y||o.value===t.y&&n.value>t.m;default:return r.value>t.y||r.value===t.y&&u.value>t.m}case"during":switch(a){case"left":return o.value===t.y&&n.value===t.m;default:return r.value===t.y&&u.value===t.m}case"after":switch(a){case"left":return o.value<t.y||o.value===t.y&&n.value<t.m;default:return r.value<t.y||r.value===t.y&&u.value<t.m}}},K=()=>{n.value===11?(n.value--,u.value=11,r.value--):n.value===0?(o.value--,n.value=11,u.value--):(n.value--,u.value--)},X=()=>{u.value===11?(u.value=0,r.value++,n.value++):u.value===0?(u.value++,n.value=0,o.value++):(u.value++,n.value++)},j=l=>{const a=l;if(a.length===0){e.modelValue&&e.modelValue.length>0&&m("update:modelValue",[e.modelValue[0],e.modelValue[0]]);return}const t=v(a[a.length-1]);e.modelValue&&e.modelValue[0]===e.modelValue[1]?m("update:modelValue",[e.modelValue[0],t].sort()):m("update:modelValue",[t,t])},G=l=>{const a=l;if(a.length===0){e.modelValue&&e.modelValue.length>0&&m("update:modelValue",[e.modelValue[e.modelValue.length-1],e.modelValue[e.modelValue.length-1]]);return}const t=v(a[a.length-1]);e.modelValue&&e.modelValue[0]===e.modelValue[1]?m("update:modelValue",[e.modelValue[0],t].sort()):m("update:modelValue",[t,t])},O=()=>{const l=new Date;n.value=l.getMonth(),o.value=l.getFullYear(),n.value===11?(u.value=0,r.value=o.value+1):(u.value=n.value+1,r.value=o.value),l.setHours(0,0,0,0),m("update:modelValue",[v(l),v(l)])},Q=l=>{r.value!==o.value?(o.value=l,r.value=l+1):(o.value=l,r.value=l)},W=l=>{if(!(l instanceof Date))return!1;switch(e.limit){case"past":return v(l)<=S();case"future":return v(l)>=S();default:return!0}};return x(()=>{!e.modelValue||!e.modelValue.length?(n.value=new Date().getMonth(),o.value=new Date().getFullYear(),n.value<11?(u.value=n.value+1,r.value=o.value):(u.value=0,r.value=o.value+1)):(n.value=c(e.modelValue[0]).m,o.value=c(e.modelValue[0]).y,n.value<11?(u.value=n.value+1,r.value=o.value):(u.value=0,r.value=o.value+1))}),{ColorEnum:k,languageCode:y,style:E,leftClasses:I,leftText:A,innerLeftMonth:n,innerLeftYear:o,innerLeftValue:q,rightClasses:_,rightText:H,innerRightMonth:u,innerRightYear:r,innerRightValue:z,years:J,epochToPicker:T,onClickPrevious:K,onClickNext:X,onClickLeft:j,onClickRight:G,onClickToday:O,onChangeYear:Q,allowedDates:W}}}),se=b("div",null,null,-1),de=b("div",null,null,-1);function ie(e,m,T,c,v,S){const y=ee("FSSelectField");return le(),ae(D,{width:"hug"},{default:i(()=>[s(V,null,{default:i(()=>[s(y,{hideHeader:!0,clearable:!1,items:e.years,modelValue:e.innerLeftYear,"onUpdate:modelValue":e.onChangeYear},null,8,["items","modelValue","onUpdate:modelValue"]),s(V,{align:"center-right"},{default:i(()=>[s(F,{label:e.$tr("ui.common.today","Today"),onClick:e.onClickToday},null,8,["label","onClick"])]),_:1})]),_:1}),s(V,{class:"fs-calendar-twin",align:"top-center",width:"hug",height:["380px","375px"],style:C(e.style)},{default:i(()=>[s(D,{align:"top-center",width:"hug",class:Y(e.leftClasses),style:C(e.style)},{default:i(()=>[s(V,{class:"fs-calendar-header",align:"center-center"},{default:i(()=>[s(F,{size:"l",variant:"icon",icon:"mdi-chevron-left",color:e.ColorEnum.Dark,onClick:e.onClickPrevious},null,8,["color","onClick"]),s(p,{class:"fs-calendar-text",font:"text-h3"},{default:i(()=>[L(M(e.leftText),1)]),_:1}),se]),_:1}),b("div",{class:"fs-calendar-divider",style:C(e.style)},null,4),s(R,{locale:e.languageCode},{default:i(()=>[s(U,{month:e.innerLeftMonth,year:e.innerLeftYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerLeftValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickLeft,"onUpdate:month":h=>null,"onUpdate:year":h=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"]),s(D,{align:"top-center",width:"hug",class:Y(e.rightClasses),style:C(e.style)},{default:i(()=>[s(V,{class:"fs-calendar-header",align:"center-center"},{default:i(()=>[de,s(p,{class:"fs-calendar-text",font:"text-h3"},{default:i(()=>[L(M(e.rightText),1)]),_:1}),s(F,{size:"l",variant:"icon",icon:"mdi-chevron-right",color:e.ColorEnum.Dark,onClick:e.onClickNext},null,8,["color","onClick"])]),_:1}),b("div",{class:"fs-calendar-divider",style:C(e.style)},null,4),s(R,{locale:e.languageCode},{default:i(()=>[s(U,{month:e.innerRightMonth,year:e.innerRightYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerRightValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickRight,"onUpdate:month":h=>null,"onUpdate:year":h=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"])]),_:1},8,["style"])]),_:1})}const Fe=re(N,[["render",ie]]);N.__docgenInfo={displayName:"FSCalendarTwin",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"number[] | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Dark"}},{name:"limit",values:["none","past","future"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"none"'}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSCalendarTwin.vue"]};export{Fe as F};
