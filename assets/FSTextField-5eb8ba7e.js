import{f as Y,g as m,j as C,Q as a,A as x,a0 as Z,a1 as _,J as k,a2 as ee,n as D,D as le,E as T,F as A,G as $,U as te,V as ae,O as re,R as ne,S as se,I as ue}from"./vue.esm-bundler-1de4ab84.js";import{F as oe,m as ie,f as de,V as fe,a as ce}from"./VField-c7605df9.js";import{F as E}from"./FSButton-6b0685b3.js";import{u as me}from"./useRules-14fb7f63.js";import{u as pe,C as F}from"./useColors-6201f155.js";import{_ as ve}from"./_plugin-vue_export-helper-c27b6911.js";import{m as ye,u as Ve,V as R}from"./VInput-73e9b49a.js";import{f as be}from"./forwardRefs-e658ad70.js";import{u as ge}from"./proxiedModel-ef310637.js";import{I as Fe}from"./index-bd033a0f.js";import{p as xe,K as Ce,L as ke}from"./theme-fee57059.js";import{g as $e,u as qe}from"./useRender-b44b777b.js";const N=Y({name:"FSTextField",components:{FSBaseField:oe,FSButton:E},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"text"},modelValue:{type:String,required:!1,default:null},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e){const{validateOn:n,blurred:f,getMessages:p}=me(),{getColors:t}=pe(),s=t(F.Error),r=t(F.Light),u=t(F.Dark),c=m(()=>e.editable?{"--fs-text-field-cursor":"text","--fs-text-field-border-color":r.dark,"--fs-text-field-color":u.base,"--fs-text-field-active-border-color":u.dark,"--fs-text-field-error-border-color":s.base}:{"--fs-text-field-cursor":"default","--fs-text-field-border-color":r.base,"--fs-text-field-color":r.dark,"--fs-text-field-active-border-color":r.base}),v=m(()=>e.messages??p(e.modelValue,e.rules));return{validateOn:n,ColorEnum:F,messages:v,blurred:f,style:c}}}),he=["color","file","time","date","datetime-local","week","month"],Se=xe({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ye(),...ie()},"VTextField"),Pe=$e()({name:"VTextField",directives:{Intersect:Fe},inheritAttrs:!1,props:Se(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:f,emit:p,slots:t}=n;const s=ge(e,"modelValue"),{isFocused:r,focus:u,blur:c}=Ve(e),v=m(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),O=m(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),q=m(()=>["plain","underlined"].includes(e.variant));function M(l,o){var i,d;!e.autofocus||!l||(d=(i=o[0].target)==null?void 0:i.focus)==null||d.call(i)}const h=C(),S=C(),y=C(),H=m(()=>he.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function b(){var l;y.value!==document.activeElement&&((l=y.value)==null||l.focus()),r.value||u()}function U(l){p("mousedown:control",l),l.target!==y.value&&(b(),l.preventDefault())}function L(l){b(),p("click:control",l)}function j(l){l.stopPropagation(),b(),D(()=>{s.value=null,ke(e["onClick:clear"],l)})}function z(l){var i;const o=l.target;if(s.value=o.value,(i=e.modelModifiers)!=null&&i.trim&&["text","search","password","tel","url"].includes(e.type)){const d=[o.selectionStart,o.selectionEnd];D(()=>{o.selectionStart=d[0],o.selectionEnd=d[1]})}}return qe(()=>{const l=!!(t.counter||e.counter!==!1&&e.counter!=null),o=!!(l||t.details),[i,d]=Ce(f),{modelValue:Ie,...G}=R.filterProps(e),J=de(e);return a(R,x({ref:h,modelValue:s.value,"onUpdate:modelValue":V=>s.value=V,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":q.value},e.class],style:e.style},i,G,{centerAffix:!q.value,focused:r.value}),{...t,default:V=>{let{id:g,isDisabled:P,isDirty:B,isReadonly:K,isValid:Q}=V;return a(fe,x({ref:S,onMousedown:U,onClick:L,"onClick:clear":j,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},J,{id:g.value,active:H.value||B.value,dirty:B.value||e.dirty,disabled:P.value,focused:r.value,error:Q.value===!1}),{...t,default:W=>{let{props:{class:I,...X}}=W;const w=Z(a("input",x({ref:y,value:s.value,onInput:z,autofocus:e.autofocus,readonly:K.value,disabled:P.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:b,onBlur:c},X,d),null),[[_("intersect"),{handler:M},null,{once:!0}]]);return a(k,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?a("div",{class:I,"data-no-activator":""},[t.default(),w]):ee(w,{class:I}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:o?V=>{var g;return a(k,null,[(g=t.details)==null?void 0:g.call(t,V),l&&a(k,null,[a("span",null,null),a(ce,{active:e.persistentCounter||r.value,value:v.value,max:O.value,disabled:e.disabled},t.counter)])])}:void 0})}),be({},h,S,y)}});function Be(e,n,f,p,t,s){const r=le("FSBaseField");return T(),A(r,{label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,messages:e.messages},{default:$(()=>[a(Pe,x({class:"fs-text-field",variant:"outlined",style:e.style,type:e.$props.type,persistentClear:!0,hideDetails:!0,readonly:!e.$props.editable,clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,rules:e.$props.rules,validateOn:e.validateOn,modelValue:e.$props.modelValue,"onUpdate:modelValue":n[1]||(n[1]=u=>e.$emit("update:modelValue",u)),onBlur:n[2]||(n[2]=u=>e.blurred=!0)},e.$attrs),te({clear:$(()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(T(),A(E,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:n[0]||(n[0]=u=>e.$emit("update:modelValue",null))},null,8,["color"])):ue("",!0)]),_:2},[ae(e.$slots,(u,c)=>({name:c,fn:$(v=>[re(e.$slots,c,ne(se(v)))])}))]),1040,["style","type","readonly","clearable","rules","validateOn","modelValue"])]),_:3},8,["label","description","hideHeader","required","editable","messages"])}const je=ve(N,[["render",Be]]);N.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"type",values:["text","password","number"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"text"'}},{name:"modelValue",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSTextField.vue"]};export{je as F,Pe as V,Se as m};
