var U=Object.defineProperty;var R=(o,t,l)=>t in o?U(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l;var i=(o,t,l)=>R(o,typeof t!="symbol"?t+"":t,l);import{d as E,c as O,o as z,w as W,y as m,z as p,A as f,M as G,N as V,B as s,m as A,I,J as T,K as _,L as a,E as b,D as F}from"./vue.esm-bundler-Vj2X7okO.js";import{_ as j}from"./lodash-BiW_TGGX.js";import{F as J}from"./FSDataTable-DF5hV4js.js";import{F as K}from"./FSMetaValue-S74RyHqG.js";import{F as H}from"./FSImage-v1W0r2Z0.js";import{F as Q}from"./FSTagGroup-B84Cubf2.js";import{F as X}from"./FSIconCheck-BPs0k5Hm.js";import{a as Y,F as Z,b as x,C as D}from"./FSDeviceOrganisationTileUI-De_SvfOf.js";import{F as ee}from"./FSStatusesCarousel-pJa6_nLy.js";import{C as te}from"./base-Cf5ASDDk.js";import{S as oe}from"./serviceFactory-Bd5jifNi.js";import{C as ie}from"./composableFactory-B0937_6N.js";import{u as re}from"./useDeviceOrganisations-ChUOcl9p.js";import{a as w}from"./customProperties-DqkON8hk.js";import{a as P}from"./FSDataTableUI-bgjvlH5P.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as $}from"./FSCol-Bk577joi.js";import{_ as M}from"./FSIcon-DhgV6LdF.js";import"./_commonjsHelpers-BosuxZz1.js";import"./VImg-BsFS2wEb.js";import"./css-CbCR1nbl.js";import"./useColors-s1xYWcRF.js";import"./index-3zl-tJp_.js";import"./theme-D8Xq3tpQ.js";import"./color-CxiNukW_.js";import"./dimensions-CzmId2tp.js";import"./elevation-BH8AnXAq.js";import"./locale-CMOn_BOp.js";import"./rounded-BWAMdTmW.js";import"./transition-CQDsmRPd.js";import"./index-jvVque46.js";import"./FSRow-BuYwVvwM.js";import"./VSpacer-YT0o3rZT.js";import"./FSFadeOut-DFZnJQQe.js";import"./uuid-DTaye2KM.js";import"./useAppTimeZone-ghwi0HtC.js";import"./FSText-cnz1-zil.js";import"./useSlots-DXmhvOIb.js";import"./useDateFormat-DZcIDWp6.js";import"./datesTools-RiUw1NMp.js";import"./useTranslations-DyPMaPr_.js";import"./useAppLanguageCode-Dd4JQvnz.js";import"./FSImageUI-D5o6wXUy.js";import"./base-CmdGny12.js";import"./FSWrapGroup-4ZsVQWHG.js";import"./FSSlideGroup-DrFQ8DQG.js";import"./FSButton-Bn1-9X_j.js";import"./FSClickable-CAMTfGUR.js";import"./FSCard-B6X58T5E.js";import"./VProgressCircular-DnrgPZB3.js";import"./tag-DxanhlL3.js";import"./FSSpan-etgUZXmX.js";import"./index-joExpvzU.js";import"./display-Cx0CWWL8.js";import"./group-DgCbl5w-.js";import"./proxiedModel-BE9FlVMJ.js";import"./VIcon-DptP6m9n.js";import"./FSTag-DaXt_p_u.js";import"./VBtn-CJflX_3O.js";import"./border-CgF0busY.js";import"./density-BM1QLeh4.js";import"./loader-CbF0edCX.js";import"./anchor-DHDhudvL.js";import"./router-CbAEScZe.js";import"./index-DjMs4W1j.js";import"./VDefaultsProvider-CztrVRTm.js";import"./FSChip-ChzFxN0B.js";import"./VMenu-DOKVMVxb.js";import"./VOverlay-BT06S-GU.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-CqgcpKMK.js";import"./alerts-pw2xvgtT.js";import"./FSDivider-Du57hNwg.js";import"./FSTile-BRBXjM56.js";import"./FSCheckbox-2nJSFmbZ.js";import"./useRules-DpnTqc7T.js";import"./VSelectionControl-DcHbqw-H.js";import"./VLabel-BPqk0hPA.js";import"./VInput-Dln06fOF.js";import"./form-CgybbRT3.js";import"./FSWindow-Ctz2OUFZ.js";import"./ssrBoot-D42UTWSS.js";import"./FSColor-DVhOdS66.js";import"./useAppOrganisationId-Cm3pwMtR.js";import"./hubFactory-BC_RzFMH.js";import"./pathCrumb-Db-cq5HI.js";import"./vue-router-Cn9ishJ4.js";import"./FSSearchField-By5tDbEi.js";import"./FSTextField-iR5himse.js";import"./FSBaseField-CGde08E6.js";import"./VField-DaMwaaXY.js";import"./FSSelectField-BHDGWzRI.js";import"./FSDialogMenu-DkG50X2r.js";import"./VDialog-1j0g9zHx.js";import"./FSToggleSet-BcMhDEEs.js";import"./FSRadio-DKr_ONVF.js";import"./VList-DonjtRcz.js";import"./VSelect-BkSDNjss.js";import"./FSOptionGroup-BenNnmLH.js";import"./filter-CkY1Z-lm.js";class ne{constructor(t){i(this,"priority");i(this,"filterType");i(this,"filterValues");i(this,"color");this.priority=t.priority,this.filterType=t.filterType,this.filterValues=t.filterValues.slice(),this.color=t.color}}class q{constructor(t){i(this,"id");i(this,"code");i(this,"label");i(this,"categoryLabel");i(this,"index");i(this,"entity");i(this,"dataType");i(this,"addInInfos");i(this,"readOnlyCore");i(this,"readOnlyAdmin");i(this,"defaultValue");i(this,"history");i(this,"historySize");i(this,"colorful");i(this,"colorMap");i(this,"useOnlyAllowedValues");i(this,"allowedValues");this.id=t.id,this.code=t.code,this.label=t.label,this.categoryLabel=t.categoryLabel,this.index=t.index,this.entity=t.entity,this.dataType=t.dataType,this.addInInfos=t.addInInfos,this.readOnlyCore=t.readOnlyCore,this.readOnlyAdmin=t.readOnlyAdmin,this.defaultValue=t.defaultValue,this.history=t.history,this.historySize=t.historySize,this.colorful=t.colorful,this.colorMap=t.colorMap.map(l=>new ne(l)),this.useOnlyAllowedValues=t.useOnlyAllowedValues,this.allowedValues={...t.allowedValues}}}class ae extends q{constructor(t){super(t)}}const le=()=>`${te()}/custom-properties`,me=new oe("customProperty",ae).create(o=>o.build(o.addGetMany(le,q),o.addNotify())),ce=ie.getMany(me),L=E({name:"FSBaseDeviceOrganisationsList",components:{FSConnectivity:Y,FSDataTable:J,FSDeviceOrganisationTileUI:Z,FSIconCheck:X,FSImage:H,FSMetaValue:K,FSStatusesCarousel:ee,FSTagGroup:Q,FSWorstAlert:x},props:{modelValue:{type:Array,default:()=>[],required:!1},deviceOrganisationFilters:{type:Object,required:!1,default:null},connectedOnly:{type:Boolean,required:!1,default:!1},itemTo:{type:Function,required:!1},singleSelect:{type:Boolean,required:!1,default:!1},tableCode:{type:String,required:!0}},emits:["update:modelValue"],setup(o){const{fetching:t,entities:l,getMany:h}=ce(),{entities:y,fetching:C,getMany:v}=re(),u=O(()=>o.connectedOnly?y.value.filter(r=>r.connectivity!=null&&r.connectivity.status!=D.None):y.value),g=O(()=>({connectable:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status),connectivity:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status)})),S=r=>o.modelValue.includes(r);return z(()=>{h({entities:[w.Device,w.DeviceOrganisation]})}),W(()=>o.deviceOrganisationFilters,(r,n)=>{(!r&&!n||!j.isEqual(r,n))&&v(o.deviceOrganisationFilters)},{immediate:!0}),{fetchingDeviceOrganisations:C,fecthingCustomProperties:t,deviceOrganisations:u,ConnectivityStatus:D,customProperties:l,customSorts:g,isSelected:S}}});function ue(o,t,l,h,y,C){const v=m("FSImage"),u=m("FSConnectivity"),g=m("FSIconCheck"),S=m("FSTagGroup"),r=m("FSWorstAlert"),n=m("FSStatusesCarousel"),N=m("FSMetaValue"),k=m("FSDeviceOrganisationTileUI"),B=m("FSDataTable");return p(),f(B,A({items:o.deviceOrganisations,customSorts:o.customSorts,itemTo:o.$props.itemTo,loading:o.fetchingDeviceOrganisations,tableCode:o.$props.tableCode,modelValue:o.$props.modelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>o.$emit("update:modelValue",e))},o.$attrs),G({"header.connectable-title":s(()=>[a(M,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"header.connectivity-title":s(()=>[a(M,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"item.imageId":s(({item:e})=>[e.imageId?(p(),f(v,{key:0,height:"32px",width:"32px",imageId:e.imageId},null,8,["imageId"])):F("",!0)]),"item.connectable":s(({item:e})=>[a($,null,{default:s(()=>[e.connectivity.status!=o.ConnectivityStatus.None?(p(),f(u,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):F("",!0)]),_:2},1024)]),"item.connectivity":s(({item:e})=>[a($,null,{default:s(()=>[e.connectivity.status!=o.ConnectivityStatus.None?(p(),f(u,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):F("",!0)]),_:2},1024)]),"item.unrestricted":s(({item:e})=>[a(g,{value:e.unrestricted},null,8,["value"])]),"item.tags":s(({item:e})=>[a(S,{variant:"slide",editable:!1,tags:e.tags},null,8,["tags"])]),"item.worstAlert":s(({item:e})=>[a(r,{deviceAlerts:e.alerts,deviceAlert:e.worstAlert},null,8,["deviceAlerts","deviceAlert"])]),"item.alerts":s(({item:e})=>[a(r,{deviceAlerts:e.alerts.length,deviceAlert:e.worstAlert},null,8,["deviceAlerts","deviceAlert"])]),"item.status":s(({item:e})=>[a(n,{modelStatuses:e.modelStatuses,deviceStatuses:e.status.statuses},null,8,["modelStatuses","deviceStatuses"])]),"item.actions":s(({item:e})=>[I(o.$slots,"actions",T(_({item:e})))]),"item.tile":s(({item:e,toggleSelect:c})=>[a(k,A(e,{modelValue:o.isSelected(e.id),singleSelect:o.singleSelect,deviceStatuses:e.status.statuses,deviceConnectivity:e.connectivity,deviceWorstAlert:e.worstAlert,deviceAlerts:e.alerts,to:o.$props.itemTo&&o.$props.itemTo(e),"onUpdate:modelValue":d=>c(e)}),null,16,["modelValue","singleSelect","deviceStatuses","deviceConnectivity","deviceWorstAlert","deviceAlerts","to","onUpdate:modelValue"])]),_:2},[V(o.$slots,(e,c)=>({name:c,fn:s(d=>[I(o.$slots,c,T(_(d)))])})),V(o.customProperties,(e,c)=>({name:`item.meta.${e.code}`,fn:s(({item:d})=>[a(N,{customProperty:e,meta:d.meta},null,8,["customProperty","meta"])])}))]),1040,["items","customSorts","itemTo","loading","tableCode","modelValue"])}const so=se(L,[["render",ue]]);L.__docgenInfo={displayName:"FSBaseDeviceOrganisationsList",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"deviceOrganisationFilters",type:{name:"DeviceOrganisationFilters"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"connectedOnly",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"itemTo",type:{name:"(item: DeviceOrganisationInfos) => Partial<RouteLocation>"},required:!1},{name:"singleSelect",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"tableCode",type:{name:"string"},required:!0}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"actions",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/lists/deviceOrganisations/FSBaseDeviceOrganisationsList.vue"]};export{so as default};
