var f=Object.defineProperty;var I=(i,s,e)=>s in i?f(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var o=(i,s,e)=>I(i,typeof s!="symbol"?s+"":s,e);import{D as g,a as D,b as O,c as R,W as C}from"./dashboardTranslation-CcLHITut.js";import{P as A}from"./pathCrumb-Db-cq5HI.js";import{C as y}from"./base-Db9bJp6t.js";import{S as n}from"./serviceFactory-Bd5jifNi.js";import{C as r}from"./composableFactory-rrf4GM2L.js";class h{constructor(s){o(this,"id");o(this,"dashboardId");o(this,"organisationId");o(this,"folderId");o(this,"folderLabel");o(this,"folderIcon");o(this,"imageId");o(this,"scope");o(this,"locked");o(this,"label");o(this,"code");o(this,"icon");o(this,"tags");o(this,"colors");this.id=s.id,this.dashboardId=s.dashboardId,this.organisationId=s.organisationId,this.folderId=s.folderId,this.folderLabel=s.folderLabel,this.folderIcon=s.folderIcon,this.imageId=s.imageId,this.scope=s.scope,this.locked=s.locked,this.label=s.label,this.code=s.code,this.icon=s.icon,this.tags=s.tags.slice(),this.colors=s.colors.slice()}}class d extends h{constructor(e){super(e);o(this,"labelDefault");o(this,"path");o(this,"translations");o(this,"useAutoRefresh");o(this,"autoRefresh");o(this,"singleEntity");o(this,"entityPresetCode");o(this,"datePresetCode");o(this,"variableCode");o(this,"datePresets");o(this,"entityPresets");o(this,"variables");o(this,"widgets");this.labelDefault=e.labelDefault,this.path=e.path.map(t=>new A(t)).sort((t,a)=>a.index-t.index),this.translations=e.translations.map(t=>new g(t)),this.useAutoRefresh=e.useAutoRefresh,this.autoRefresh=e.autoRefresh,this.singleEntity=e.singleEntity,this.entityPresetCode=e.entityPresetCode,this.datePresetCode=e.datePresetCode,this.variableCode=e.variableCode,this.datePresets=e.datePresets.map(t=>new D(t)),this.entityPresets=e.entityPresets.map(t=>new O(t)),this.variables=e.variables.map(t=>new R(t)),this.widgets=e.widgets.map(t=>new C(t))}}const u=()=>`${y()}/dashboard-organisations`,l=i=>`${u()}/${encodeURIComponent(i)}`,P=i=>`${l(i)}/lock`,w=i=>`${l(i)}/folder`,b=new n("dashboardOrganisation",d).createComplete(u,l,h),c=new n("dashboardOrganisation",d).create(i=>i.build(i.addNotify(s=>({...n.addCustom("duplicate",(e,t)=>e.patch(l(t)),e=>{const t=new d(e);return s.notify("update",t),t}),...n.addCustom("lock",(e,t,a)=>e.put(P(t),a),e=>{const t=new d(e);return s.notify("update",t),t}),...n.addCustom("changeFolder",(e,t,a)=>e.put(w(t),a),e=>{const t=new d(e);return s.notify("update",t),t})})))),k=r.get(b),E=r.getMany(b);r.custom(c.duplicate);r.custom(c.lock);r.custom(c.changeFolder);export{k as a,E as u};
