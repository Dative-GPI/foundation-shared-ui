import{j as A,e as f,E as z,z as F,K as I,L as _,V as j,d as B,w as O,J,M as q,x as K,P as Y,W as Q}from"./vue.esm-bundler-8d1b7c9b.js";import{u as X,s as u,v as M}from"./css-19c8f0ab.js";import{u as Z,C as ee}from"./useColors-fe8562a0.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{b as te}from"./color-b802304c.js";import{m as ae,u as re}from"./dimensions-db4341a9.js";import{m as ne,u as le}from"./elevation-7b9c5add.js";import{u as ie}from"./locale-4596da4c.js";import{p as se,y as ue,z as oe,w as de}from"./theme-82ddebf2.js";import{g as ce,u as fe}from"./useRender-7d329101.js";import{G as me}from"./base-55a66464.js";import{S as he}from"./serviceFactory-3393b4e4.js";import{C as ge}from"./composableFactory-fdc86242.js";import{V as pe}from"./VImg-82b274b6.js";class ve{constructor(t){this.blurHash=t.blurHash,this.width=t.width,this.height=t.height}}const E=()=>`${me()}/images`,be=()=>`${E()}/raw`,ye=e=>`${be()}/${encodeURIComponent(e)}`,xe=()=>`${E()}/blurHash`,we=e=>`${xe()}/${encodeURIComponent(e)}`,Se={...he.addCustom("getBlurHash",(e,t)=>e.get(we(t)),e=>new ve(e))},Re=ge.custom(Se.getBlurHash),U=A({name:"FSLoader",props:{height:{type:[Array,String,Number],required:!1,default:null},width:{type:[Array,String,Number],required:!1,default:null},padding:{type:[Array,String,Number],required:!1,default:"0"},variant:{type:String,required:!1,default:"standard"},borderRadius:{type:[String,Number],required:!1,default:"4px"}},setup(e){const{isMobileSized:t}=X(),{getColors:a}=Z(),r=a(ee.Background),i=f(()=>({"--fs-loader-background-color":r.base,"--fs-loader-border-radius":["chip"].includes(e.variant)?"50px":u(e.borderRadius),"--fs-loader-padding":u(e.padding),"--fs-loader-height":u(c.value),"--fs-loader-width":u(o.value)})),c=f(()=>{switch(e.variant){case"standard":return u(e.height);case"button":case"input":case"field":return t.value?"36px":"40px";case"chip":return t.value?"20px":"24px";case"text-h1":return t.value?"32px":"40px";case"text-h2":return t.value?"24px":"32px";case"text-h3":return t.value?"20px":"24px";case"text-h4":return t.value?"16px":"20px";case"text-body":case"text-button":return t.value?"14px":"16px";case"text-overline":case"text-underline":return"16px"}}),o=f(()=>{switch(e.variant){case"standard":return u(e.width);case"button":return t?"36px":"40px";case"input":return t?"calc(50% - 124px)":"calc(50% - 132px)";case"field":return"100%";case"chip":return"8vw";case"text-h1":return"calc(50% - 32px)";case"text-h2":return"calc(60% - 32px)";case"text-h3":return"calc(65% - 32px)";default:return"calc(75% - 32px)"}});return{style:i}}});const Be={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function $e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return F("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function C(e){const[t,a]=e.split("@");return Array.from({length:a}).map(()=>w(t))}function w(e){let t=[];if(!e)return t;const a=Be[e];if(e!==a){if(e.includes(","))return L(e);if(e.includes("@"))return C(e);a.includes(",")?t=L(a):a.includes("@")?t=C(a):a&&t.push(w(a))}return[$e(e,t)]}function L(e){return e.replace(/\s/g,"").split(",").map(w)}const ke=se({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...ae(),...ne(),...ue()},"VSkeletonLoader"),Ve=ce()({name:"VSkeletonLoader",props:ke(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:r,backgroundColorStyles:i}=te(z(e,"color")),{dimensionStyles:c}=re(e),{elevationClasses:o}=le(e),{themeClasses:g}=oe(e),{t:h}=ie(),m=f(()=>w(de(e.type).join(",")));return fe(()=>{var n;const d=!a.default||e.loading;return F("div",{class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},g.value,r.value,o.value],style:[i.value,d?c.value:{}],"aria-busy":e.boilerplate?void 0:d,"aria-live":e.boilerplate?void 0:"polite","aria-label":e.boilerplate?void 0:h(e.loadingText),role:e.boilerplate?void 0:"alert"},[d?m.value:(n=a.default)==null?void 0:n.call(a)])}),{}}});function Ie(e,t,a,r,i,c){return I(),_(Ve,{class:"fs-loader",type:"image",style:j(e.style)},null,8,["style"])}const _e=H(U,[["render",Ie]]);U.__docgenInfo={displayName:"FSLoader",exportName:"default",description:"",tags:{},props:[{name:"height",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"width",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"padding",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!1,value:'"0"'}},{name:"variant",values:["standard","button","input","field","chip","text-h1","text-h2","text-h3","text-h4","text-body","text-button","text-overline","text-underline"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"standard"'}},{name:"borderRadius",type:{name:"string|number"},required:!1,defaultValue:{func:!1,value:'"4px"'}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSLoader.vue"]};var Fe=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],v=e=>{let t=0;for(let a=0;a<e.length;a++){let r=e[a],i=Fe.indexOf(r);t=t*83+i}return t},$=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},k=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.trunc(t*12.92*255+.5):Math.trunc((1.055*Math.pow(t,.4166666666666667)-.055)*255+.5)},qe=e=>e<0?-1:1,V=(e,t)=>qe(e)*Math.pow(Math.abs(e),t),N=class extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}},G=e=>{if(!e||e.length<6)throw new N("The blurhash string must be at least 6 characters");let t=v(e[0]),a=Math.floor(t/9)+1,r=t%9+1;if(e.length!==4+2*r*a)throw new N(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*r*a}`)},Me=e=>{try{G(e)}catch(t){return{result:!1,errorReason:t.message}}return{result:!0}},Ce=e=>{let t=e>>16,a=e>>8&255,r=e&255;return[$(t),$(a),$(r)]},Le=(e,t)=>{let a=Math.floor(e/361),r=Math.floor(e/19)%19,i=e%19;return[V((a-9)/9,2)*t,V((r-9)/9,2)*t,V((i-9)/9,2)*t]},Ne=(e,t,a,r)=>{G(e),r=r|1;let i=v(e[0]),c=Math.floor(i/9)+1,o=i%9+1,g=(v(e[1])+1)/166,h=new Array(o*c);for(let n=0;n<h.length;n++)if(n===0){let s=v(e.substring(2,6));h[n]=Ce(s)}else{let s=v(e.substring(4+n*2,6+n*2));h[n]=Le(s,g*r)}let m=t*4,d=new Uint8ClampedArray(m*a);for(let n=0;n<a;n++)for(let s=0;s<t;s++){let l=0,b=0,p=0;for(let y=0;y<c;y++)for(let x=0;x<o;x++){let S=Math.cos(Math.PI*s*x/t)*Math.cos(Math.PI*n*y/a),R=h[x+y*o];l+=R[0]*S,b+=R[1]*S,p+=R[2]*S}let W=k(l),P=k(b),D=k(p);d[4*s+0+n*m]=W,d[4*s+1+n*m]=P,d[4*s+2+n*m]=D,d[4*s+3+n*m]=255}return d},Ae=Ne;const T=A({name:"FSImage",components:{FSLoader:_e},props:{height:{type:[Array,String,Number],required:!1,default:null},width:{type:[Array,String,Number],required:!1,default:null},imageId:{type:String,required:!1,default:null},imageB64:{type:String,required:!1,default:null},aspectRatio:{type:String,required:!1,default:null},borderRadius:{type:[String,Number],required:!1,default:"4px"},cover:{type:Boolean,required:!1,default:!0}},setup(e){const{fetch:t,entity:a}=Re(),r=B(null),i=B(null),c=B({JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"}),o=f(()=>({"--fs-image-border-radius":u(e.borderRadius),"--fs-image-blurhash-opacity":a.value?"1":"0"})),g=f(()=>{if(e.height)return u(e.height);if(e.width){if(typeof e.width=="string")return;if(e.aspectRatio){const l=e.aspectRatio.split("/");if(l.length===2&&!isNaN(parseFloat(l[0]))&&!isNaN(parseFloat(l[1])))return u(M(e.width)*(parseFloat(l[1])/parseFloat(l[0])))}return u(e.width)}}),h=f(()=>{if(e.width)return u(e.width);if(e.height){if(typeof e.height=="string")return;if(e.aspectRatio){const l=e.aspectRatio.split("/");if(l.length===2&&!isNaN(parseFloat(l[0]))&&!isNaN(parseFloat(l[1])))return u(M(e.height)*(parseFloat(l[0])/parseFloat(l[1])))}return u(e.height)}}),m=f(()=>{if(e.imageId)return ye(e.imageId);if(e.imageB64&&n.value&&d.value)return`${n.value},${d.value}`}),d=f(()=>e.imageB64&&e.imageB64.includes(",")?e.imageB64.split(",")[1]:e.imageB64),n=f(()=>{if(e.imageB64&&e.imageB64.includes(","))return e.imageB64.split(",")[0];if(e.imageB64){for(const l in c.value)if(e.imageB64.startsWith(l))return`data:${c.value[l]};base64`}return null}),s=()=>{e.imageId&&t(e.imageId)};return O(()=>a.value,()=>{if(i.value&&r.value&&a.value&&Me(a.value.blurHash).result){const l=i.value.getContext("2d");if(l){const b=Ae(a.value.blurHash,r.value.$el.clientWidth,r.value.$el.clientHeight),p=l.createImageData(r.value.$el.clientWidth,r.value.$el.clientHeight);p.data.set(b),l.putImageData(p,0,0)}}}),{computedHeight:g,computedWidth:h,canvasRef:i,imageRef:r,blurHash:a,source:m,style:o,onError:s}}}),He={ref:"canvasRef"};function Ee(e,t,a,r,i,c){const o=J("FSLoader");return I(),_(pe,K({class:"fs-image",ref:"imageRef",height:e.computedHeight,width:e.computedWidth,cover:e.$props.cover,style:e.style,src:e.source,onError:e.onError},e.$attrs),{placeholder:q(()=>[F(o,{class:"fs-image-load",height:"100%",width:"100%",borderRadius:e.$props.borderRadius},null,8,["borderRadius"])]),error:q(()=>[e.blurHash?Y("",!0):(I(),_(o,{key:0,class:"fs-image-load",height:"100%",width:"100%",borderRadius:e.$props.borderRadius},null,8,["borderRadius"])),Q("canvas",He,null,512)]),_:1},16,["height","width","cover","style","src","onError"])}const Ze=H(T,[["render",Ee]]);T.__docgenInfo={displayName:"FSImage",exportName:"default",description:"",tags:{},props:[{name:"height",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"width",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"imageId",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"imageB64",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"aspectRatio",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"borderRadius",type:{name:"string|number"},required:!1,defaultValue:{func:!1,value:'"4px"'}},{name:"cover",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSImage.vue"]};export{Ze as F,Ve as V,_e as a};
