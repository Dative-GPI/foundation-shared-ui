import{d as W,b as C,c as f,g as X,z as R,A as $,C as i,N as s,H as S,I as T,F as Z,D as P,P as V,V as b}from"./vue.esm-bundler-l-siv0w9.js";import{F as M}from"./FSButton-CTjpHGCH.js";import{_ as w}from"./FSSpan-Di50moR2.js";import{F as D}from"./FSCol-BvqytbKT.js";import{_ as y}from"./FSRow-CbEgVN08.js";import{C as k,u as x}from"./useColors-_VkINegi.js";import{u as ee}from"./useDateFormat-BlT1gBMR.js";import{u as le}from"./useAppLanguageCode-BzH56rSm.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Y,a as q}from"./VLocaleProvider-DMII1C8e.js";const U=W({name:"FSCalendarTwin",components:{FSButton:M,FSSpan:w,FSCol:D,FSRow:y},props:{label:{type:String,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},color:{type:String,required:!1,default:k.Dark},limit:{type:String,required:!1,default:"none"}},emits:["update:modelValue"],setup(e,{emit:m}){const{epochToPicker:N,epochToPickerHeader:c,pickerToEpoch:g,todayToEpoch:F}=ee(),{languageCode:h}=le(),{getColors:p}=x(),n=C(new Date().getMonth()),r=C(new Date().getFullYear()),u=C(new Date().getMonth()),d=C(new Date().getFullYear()),v=f(()=>p(e.color)),B=p(k.Background),L=p(k.Dark),E=f(()=>({"--fs-calendar-background-color":B.base,"--fs-calendar-hover-background-color":v.value.light,"--fs-calendar-active-background-color":v.value.base,"--fs-calendar-border-color":L.base,"--fs-calendar-hover-border-color":v.value.base,"--fs-calendar-active-border-color":v.value.base,"--fs-calendar-color":L.base,"--fs-calendar-hover-color":v.value.base,"--fs-calendar-active-color":v.value.light})),z=f(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>o("during","left",c(l))||o("before","left",c(l)))),I=f(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>o("during","right",c(l))||o("after","right",c(l)))),_=f(()=>{const l=new Date(0);return l.setMonth(n.value),l.setFullYear(r.value),new Intl.DateTimeFormat(h.value,{month:"long",year:"numeric"}).format(l)}),A=f(()=>{const l=new Date(0);return l.setMonth(u.value),l.setFullYear(d.value),new Intl.DateTimeFormat(h.value,{month:"long",year:"numeric"}).format(l)}),H=f(()=>{const l=["fs-calendar-half","fs-calendar-left"];if(e.modelValue&&e.modelValue.length>1){const t=c(e.modelValue[0]),a=c(e.modelValue[1]);o("before","left",t)&&o("after","left",a)?l.push("fs-calendar-full"):o("during","left",t)&&o("during","left",a)?t.d!==a.d&&l.push("fs-calendar-part"):o("during","left",t)?l.push("fs-calendar-start"):o("during","left",a)&&l.push("fs-calendar-end")}return l}),j=f(()=>{const l=["fs-calendar-half","fs-calendar-right"];if(e.modelValue&&e.modelValue.length>1){const t=c(e.modelValue[0]),a=c(e.modelValue[1]);o("before","right",t)&&o("after","right",a)?l.push("fs-calendar-full"):o("during","right",t)&&o("during","right",a)?t.d!==a.d&&l.push("fs-calendar-part"):o("during","right",t)?l.push("fs-calendar-start"):o("during","right",a)&&l.push("fs-calendar-end")}return l}),o=(l,t,a)=>{switch(l){case"before":switch(t){case"left":return r.value>a.y||r.value===a.y&&n.value>a.m;default:return d.value>a.y||d.value===a.y&&u.value>a.m}case"during":switch(t){case"left":return r.value===a.y&&n.value===a.m;default:return d.value===a.y&&u.value===a.m}case"after":switch(t){case"left":return r.value<a.y||r.value===a.y&&n.value<a.m;default:return d.value<a.y||d.value===a.y&&u.value<a.m}}},G=()=>{n.value===11?(n.value--,u.value=11,d.value--):n.value===0?(r.value--,n.value=11,u.value--):(n.value--,u.value--)},J=()=>{u.value===11?(u.value=0,d.value++,n.value++):u.value===0?(u.value++,n.value=0,r.value++):(u.value++,n.value++)},K=l=>{const t=l;if(t.length===0){e.modelValue&&e.modelValue.length>0&&m("update:modelValue",[e.modelValue[0],e.modelValue[0]]);return}const a=g(t[t.length-1]);e.modelValue&&e.modelValue[0]===e.modelValue[1]?m("update:modelValue",[e.modelValue[0],a].sort()):m("update:modelValue",[a,a])},O=l=>{const t=l;if(t.length===0){e.modelValue&&e.modelValue.length>0&&m("update:modelValue",[e.modelValue[e.modelValue.length-1],e.modelValue[e.modelValue.length-1]]);return}const a=g(t[t.length-1]);e.modelValue&&e.modelValue[0]===e.modelValue[1]?m("update:modelValue",[e.modelValue[0],a].sort()):m("update:modelValue",[a,a])},Q=l=>{if(!(l instanceof Date))return!1;switch(e.limit){case"past":return g(l)<=F();case"future":return g(l)>=F();default:return!0}};return X(()=>{!e.modelValue||!e.modelValue.length?(n.value=new Date().getMonth(),r.value=new Date().getFullYear(),n.value<11?(u.value=n.value+1,d.value=r.value):(u.value=0,d.value=r.value+1)):(n.value=c(e.modelValue[0]).m,r.value=c(e.modelValue[0]).y,n.value<11?(u.value=n.value+1,d.value=r.value):(u.value=0,d.value=r.value+1))}),{ColorEnum:k,languageCode:h,style:E,leftClasses:H,leftText:_,innerLeftMonth:n,innerLeftYear:r,innerLeftValue:z,rightClasses:j,rightText:A,innerRightMonth:u,innerRightYear:d,innerRightValue:I,epochToPicker:N,onClickPrevious:G,onClickNext:J,onClickLeft:K,onClickRight:O,allowedDates:Q}}}),te=b("div",null,null,-1),ne=b("div",null,null,-1);function ue(e,m,N,c,g,F){return R(),$(D,{width:"hug"},{default:i(()=>[e.$props.label?(R(),$(y,{key:0},{default:i(()=>[s(w,{class:"fs-calendar-label",font:"text-overline"},{default:i(()=>[S(T(e.$props.label),1)]),_:1})]),_:1})):Z("",!0),s(y,{class:"fs-calendar-twin",align:"top-center",width:"hug",height:["380px","375px"],style:V(e.style)},{default:i(()=>[s(D,{align:"top-center",width:"hug",class:P(e.leftClasses),style:V(e.style)},{default:i(()=>[s(y,{class:"fs-calendar-header",align:"center-center"},{default:i(()=>[s(M,{size:"l",variant:"icon",icon:"mdi-chevron-left",color:e.ColorEnum.Dark,onClick:e.onClickPrevious},null,8,["color","onClick"]),s(w,{class:"fs-calendar-text",font:"text-h3"},{default:i(()=>[S(T(e.leftText),1)]),_:1}),te]),_:1}),b("div",{class:"fs-calendar-divider",style:V(e.style)},null,4),s(Y,{locale:e.languageCode},{default:i(()=>[s(q,{month:e.innerLeftMonth,year:e.innerLeftYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerLeftValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickLeft,"onUpdate:month":h=>null,"onUpdate:year":h=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"]),s(D,{align:"top-center",width:"hug",class:P(e.rightClasses),style:V(e.style)},{default:i(()=>[s(y,{class:"fs-calendar-header",align:"center-center"},{default:i(()=>[ne,s(w,{class:"fs-calendar-text",font:"text-h3"},{default:i(()=>[S(T(e.rightText),1)]),_:1}),s(M,{size:"l",variant:"icon",icon:"mdi-chevron-right",color:e.ColorEnum.Dark,onClick:e.onClickNext},null,8,["color","onClick"])]),_:1}),b("div",{class:"fs-calendar-divider",style:V(e.style)},null,4),s(Y,{locale:e.languageCode},{default:i(()=>[s(q,{month:e.innerRightMonth,year:e.innerRightYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerRightValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickRight,"onUpdate:month":h=>null,"onUpdate:year":h=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"])]),_:1},8,["style"])]),_:1})}const ge=ae(U,[["render",ue]]);U.__docgenInfo={displayName:"FSCalendarTwin",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"number[] | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Dark"}},{name:"limit",values:["none","past","future"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"none"'}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSCalendarTwin.vue"]};export{ge as F};
