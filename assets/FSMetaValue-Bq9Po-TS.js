import{d as g,c as d,z as n,A as c,B as u,E as l,G as i,y,C as w,D as C}from"./vue.esm-bundler-DC82FEWN.js";import{u as k}from"./useAppTimeZone-YYzPOO4y.js";import{P as p}from"./customPropertyEnums-jIhOaYfs.js";import{_ as m}from"./FSIcon-AG2DcsLT.js";import{C as h}from"./useColors-MENgOxRI.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as D}from"./FSText-DpKmNKuw.js";var a=(e=>(e[e.None=0]="None",e[e.Equal=1]="Equal",e[e.More=2]="More",e[e.Less=3]="Less",e[e.MoreOrEqual=4]="MoreOrEqual",e[e.LessOrEqual=5]="LessOrEqual",e[e.Different=6]="Different",e[e.Contains=7]="Contains",e[e.StartsWith=8]="StartsWith",e[e.EndsWith=9]="EndsWith",e))(a||{});const{getOffsetDifference:$}=k(),F=(e,o)=>{if(e.colorful)for(const t of[...e.colorMap].sort((r,s)=>s.priority-r.priority)){let r=[...t.filterValues];switch([p.DateTime].includes(e.dataType)&&(r=r.map(s=>I(s))),t.filterType){case a.None:return t.color;case a.Equal:{if(r.includes(o))return t.color;break}case a.More:{if(!isNaN(parseFloat(o))&&r.some(s=>!isNaN(parseFloat(s))&&parseFloat(s)<parseFloat(o)))return t.color;break}case a.Less:{if(!isNaN(parseFloat(o))&&r.some(s=>!isNaN(parseFloat(s))&&parseFloat(s)>parseFloat(o)))return t.color;break}case a.MoreOrEqual:{if(!isNaN(parseFloat(o))&&r.some(s=>!isNaN(parseFloat(s))&&parseFloat(s)<=parseFloat(o)))return t.color;break}case a.LessOrEqual:{if(!isNaN(parseFloat(o))&&r.some(s=>!isNaN(parseFloat(s))&&parseFloat(s)>=parseFloat(o)))return t.color;break}case a.Different:{if(!r.includes(o))return t.color;break}case a.Contains:{if(r.some(s=>o.includes(s)))return t.color;break}case a.StartsWith:{if(r.some(s=>o.startsWith(s)))return t.color;break}case a.EndsWith:{if(r.some(s=>o.endsWith(s)))return t.color;break}}}},I=e=>{if(!isNaN(parseInt(e)))return e;const o=new Date;if(e.startsWith("now"))e=e.substring(3).replace(/\s/g,"");else return o.getTime().toString();let t=/^(?:(?:([-+])(\d*))?(\w+))?(?:\/(\w))?/g.exec(e);for(;t!=null&&t[0]!=null&&t[0].length>0;){if(t[1]!=null&&t[3]!=null){if(!["-","+"].includes(t[1])||isNaN(parseInt(t[2]))||!["s","m","h","d","w","M","y"].includes(t[3]))return o.getTime().toString();const r=t[1]=="-"?-1*parseInt(t[2]):1*parseInt(t[2]);switch(t[3]){case"s":{o.setSeconds(o.getSeconds()+r);break}case"m":{o.setMinutes(o.getMinutes()+r);break}case"h":{o.setHours(o.getHours()+r);break}case"d":{o.setDate(o.getDate()+r);break}case"w":{o.setDate(o.getDate()+r*7);break}case"M":{o.setMonth(o.getMonth()+r);break}case"y":{o.setFullYear(o.getFullYear()+r);break}}}if(t[4]!=null){if(!["s","m","h","d","w","M","y"].includes(t[4]))return o.getTime().toString();switch(t[4]){case"s":{o.setMilliseconds(0);break}case"m":{o.setMilliseconds(0),o.setSeconds(0);break}case"h":{o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0);break}case"d":{o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0);break}case"w":{o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.setDate(o.getDate()-o.getDay()+(o.getDay()===0?-6:1));break}case"M":{o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.setDate(1);break}case"y":{o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.setDate(1),o.setMonth(0);break}}}e=e.substring(t[0].length),t=/(?:(?:([-+])(\d*))?(\w+))?(?:\/(\w))?/g.exec(e)}return(o.getTime()+$()).toString()},P=g({name:"FSIconCheck",components:{FSIcon:m},props:{value:{type:Boolean,required:!1,default:!1},withColor:{type:Boolean,required:!1,default:!0}},setup(e){const o=d(()=>e.value?"mdi-check-circle-outline":"mdi-close-circle-outline");return{color:d(()=>e.withColor?e.value?h.Success:h.Error:null),icon:o}}});function q(e,o,t,r,s,b){return n(),c(m,{color:e.color},{default:u(()=>[l(i(e.icon),1)]),_:1},8,["color"])}const E=S(P,[["render",q]]);P.__docgenInfo={displayName:"FSIconCheck",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"withColor",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSIconCheck.vue"]};const M=g({name:"FSMetaValue",components:{FSIconCheck:E,FSText:D,FSIcon:m},props:{customProperty:{type:Object,required:!0},meta:{type:Object,required:!0}},setup(e){const{epochToLongTimeFormat:o}=k(),t=d(()=>{if(e.customProperty.useOnlyAllowedValues&&e.customProperty.allowedValues[e.meta[e.customProperty.code]]!=null)return e.customProperty.allowedValues[e.meta[e.customProperty.code]];switch(e.customProperty.dataType){case p.DateTime:return o(parseInt(e.meta[e.customProperty.code]));default:return e.meta[e.customProperty.code]}});return{PropertyDataType:p,value:t,getColor:F}}}),V={key:0};function O(e,o,t,r,s,b){const f=y("FSText"),N=y("FSIconCheck");return e.value?e.$props.customProperty.useOnlyAllowedValues&&e.$props.customProperty.allowedValues[e.meta[e.$props.customProperty.code]]!=null?(n(),c(f,{key:1,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code])},{default:u(()=>[l(i(e.value),1)]),_:1},8,["color"])):[e.PropertyDataType.Number,e.PropertyDataType.String,e.PropertyDataType.DateTime].includes(e.$props.customProperty.dataType)?(n(),c(f,{key:2,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code])},{default:u(()=>[l(i(e.value),1)]),_:1},8,["color"])):[e.PropertyDataType.Icon].includes(e.$props.customProperty.dataType)?(n(),c(m,{key:3,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code])},{default:u(()=>[l(i(e.value),1)]),_:1},8,["color"])):[e.PropertyDataType.Boolean].includes(e.$props.customProperty.dataType)?(n(),c(N,{key:4,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code]),value:e.value.toLowerCase()==="true"},null,8,["color","value"])):C("",!0):(n(),w("div",V))}const j=S(M,[["render",O]]);M.__docgenInfo={displayName:"FSMetaValue",exportName:"default",description:"",tags:{},props:[{name:"customProperty",type:{name:"CustomPropertyInfos"},required:!0},{name:"meta",type:{name:"{ [key: string]: string }"},required:!0}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/customProperties/FSMetaValue.vue"]};export{j as F,a};
