import{d as D,c as M,A as k,B as n,G as P,C as u,E as l,H as m,I as h,J as c,K as i}from"./vue.esm-bundler-Zcuj-zyO.js";import{u as b}from"./useAppTimeZone-F2KFQp0H.js";import{P as p}from"./customProperties-DqkON8hk.js";import{F as N}from"./FSIconCheck-DUTkCF55.js";import{F as d}from"./FSIcon-CKEWDmaC.js";import{_ as f}from"./FSSpan-Bb6VK1Ws.js";import{F as w}from"./FSText-DqK2dTtm.js";import{u as $}from"./useDateFormat-D_agI3IZ.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";var s=(e=>(e[e.None=0]="None",e[e.Equal=1]="Equal",e[e.More=2]="More",e[e.Less=3]="Less",e[e.MoreOrEqual=4]="MoreOrEqual",e[e.LessOrEqual=5]="LessOrEqual",e[e.Different=6]="Different",e[e.Contains=7]="Contains",e[e.StartsWith=8]="StartsWith",e[e.EndsWith=9]="EndsWith",e))(s||{});const{getOffsetDifference:C}=b(),T=(e,t)=>{if(e.colorful)for(const o of[...e.colorMap].sort((r,a)=>a.priority-r.priority)){let r=[...o.filterValues];switch([p.DateTime].includes(e.dataType)&&(r=r.map(a=>q(a))),o.filterType){case s.None:return o.color;case s.Equal:{if(r.includes(t))return o.color;break}case s.More:{if(!isNaN(parseFloat(t))&&r.some(a=>!isNaN(parseFloat(a))&&parseFloat(a)<parseFloat(t)))return o.color;break}case s.Less:{if(!isNaN(parseFloat(t))&&r.some(a=>!isNaN(parseFloat(a))&&parseFloat(a)>parseFloat(t)))return o.color;break}case s.MoreOrEqual:{if(!isNaN(parseFloat(t))&&r.some(a=>!isNaN(parseFloat(a))&&parseFloat(a)<=parseFloat(t)))return o.color;break}case s.LessOrEqual:{if(!isNaN(parseFloat(t))&&r.some(a=>!isNaN(parseFloat(a))&&parseFloat(a)>=parseFloat(t)))return o.color;break}case s.Different:{if(!r.includes(t))return o.color;break}case s.Contains:{if(r.some(a=>t.includes(a)))return o.color;break}case s.StartsWith:{if(r.some(a=>t.startsWith(a)))return o.color;break}case s.EndsWith:{if(r.some(a=>t.endsWith(a)))return o.color;break}}}},q=e=>{if(!isNaN(parseInt(e)))return e;const t=new Date;if(e.startsWith("now"))e=e.substring(3).replace(/\s/g,"");else return t.getTime().toString();let o=/^(?:(?:([-+])(\d*))?(\w+))?(?:\/(\w))?/g.exec(e);for(;o!=null&&o[0]!=null&&o[0].length>0;){if(o[1]!=null&&o[3]!=null){if(!["-","+"].includes(o[1])||isNaN(parseInt(o[2]))||!["s","m","h","d","w","M","y"].includes(o[3]))return t.getTime().toString();const r=o[1]=="-"?-1*parseInt(o[2]):1*parseInt(o[2]);switch(o[3]){case"s":{t.setSeconds(t.getSeconds()+r);break}case"m":{t.setMinutes(t.getMinutes()+r);break}case"h":{t.setHours(t.getHours()+r);break}case"d":{t.setDate(t.getDate()+r);break}case"w":{t.setDate(t.getDate()+r*7);break}case"M":{t.setMonth(t.getMonth()+r);break}case"y":{t.setFullYear(t.getFullYear()+r);break}}}if(o[4]!=null){if(!["s","m","h","d","w","M","y"].includes(o[4]))return t.getTime().toString();switch(o[4]){case"s":{t.setMilliseconds(0);break}case"m":{t.setMilliseconds(0),t.setSeconds(0);break}case"h":{t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0);break}case"d":{t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0);break}case"w":{t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t.setDate(t.getDate()-t.getDay()+(t.getDay()===0?-6:1));break}case"M":{t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t.setDate(1);break}case"y":{t.setMilliseconds(0),t.setSeconds(0),t.setMinutes(0),t.setHours(0),t.setDate(1),t.setMonth(0);break}}}e=e.substring(o[0].length),o=/(?:(?:([-+])(\d*))?(\w+))?(?:\/(\w))?/g.exec(e)}return(t.getTime()+C()).toString()},S=D({name:"FSMetaValue",components:{FSIconCheck:N,FSIcon:d,FSSpan:f,FSText:w},props:{variant:{type:String,required:!1,default:"standard"},customProperty:{type:Object,required:!0},meta:{type:Object,required:!0}},setup(e){const{epochToLongTimeFormat:t}=$(),o=M(()=>{if(e.customProperty.useOnlyAllowedValues)return e.customProperty.allowedValues[e.meta[e.customProperty.code]]??"";switch(e.customProperty.dataType){case p.DateTime:return t(parseInt(e.meta[e.customProperty.code]));case p.Boolean:return e.meta[e.customProperty.code];default:return e.meta[e.customProperty.code]}});return{PropertyDataType:p,value:o,getColor:T}}});function E(e,t,o,r,a,I){const y=k("FSText"),g=k("FSIconCheck");return e.$props.variant==="standard"?(n(),P(h,{key:0},[e.$props.customProperty.useOnlyAllowedValues?(n(),u(y,{key:0,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code])},{default:l(()=>[c(i(e.value),1)]),_:1},8,["color"])):[e.PropertyDataType.Number,e.PropertyDataType.String,e.PropertyDataType.DateTime].includes(e.$props.customProperty.dataType)?(n(),u(y,{key:1,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code])},{default:l(()=>[c(i(e.value),1)]),_:1},8,["color"])):[e.PropertyDataType.Icon].includes(e.$props.customProperty.dataType)?(n(),u(d,{key:2,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code])},{default:l(()=>[c(i(e.value),1)]),_:1},8,["color"])):[e.PropertyDataType.Boolean].includes(e.$props.customProperty.dataType)&&e.value?(n(),u(g,{key:3,color:e.getColor(e.$props.customProperty,e.meta[e.$props.customProperty.code]),value:e.value.toLowerCase()==="true"},null,8,["color","value"])):m("",!0)],64)):e.$props.variant==="colorless"?(n(),P(h,{key:1},[e.$props.customProperty.useOnlyAllowedValues?(n(),u(f,{key:0},{default:l(()=>[c(i(e.value),1)]),_:1})):[e.PropertyDataType.Number,e.PropertyDataType.String,e.PropertyDataType.DateTime].includes(e.$props.customProperty.dataType)?(n(),u(f,{key:1},{default:l(()=>[c(i(e.value),1)]),_:1})):[e.PropertyDataType.Icon].includes(e.$props.customProperty.dataType)?(n(),u(d,{key:2},{default:l(()=>[c(i(e.value),1)]),_:1})):[e.PropertyDataType.Boolean].includes(e.$props.customProperty.dataType)&&e.value?(n(),u(g,{key:3,value:e.value.toLowerCase()==="true"},null,8,["value"])):m("",!0)],64)):m("",!0)}const Y=F(S,[["render",E]]);S.__docgenInfo={displayName:"FSMetaValue",exportName:"default",description:"",tags:{},props:[{name:"variant",values:["standard","colorless"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"standard"'}},{name:"customProperty",type:{name:"CustomPropertyInfos"},required:!0},{name:"meta",type:{name:"{ [key: string]: string }"},required:!0}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/customProperties/FSMetaValue.vue"]};export{Y as F,s as a};
