import{d as x,b as ee,c as V,A as q,B as s,D as l,U as le,I as n,G as p,R as t,C as L,S as F,L as i,N as g,O as k,x as m,F as O,J as c,K as h,H as T}from"./vue.esm-bundler-CTTOvLCD.js";import{F as ae,V as re}from"./VList-DRexluGA.js";import{_ as M}from"./FSSlideGroup-CLbrB063.js";import{F as oe}from"./FSToggleSet-0XsNufiD.js";import{F as te}from"./FSBaseField-BJJzXcrO.js";import{F as j}from"./FSTextField-Cq5SV0et.js";import{F as N}from"./FSCheckbox-CVOakf5q.js";import{_ as z}from"./FSFadeOut-C2gEJSut.js";import{F as C}from"./FSButton-B2X9DGvb.js";import{F as ne}from"./FSLoader-AugIw030.js";import{_ as G}from"./FSRadio-GwhtOOcI.js";import{F as se}from"./FSCard-DxhVm8H0.js";import{_ as b}from"./FSSpan-QNtf4e4q.js";import{F as A}from"./FSCol-BPr0jVzk.js";import{_ as f}from"./FSRow-C8EFLcn9.js";import{u as ie}from"./useBreakpoints-Bm7CjYdd.js";import{u as ue}from"./useRules-DE909mL5.js";import{u as de,C as w}from"./useColors-D7R-CyI7.js";import{u as pe}from"./useSlots-NXmwCOLw.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as fe}from"./VSelect-BnarcBwl.js";const W=x({name:"FSSelectField",components:{FSDialogMenu:ae,FSSlideGroup:M,FSBaseField:te,FSTextField:j,FSToggleSet:oe,FSCheckbox:N,FSFadeOut:z,FSButton:C,FSLoader:ne,FSRadio:G,FSCard:se,FSSpan:b,FSCol:A,FSRow:f},props:{label:{type:String,required:!1,default:null},placeholder:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},items:{type:Array,required:!0},itemValue:{type:String,required:!1,default:"id"},itemTitle:{type:String,required:!1,default:"label"},modelValue:{type:[Array,String,Number],required:!1,default:null},multiple:{type:Boolean,required:!1,default:!1},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},toggleSet:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(e,{emit:d}){const{fontStyles:I,isExtraSmall:U,isMobileSized:H}=ie(),{validateOn:P,getMessages:B}=ue(),{getColors:S}=de(),{slots:y}=pe();delete y.label,delete y.description;const D=S(w.Background),E=S(w.Error),a=S(w.Light),o=S(w.Dark),u=ee(!1),v=V(()=>e.editable?{"--fs-select-field-cursor":"pointer","--fs-select-field-background-color":D.base,"--fs-select-field-border-color":a.dark,"--fs-select-field-color":o.base,"--fs-select-field-active-border-color":o.dark,"--fs-select-field-error-border-color":E.base,"--fs-select-field-multiple-opacity":"1","--fs-base-field-input-height":H.value?"34px":"38px",...I.value}:{"--fs-select-field-cursor":"default","--fs-select-field-border-color":a.base,"--fs-select-field-color":a.dark,"--fs-select-field-active-border-color":a.base,"--fs-select-field-multiple-opacity":"var(--v-disabled-opacity)","--fs-base-field-input-height":H.value?"34px":"38px",...I.value}),J=V(()=>Object.keys(y).filter(r=>r.startsWith("select-")).reduce((r,$)=>(r[$.substring(7)]=y[$],r),{})),K=V(()=>Object.keys(y).filter(r=>r.startsWith("toggle-set-")).reduce((r,$)=>(r[$.substring(11)]=y[$],r),{})),Q=V(()=>({style:v.value})),X=V(()=>e.messages??B(e.modelValue,e.rules)),R=V(()=>e.multiple?null:Array.isArray(e.modelValue)&&e.modelValue.length>0?e.items.find(r=>r[e.itemValue]===e.modelValue[0])??null:e.modelValue?e.items.find(r=>r[e.itemValue]===e.modelValue)??null:null),Y=V(()=>{if(Array.isArray(e.modelValue)&&e.modelValue.length>0)return e.items.filter(r=>e.modelValue.includes(r[e.itemValue]));if(e.modelValue){const r=e.items.find($=>$[e.itemValue]===e.modelValue);if(r)return[r]}return[]}),Z=V(()=>"calc(100vh - 40px - 16px)"),_=V(()=>e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0?e.placeholder:R.value?R.value[e.itemTitle]:null);return{toggleSetSlots:K,selectedItems:Y,isExtraSmall:U,selectedItem:R,mobileValue:_,selectSlots:J,validateOn:P,ColorEnum:w,listStyle:Q,maxHeight:Z,messages:X,dialog:u,style:v,openMobileOverlay:()=>{e.editable&&(u.value=!0)},onCheckboxChange:r=>{Array.isArray(e.modelValue)?e.modelValue.includes(r)?d("update:modelValue",e.modelValue.filter($=>$!==r)):d("update:modelValue",[...e.modelValue,r]):e.modelValue!=null?e.modelValue===r?d("update:modelValue",[]):d("update:modelValue",[e.modelValue,r]):d("update:modelValue",[r])},onSingleChange:r=>{d("update:modelValue",r)},onRadioChange:r=>{d("update:modelValue",r),u.value=!1},onClear:()=>{d("update:modelValue",null)}}}});function ge(e,d,I,U,H,P){const B=q("FSLoader"),S=q("FSCard"),y=q("FSDialogMenu"),D=q("FSToggleSet"),E=q("FSBaseField");return e.$props.loading?(n(),s(A,{key:0},{default:l(()=>[e.$props.hideHeader?p("",!0):(n(),s(B,{key:0,variant:"text-overline"})),e.$props.loading?(n(),s(B,{key:1,width:"100%",height:["40px","36px"]})):p("",!0)]),_:1})):e.isExtraSmall?(n(),s(A,{key:1},{default:l(()=>[t(j,m({validationValue:e.$props.modelValue,description:e.$props.description,hideHeader:e.$props.hideHeader,clearable:e.$props.clearable,editable:e.$props.editable,required:e.$props.required,validateOn:e.validateOn,label:e.$props.label,rules:e.$props.rules,messages:e.messages,readonly:!0,modelValue:e.mobileValue,onClick:e.openMobileOverlay},e.$attrs),L({"prepend-inner":l(()=>[e.selectedItem?i(e.$slots,"item-prepend",g(m({key:0},{item:e.selectedItem}))):p("",!0)]),clear:l(()=>[t(f,{wrap:!1},{default:l(()=>[e.selectedItem?i(e.$slots,"item-append",g(m({key:0},{item:e.selectedItem}))):p("",!0),i(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(n(),s(C,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:e.onClear},null,8,["color","onClick"])):p("",!0)])]),_:3})]),"append-inner":l(()=>[t(C,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark,onClick:e.openMobileOverlay},null,8,["editable","color","onClick"])]),_:2},[F(e.$slots,(a,o)=>({name:o,fn:l(u=>[i(e.$slots,o,g(k(u)))])}))]),1040,["validationValue","description","hideHeader","clearable","editable","required","validateOn","label","rules","messages","modelValue","onClick"]),e.$props.multiple&&Array.isArray(e.$props.modelValue)?(n(),s(M,{key:0},{default:l(()=>[(n(!0),O(T,null,F(e.$props.items.filter(a=>e.$props.modelValue.includes(a[e.$props.itemValue])),(a,o)=>(n(),s(S,{variant:"standard",height:["40px","36px"],color:e.ColorEnum.Light,border:!1,key:o},{default:l(()=>[t(f,{align:"center-left",padding:"0 8px",wrap:!1},{default:l(()=>[i(e.$slots,"item-prepend",m({ref_for:!0},{item:a})),t(b,null,{default:l(()=>[c(h(a[e.$props.itemTitle]),1)]),_:2},1024),i(e.$slots,"item-append",m({ref_for:!0},{item:a})),t(C,{icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:()=>e.onCheckboxChange(a[e.$props.itemValue])},null,8,["color","onClick"])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:3})):p("",!0),t(y,{padding:"16px",modelValue:e.dialog,"onUpdate:modelValue":d[0]||(d[0]=a=>e.dialog=a)},{body:l(()=>[t(z,{maxHeight:e.maxHeight},{default:l(()=>[t(A,{gap:"12px"},{default:l(()=>[(n(!0),O(T,null,F(e.$props.items,(a,o)=>(n(),s(f,{align:"center-left",height:"36px",wrap:!1,key:o,onClick:u=>e.$props.multiple?e.onCheckboxChange(a[e.$props.itemValue]):e.onRadioChange(a[e.$props.itemValue])},{default:l(()=>[t(f,{style:{"min-width":"0"},wrap:!1},{default:l(()=>[i(e.$slots,"item-prepend",m({ref_for:!0},{item:a})),t(b,{font:e.selectedItems.includes(a)?"text-button":"text-body"},{default:l(()=>[c(h(a[e.$props.itemTitle]),1)]),_:2},1032,["font"])]),_:2},1024),t(f,{align:"center-right",width:"hug",wrap:!1},{default:l(()=>{var u;return[i(e.$slots,"item-append",m({ref_for:!0},{item:a})),e.$props.multiple?(n(),s(N,{key:0,editable:e.$props.editable,modelValue:(u=e.$props.modelValue)==null?void 0:u.includes(a[e.$props.itemValue]),"onUpdate:modelValue":v=>e.onCheckboxChange(a[e.$props.itemValue])},null,8,["editable","modelValue","onUpdate:modelValue"])):(n(),s(G,{key:1,selected:e.$props.modelValue===a[e.$props.itemValue],editable:e.$props.editable,item:a,modelValue:a[e.$props.itemValue],"onUpdate:modelValue":v=>e.onRadioChange(a[e.$props.itemValue])},null,8,["selected","editable","item","modelValue","onUpdate:modelValue"]))]}),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:3})]),_:3},8,["maxHeight"]),!e.$props.items||e.$props.items.length===0?(n(),s(f,{key:0,padding:"4px 3px"},{default:l(()=>[t(b,null,{default:l(()=>[c(h(e.$tr("ui.common.no-data","No data")),1)]),_:1})]),_:1})):p("",!0)]),_:3},8,["modelValue"])]),_:3})):(n(),s(E,{key:2,style:le(e.style),description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,label:e.$props.label,messages:e.messages},{default:l(()=>[e.$props.toggleSet?(n(),s(D,m({key:0,editable:e.$props.editable,multiple:e.$props.multiple,required:e.$props.required,values:e.$props.items,rules:e.$props.rules,modelValue:e.$props.modelValue,"onUpdate:modelValue":d[1]||(d[1]=a=>e.$emit("update:modelValue",a))},e.$attrs),L({_:2},[F(e.toggleSetSlots,(a,o)=>({name:o,fn:l(u=>[i(e.$slots,`toggle-set-${o}`,g(k(u)))])}))]),1040,["editable","multiple","required","values","rules","modelValue"])):(n(),s(A,{key:1},{default:l(()=>[t(fe,m({class:"fs-select-field",variant:"outlined",clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,itemTitle:e.$props.itemTitle,itemValue:e.$props.itemValue,readonly:!e.$props.editable,multiple:e.$props.multiple,validateOn:e.validateOn,persistentClear:!0,listProps:e.listStyle,returnObject:!1,items:e.$props.items,rules:e.$props.rules,hideDetails:!0,menuIcon:null,modelValue:e.$props.modelValue,"onUpdate:modelValue":e.onSingleChange},e.$attrs),L({item:l(({props:a,item:o})=>[t(re,g(k({...a,title:""})),{default:l(()=>[t(f,{align:"center-left",wrap:!1},{default:l(()=>{var u;return[e.$props.multiple?(n(),s(N,{key:0,modelValue:(u=e.$props.modelValue)==null?void 0:u.includes(o.raw[e.$props.itemValue]),onClick:a.onClick},{label:l(({font:v})=>[i(e.$slots,"item-prepend",g(k({item:o.raw}))),t(b,{font:v},{default:l(()=>[c(h(o.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])]),_:2},1032,["modelValue","onClick"])):(n(),O(T,{key:1},[i(e.$slots,"item-prepend",g(k({item:o.raw}))),t(b,{font:e.$props.modelValue===o.raw[e.$props.itemTitle]?"text-button":"text-body"},{default:l(()=>[c(h(o.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])],64)),t(f,{align:"center-right"},{default:l(()=>[i(e.$slots,"item-append",g(k({item:o.raw})))]),_:2},1024)]}),_:2},1024)]),_:2},1040)]),"prepend-inner":l(()=>[e.selectedItem?i(e.$slots,"item-prepend",g(m({key:0},{item:e.selectedItem}))):p("",!0)]),clear:l(()=>[t(f,{wrap:!1},{default:l(()=>[e.selectedItem?i(e.$slots,"item-append",g(m({key:0},{item:e.selectedItem}))):p("",!0),i(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(n(),s(C,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:e.onClear},null,8,["color","onClick"])):p("",!0)])]),_:3})]),"append-inner":l(()=>[i(e.$slots,"append-inner",{},()=>[t(C,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark},null,8,["editable","color"])])]),"no-data":l(()=>[!e.$props.items||e.$props.items.length===0?(n(),s(f,{key:0,padding:"15px"},{default:l(()=>[t(b,null,{default:l(()=>[c(h(e.$tr("ui.common.no-data","No data")),1)]),_:1})]),_:1})):p("",!0)]),_:2},[F(e.selectSlots,(a,o)=>({name:o,fn:l(u=>[i(e.$slots,`select-${o}`,g(k(u)))])})),e.$props.multiple?{name:"selection",fn:l(({index:a})=>[a===e.$props.modelValue.length-1?(n(),s(b,{key:0},{default:l(()=>[c(h(e.$props.placeholder),1)]),_:1})):p("",!0)]),key:"0"}:void 0]),1040,["clearable","itemTitle","itemValue","readonly","multiple","validateOn","listProps","items","rules","modelValue","onUpdate:modelValue"]),e.$props.multiple&&Array.isArray(e.$props.modelValue)?(n(),s(M,{key:0,class:"fs-select-field-multiple-slide-group"},{default:l(()=>[(n(!0),O(T,null,F(e.$props.items.filter(a=>e.$props.modelValue.includes(a[e.$props.itemValue])),(a,o)=>(n(),s(S,{variant:"standard",height:["40px","36px"],color:e.ColorEnum.Light,border:!1,key:o},{default:l(()=>[t(f,{align:"center-left",padding:"0 8px"},{default:l(()=>[i(e.$slots,"item-prepend",m({ref_for:!0},{item:a})),t(b,null,{default:l(()=>[c(h(a[e.$props.itemTitle]),1)]),_:2},1024),i(e.$slots,"item-append",m({ref_for:!0},{item:a})),t(C,{icon:"mdi-close",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark,onClick:()=>e.onCheckboxChange(a[e.$props.itemValue])},null,8,["editable","color","onClick"])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:3})):p("",!0)]),_:3}))]),_:3},8,["style","description","hideHeader","required","editable","label","messages"]))}const Pe=me(W,[["render",ge]]);W.__docgenInfo={displayName:"FSSelectField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"placeholder",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"items",type:{name:"any[]"},required:!0},{name:"itemValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"id"'}},{name:"itemTitle",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"label"'}},{name:"modelValue",type:{name:"(string | number)[] | string | number | null | any"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"multiple",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"loading",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"toggleSet",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"item-prepend",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"item-append",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"clear"},{name:"`toggle-set-${name}`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"`select-${name}`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"append-inner"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSSelectField.vue"]};export{Pe as F};
