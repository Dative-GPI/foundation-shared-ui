import{d as _,e as w,c as m,o as x,J as ee,B as le,D as c,q as s,X as C,E as Y,K as L,L as M,V as F,I as ae}from"./vue.esm-bundler-D5n7z5qz.js";import{F as te}from"./FSSelectField-CkOf84jF.js";import{F as D}from"./FSButton-BEP9Z3FS.js";import{_ as p}from"./FSSpan-BN7wkmby.js";import{F as b}from"./FSCol-D_lbFmZy.js";import{_ as V}from"./FSRow-DIk8KFbG.js";import{C as k,u as ne}from"./useColors-COEXNh00.js";import{u as oe}from"./useDateFormat-Be4eIA50.js";import{u as ue}from"./useAppLanguageCode-CWFK3Ooe.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as R,a as U}from"./VLocaleProvider-C_pPOzWi.js";const N=_({name:"FSCalendarTwin",components:{FSSelectField:te,FSButton:D,FSSpan:p,FSCol:b,FSRow:V},props:{modelValue:{type:Array,required:!1,default:null},color:{type:String,required:!1,default:k.Dark},limit:{type:String,required:!1,default:"none"}},emits:["update:modelValue"],setup(e,{emit:i}){const{epochToPicker:T,epochToPickerHeader:f,pickerToEpoch:h,todayToEpoch:S}=oe(),{languageCode:y}=ue(),{getColors:v}=ne(),n=w(new Date().getMonth()),o=w(new Date().getFullYear()),u=w(new Date().getMonth()),r=w(new Date().getFullYear()),g=m(()=>v(e.color)),$=v(k.Background),P=v(k.Light),q=v(k.Dark),B=m(()=>({"--fs-calendar-background-color":$.base,"--fs-calendar-hover-background-color":g.value.light,"--fs-calendar-active-background-color":g.value.base,"--fs-calendar-border-color":P.dark,"--fs-calendar-hover-border-color":g.value.base,"--fs-calendar-active-border-color":g.value.base,"--fs-calendar-color":q.base,"--fs-calendar-hover-color":g.value.base,"--fs-calendar-active-color":g.value.light})),E=m(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>d("during","left",f(l))||d("before","left",f(l)))),z=m(()=>!e.modelValue||!e.modelValue.length?[]:e.modelValue.filter(l=>d("during","right",f(l))||d("after","right",f(l)))),I=m(()=>{const l=new Date(0);return l.setMonth(n.value),l.setFullYear(o.value),new Intl.DateTimeFormat(y.value,{month:"long",year:"numeric"}).format(l)}),H=m(()=>{const l=new Date(0);return l.setMonth(u.value),l.setFullYear(r.value),new Intl.DateTimeFormat(y.value,{month:"long",year:"numeric"}).format(l)}),A=m(()=>{const l=["fs-calendar-half","fs-calendar-left"];if(e.modelValue&&e.modelValue.length>1){const a=f(e.modelValue[0]),t=f(e.modelValue[1]);d("before","left",a)&&d("after","left",t)?l.push("fs-calendar-full"):d("during","left",a)&&d("during","left",t)?a.d!==t.d&&l.push("fs-calendar-part"):d("during","left",a)?l.push("fs-calendar-start"):d("during","left",t)&&l.push("fs-calendar-end")}return l}),J=m(()=>{const l=["fs-calendar-half","fs-calendar-right"];if(e.modelValue&&e.modelValue.length>1){const a=f(e.modelValue[0]),t=f(e.modelValue[1]);d("before","right",a)&&d("after","right",t)?l.push("fs-calendar-full"):d("during","right",a)&&d("during","right",t)?a.d!==t.d&&l.push("fs-calendar-part"):d("during","right",a)?l.push("fs-calendar-start"):d("during","right",t)&&l.push("fs-calendar-end")}return l}),K=m(()=>{const l=[];switch(e.limit){case"past":for(let a=1900;a<new Date().getFullYear();a++)l.push({label:a.toString(),id:a});break;case"future":for(let a=new Date().getFullYear();a<2100;a++)l.push({label:a.toString(),id:a});break;default:for(let a=1900;a<2100;a++)l.push({label:a.toString(),id:a});break}return l}),d=(l,a,t)=>{switch(l){case"before":switch(a){case"left":return o.value>t.y||o.value===t.y&&n.value>t.m;default:return r.value>t.y||r.value===t.y&&u.value>t.m}case"during":switch(a){case"left":return o.value===t.y&&n.value===t.m;default:return r.value===t.y&&u.value===t.m}case"after":switch(a){case"left":return o.value<t.y||o.value===t.y&&n.value<t.m;default:return r.value<t.y||r.value===t.y&&u.value<t.m}}},X=()=>{n.value===11?(n.value--,u.value=11,r.value--):n.value===0?(o.value--,n.value=11,u.value--):(n.value--,u.value--)},j=()=>{u.value===11?(u.value=0,r.value++,n.value++):u.value===0?(u.value++,n.value=0,o.value++):(u.value++,n.value++)},G=l=>{const a=l;if(a.length===0){e.modelValue&&e.modelValue.length>0&&i("update:modelValue",[e.modelValue[0],e.modelValue[0]]);return}const t=h(a[a.length-1]);e.modelValue&&e.modelValue[0]===e.modelValue[1]?i("update:modelValue",[e.modelValue[0],t].sort()):i("update:modelValue",[t,t])},O=l=>{const a=l;if(a.length===0){e.modelValue&&e.modelValue.length>0&&i("update:modelValue",[e.modelValue[e.modelValue.length-1],e.modelValue[e.modelValue.length-1]]);return}const t=h(a[a.length-1]);e.modelValue&&e.modelValue[0]===e.modelValue[1]?i("update:modelValue",[e.modelValue[0],t].sort()):i("update:modelValue",[t,t])},Q=()=>{const l=new Date;n.value=l.getMonth(),o.value=l.getFullYear(),n.value===11?(u.value=0,r.value=o.value+1):(u.value=n.value+1,r.value=o.value),l.setHours(0,0,0,0),i("update:modelValue",[h(l),h(l)])},W=l=>{r.value!==o.value?(o.value=l,r.value=l+1):(o.value=l,r.value=l)},Z=l=>{if(!(l instanceof Date))return!1;switch(e.limit){case"past":return h(l)<=S();case"future":return h(l)>=S();default:return!0}};return x(()=>{!e.modelValue||!e.modelValue.length?(n.value=new Date().getMonth(),o.value=new Date().getFullYear(),n.value<11?(u.value=n.value+1,r.value=o.value):(u.value=0,r.value=o.value+1)):(n.value=f(e.modelValue[0]).m,o.value=f(e.modelValue[0]).y,n.value<11?(u.value=n.value+1,r.value=o.value):(u.value=0,r.value=o.value+1))}),{ColorEnum:k,languageCode:y,style:B,leftClasses:A,leftText:I,innerLeftMonth:n,innerLeftYear:o,innerLeftValue:E,rightClasses:J,rightText:H,innerRightMonth:u,innerRightYear:r,innerRightValue:z,years:K,epochToPicker:T,onClickPrevious:X,onClickNext:j,onClickLeft:G,onClickRight:O,onClickToday:Q,onChangeYear:W,allowedDates:Z}}});function se(e,i,T,f,h,S){const y=ae("FSSelectField");return ee(),le(b,null,{default:c(()=>[s(V,null,{default:c(()=>[s(y,{hideHeader:!0,clearable:!1,items:e.years,modelValue:e.innerLeftYear,"onUpdate:modelValue":e.onChangeYear},null,8,["items","modelValue","onUpdate:modelValue"]),s(V,{align:"center-right"},{default:c(()=>[s(D,{label:e.$tr("ui.common.today","Today"),onClick:e.onClickToday},null,8,["label","onClick"])]),_:1})]),_:1}),s(V,{class:"fs-calendar-twin",align:"top-center",style:C(e.style)},{default:c(()=>[s(b,{align:"top-center",width:"hug",class:Y(e.leftClasses),style:C(e.style)},{default:c(()=>[s(V,{class:"fs-calendar-header",align:"center-center"},{default:c(()=>[s(D,{size:"l",variant:"icon",icon:"mdi-chevron-left",color:e.ColorEnum.Dark,onClick:e.onClickPrevious},null,8,["color","onClick"]),s(p,{class:"fs-calendar-text",font:"text-h3"},{default:c(()=>[L(M(e.leftText),1)]),_:1}),i[0]||(i[0]=F("div",null,null,-1))]),_:1}),F("div",{class:"fs-calendar-divider",style:C(e.style)},null,4),s(R,{locale:e.languageCode},{default:c(()=>[s(U,{month:e.innerLeftMonth,year:e.innerLeftYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerLeftValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickLeft,"onUpdate:month":v=>null,"onUpdate:year":v=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"]),s(b,{align:"top-center",width:"hug",class:Y(e.rightClasses),style:C(e.style)},{default:c(()=>[s(V,{class:"fs-calendar-header",align:"center-center"},{default:c(()=>[i[1]||(i[1]=F("div",null,null,-1)),s(p,{class:"fs-calendar-text",font:"text-h3"},{default:c(()=>[L(M(e.rightText),1)]),_:1}),s(D,{size:"l",variant:"icon",icon:"mdi-chevron-right",color:e.ColorEnum.Dark,onClick:e.onClickNext},null,8,["color","onClick"])]),_:1}),F("div",{class:"fs-calendar-divider",style:C(e.style)},null,4),s(R,{locale:e.languageCode},{default:c(()=>[s(U,{month:e.innerRightMonth,year:e.innerRightYear,multiple:!0,allowedDates:e.allowedDates,modelValue:e.innerRightValue.map(e.epochToPicker),"onUpdate:modelValue":e.onClickRight,"onUpdate:month":v=>null,"onUpdate:year":v=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["class","style"])]),_:1},8,["style"])]),_:1})}const ke=re(N,[["render",se]]);N.__docgenInfo={displayName:"FSCalendarTwin",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"number[] | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Dark"}},{name:"limit",values:["none","past","future"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"none"'}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSCalendarTwin.vue"]};export{ke as F};
