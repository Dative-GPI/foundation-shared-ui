import{j as f,g as x,w as c,o as D}from"./vue.esm-bundler-cd768bc3.js";import{_ as E}from"./lodash-569b8a6d.js";import{u as L}from"./useDebounce-8f204f15.js";const _=(n,p,g,i,t=null,d=a=>a.id,h=a=>a.label,b=!1,A=!0,w=5,y=1e3)=>{const{debounce:a}=L(),l=f(""),v=f(0),s=f(!0),j=x(()=>A&&v.value<=w),m=()=>a(()=>i(l.value),y),q=e=>{if(t)if(Array.isArray(e)){const u=e.map(o=>n.value.find(r=>d(r)===o)||null).filter(o=>o!==null);t(u)}else t(e&&n.value.find(u=>d(u)===e)||null);else g("update:modelValue",e)};return c(p,(e,u)=>{E.isEqual(e,u)||m()}),c(l,(e,u)=>{e!==u&&b&&!n.value.map(r=>h(r)).includes(l.value)&&(!l.value||!l.value.length||l.value.length>2)&&m()}),c(n,()=>{s.value&&(s.value=!1,v.value=n.value.length)}),D(()=>{i(l.value)}),{toggleSet:j,search:l,init:s,onUpdate:q}};export{_ as u};
