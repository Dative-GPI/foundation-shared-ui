import{j as Be,H as Y,I as T,J as B,K as g,z as r,S as L,U as z,V as G,R as se,Z as ie,P as M,Q as X,F as ee,M as _,d as x,e as I,x as te,$ as Ft,X as Ce,o as Ia,a2 as Ta,w as ge,a8 as Ca,E as Q,p as Ae,g as Ee,l as Dt,aa as Ba,s as Aa,n as bt,a0 as Ea,L as Oa,Y as lt,W as Re}from"./vue.esm-bundler-43a473fd.js";import{u as qa}from"./vue-router-c18e9f37.js";import{F as Ue}from"./FSCheckbox-eda3e056.js";import{F as je}from"./FSCard-bab2eafe.js";import{F as It}from"./FSText-146d16e4.js";import{_ as H}from"./FSRow-ba466629.js";import{C as ue,u as Na}from"./useColors-a0d41f52.js";import{_ as Oe}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as oe}from"./FSCol-3eed52f7.js";import{F as Tt}from"./FSSearchField-5cca30cc.js";import{F as xa}from"./FSSelectField-84394bb7.js";import{F as Ct}from"./FSFadeOut-55a08a3b.js";import{F as ut}from"./FSChip-0f94faf2.js";import{_ as qe}from"./FSSpan-f049a07d.js";import{u as Bt}from"./useTranslations-e519a668.js";import{V as dt}from"./VMenu-7b829308.js";import{V as At}from"./VDivider-d035c0db.js";import{_ as ke}from"./FSButton-7c569e4d.js";import{F as La}from"./FSOptionGroup-786f041c.js";import{F as Ha}from"./FSToggleSet-359d728a.js";import{_ as Et}from"./FSIcon-b00305b5.js";import{u as Ra}from"./css-18b0cf8e.js";import{u as Ua}from"./useSlots-e98bc591.js";import{V as Xe}from"./VSpacer-051f3349.js";import{u as ve}from"./proxiedModel-7eeaa9ef.js";import{R as ja,p as Z,L as Qe,l as Ot,q as qt,K as nt,w as rt,aa as Ye,f as Ie,y as Nt,z as xt,u as Je,U as ht,e as Ve,G as ot}from"./theme-b11eeaee.js";import{u as Ze,a as Ma,c as za}from"./locale-d44d9622.js";import{m as Ga,a as Ka}from"./border-fe1feda5.js";import{m as ct,g as de,u as pe,p as st,a as Wa}from"./useRender-d2bddd17.js";import{m as Lt,u as Xa}from"./density-c9a73c91.js";import{m as Ya}from"./elevation-494cacfb.js";import{m as ft,I as Te}from"./tag-2aee60b4.js";import{u as Ja}from"./resizeObserver-059c00b3.js";import{m as Qa}from"./rounded-c06207e9.js";import{m as Za,V as _a}from"./VIcon-b50c364f.js";import{u as el}from"./display-20e87f67.js";import{V as we}from"./VBtn-f3ae59be.js";import{V as tl}from"./VSelect-2a3f4796.js";import{b as al}from"./color-8bc818ac.js";import{m as ll,u as nl,L as rl}from"./loader-e3f3ed5e.js";import{V as mt}from"./VCheckboxBtn-1a59748a.js";import{m as Ht,u as Rt}from"./filter-d21d4ed2.js";function yt(e,t,l){return Object.keys(e).filter(a=>ja(a)&&a.endsWith(t)).reduce((a,n)=>(a[n.slice(0,-t.length)]=s=>e[n](s,l(s)),a),{})}const Ut=Be({name:"FSDataIteratorItem",components:{FSCheckbox:Ue,FSCard:je,FSText:It,FSRow:H},props:{headers:{type:Array,required:!0},item:{type:Object,required:!0},itemTo:{type:Function,required:!1,default:null},modelValue:{type:Boolean,required:!1,default:!1},color:{type:String,required:!1,default:ue.Primary},showSelect:{type:Boolean,required:!1,default:!0}}});function ol(e,t,l,a,n,s){const f=Y("FSText"),u=Y("FSCard");return T(),B(u,{class:"fs-data-iterator-item",padding:"12px",width:"100%"},{default:g(()=>[r(oe,null,{default:g(()=>[L(e.$slots,"item.top",z(G({item:e.$props.item}))),(T(!0),se(ee,null,ie(e.$props.headers,(i,m)=>(T(),B(H,{align:"center-left",wrap:!1,key:m},{default:g(()=>[L(e.$slots,`header.${i.value}`,z(G({header:i})),()=>[r(H,{align:"center-left"},{default:g(()=>[r(f,{font:"text-button"},{default:g(()=>[M(X(i.text),1)]),_:2},1024)]),_:2},1024)]),L(e.$slots,`item.${i.value}`,z(G({item:e.$props.item})),()=>[r(H,{align:"center-left"},{default:g(()=>[r(f,null,{default:g(()=>[M(X(e.$props.item[i.value]),1)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128)),L(e.$slots,"item.bottom",z(G({item:e.$props.item})))]),_:3}),e.$props.showSelect?(T(),B(u,{key:0,class:"fs-data-iterator-item-checkbox",border:!1},{default:g(()=>[r(Ue,{color:e.$props.color,modelValue:e.$props.modelValue,"onUpdate:modelValue":t[0]||(t[0]=()=>e.$emit("update:modelValue",e.$props.item))},null,8,["color","modelValue"])]),_:1})):_("",!0)]),_:3})}const sl=Oe(Ut,[["render",ol]]);Ut.__docgenInfo={displayName:"FSDataIteratorItem",exportName:"default",description:"",tags:{},props:[{name:"headers",type:{name:"FSDataTableColumn[]"},required:!0},{name:"item",type:{name:"object"},required:!0},{name:"itemTo",type:{name:"func"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"color",type:{name:"ColorEnum"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}},{name:"showSelect",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"item.top",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"`header.${header.value}`",scoped:!0,bindings:[{name:"header",title:"binding"},{name:"name",title:"binding"}]},{name:"`item.${header.value}`",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"name",title:"binding"}]},{name:"item.bottom",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/lists/FSDataIteratorItem.vue"]};const jt=Be({name:"FSFilterButton",components:{FSSearchField:Tt,FSFadeOut:Ct,FSCard:je,FSChip:ut,FSSpan:qe,FSCol:oe},props:{header:{type:Object,required:!0},filters:{type:Array,required:!1,default:()=>[]},color:{type:String,required:!1,default:ue.Primary}},emits:["update:filter"],setup(e,{emit:t}){const{$tr:l}=Bt(),a=x(!1),n=x(!1),s=x(null),f=I(()=>{if(e.header.text){if(e.filters){const c=e.filters.filter(P=>P.hidden).length;if(c>0)return l("ui.data-table.some-filters-visible","{0}: {1} visible",e.header.text,(e.filters.length-c).toString())}return l("ui.data-table.all-filters-visible","{0}: All visible",e.header.text)}return null});return{searchedFilters:I(()=>s.value?e.filters.filter(c=>(c.text+c.value).includes(s.value)):e.filters),ColorEnum:ue,expanded:n,search:s,label:f,singlePick:a,getVariant:c=>a.value||e.filters.filter(P=>P.hidden).length>0?c.hidden?"standard":"full":"standard",getAllVariant:()=>a.value||e.filters.filter(c=>c.hidden).length>0?"standard":"full",onToggle:c=>{a.value||e.filters.filter(P=>P.hidden).length>0?t("update:filter",e.filters.map(P=>({...P,hidden:P.value===c.value?!P.hidden:P.hidden}))):t("update:filter",e.filters.map(P=>({...P,hidden:P.value!==c.value}))),a.value=!0},onToggleAll:()=>{a.value||e.filters.filter(c=>c.hidden).length>0?(a.value=!1,t("update:filter",e.filters.map(c=>({...c,hidden:!1})))):a.value=!0}}}});function il(e,t,l,a,n,s){const f=Y("FSChip"),u=Y("FSSearchField"),i=Y("FSCard");return T(),B(dt,{closeOnContentClick:!1,modelValue:e.expanded,"onUpdate:modelValue":t[1]||(t[1]=m=>e.expanded=m)},{activator:g(({props:m})=>[r(f,te({class:"fs-filter-button",variant:"standard",prependIcon:"mdi-filter-variant",color:e.ColorEnum.Dark,editable:!0,label:e.label},m),null,16,["color","label"])]),default:g(()=>[r(i,{class:"fs-filter-button-menu",elevation:!0,border:!1},{default:g(()=>[r(oe,{gap:"16px",padding:"6px 16px"},{default:g(()=>[r(qe,{font:"text-overline"},{default:g(()=>[M(X(e.$tr("ui.data-table.filter","Filter")),1)]),_:1}),r(f,{class:"fs-filter-button-all",editable:!0,color:e.$props.color,variant:e.getAllVariant(),label:e.$tr("ui.data-table.all-values","All values"),onClick:e.onToggleAll},null,8,["color","variant","label","onClick"]),r(u,{class:"fs-filter-button-all",prependInnerIcon:"mdi-magnify",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=m=>e.search=m)},null,8,["modelValue"]),r(At),r(Ct,{padding:"0 8px 0 0",height:"360px"},{default:g(()=>[r(oe,null,{default:g(()=>[(T(!0),se(ee,null,ie(e.searchedFilters,(m,v)=>(T(),B(f,{class:"fs-filter-button-chip",key:v,editable:!0,label:m.text,color:e.$props.color,variant:e.getVariant(m),onClick:()=>e.onToggle(m)},{default:g(()=>[L(e.$slots,"default",z(G({filter:m})))]),_:2},1032,["label","color","variant","onClick"]))),128))]),_:3})]),_:3})]),_:3})]),_:3})]),_:3},8,["modelValue"])}const ul=Oe(jt,[["render",il]]);jt.__docgenInfo={displayName:"FSFilterButton",exportName:"default",description:"",tags:{},props:[{name:"header",type:{name:"FSDataTableColumn"},required:!0},{name:"filters",type:{name:"FSDataTableFilter[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}}],events:[{name:"update:filter"}],slots:[{name:"default",scoped:!0,bindings:[{name:"filter",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/lists/FSFilterButton.vue"]};const Mt=Be({name:"FSHiddenButton",components:{FSCard:je,FSChip:ut,FSSpan:qe,FSCol:oe},props:{headers:{type:Array,required:!0},color:{type:String,required:!1,default:ue.Primary}},emits:["update:show"],setup(){const e=x(!1);return{ColorEnum:ue,expanded:e}}});function dl(e,t,l,a,n,s){const f=Y("FSChip"),u=Y("FSCard");return T(),B(dt,{closeOnContentClick:!1,modelValue:e.expanded,"onUpdate:modelValue":t[0]||(t[0]=i=>e.expanded=i)},{activator:g(({props:i})=>[r(f,te({prependIcon:"mdi-eye-off-outline",color:e.ColorEnum.Light,editable:!0,label:e.$tr("ui.data-table.hidden-columns","{0} hidden column(s)",e.$props.headers.length.toString())},i),null,16,["color","label"])]),default:g(()=>[r(u,{class:"fs-hidden-button-menu",elevation:!0,border:!1},{default:g(()=>[r(oe,{gap:"16px",padding:"6px 16px"},{default:g(()=>[r(qe,{font:"text-overline"},{default:g(()=>[M(X(e.$tr("ui.data-table.show-columns","Show columns")),1)]),_:1}),(T(!0),se(ee,null,ie(e.$props.headers,(i,m)=>(T(),B(f,{class:"fs-hidden-button-chip",color:e.$props.color,label:i.text,editable:!0,key:m,onClick:v=>e.$emit("update:show",i)},null,8,["color","label","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])}const cl=Oe(Mt,[["render",dl]]);Mt.__docgenInfo={displayName:"FSHiddenButton",exportName:"default",description:"",tags:{},props:[{name:"headers",type:{name:"FSDataTableColumn[]"},required:!0},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}}],events:[{name:"update:show"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/lists/FSHiddenButton.vue"]};const zt=Be({name:"FSHeaderButton",components:{FSButton:ke,FSCard:je,FSSpan:qe,FSCol:oe},props:{first:{type:Boolean,required:!1,default:!1},last:{type:Boolean,required:!1,default:!1}},emits:["update:hide","update:left","update:right"],setup(){const e=x(!1);return{ColorEnum:ue,expanded:e}}});function fl(e,t,l,a,n,s){const f=Y("FSCard");return T(),B(dt,{modelValue:e.expanded,"onUpdate:modelValue":t[3]||(t[3]=u=>e.expanded=u)},{activator:g(({props:u})=>[r(ke,te({class:"fs-header-button",icon:"mdi-dots-vertical",variant:"icon",color:e.ColorEnum.Light},u),null,16,["color"])]),default:g(()=>[r(f,{elevation:!0,border:!1},{default:g(()=>[r(oe,{gap:"16px",padding:"16px"},{default:g(()=>[r(qe,{font:"text-overline"},{default:g(()=>[M(X(e.$tr("ui.data-table.column-options","Options for this column")),1)]),_:1}),r(oe,{padding:"16px"},{default:g(()=>[r(ke,{variant:"icon",icon:"mdi-eye-off-outline",label:e.$tr("ui.data-table.hide-column","Hide column"),color:e.ColorEnum.Dark,onClick:t[0]||(t[0]=u=>e.$emit("update:hide"))},null,8,["label","color"]),e.$props.first?_("",!0):(T(),B(ke,{key:0,variant:"icon",icon:"mdi-chevron-left",label:e.$tr("ui.data-table.move-left","Move to the left"),color:e.ColorEnum.Dark,onClick:t[1]||(t[1]=u=>e.$emit("update:left"))},null,8,["label","color"])),e.$props.last?_("",!0):(T(),B(ke,{key:1,variant:"icon",icon:"mdi-chevron-right",label:e.$tr("ui.data-table.move-right","Move to the right"),color:e.ColorEnum.Dark,onClick:t[2]||(t[2]=u=>e.$emit("update:right"))},null,8,["label","color"]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ml=Oe(zt,[["render",fl]]);zt.__docgenInfo={displayName:"FSHeaderButton",exportName:"default",description:"",tags:{},props:[{name:"first",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"last",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"update:hide"},{name:"update:left"},{name:"update:right"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/lists/FSHeaderButton.vue"]};const Gt=Be({name:"FSDraggable",props:{elementSelector:{type:String,default:null},item:{type:Object,default:null},disabled:{type:Boolean,default:!1}},components:{FSRow:H},emits:["update:dragstart","update:dragend"],setup(e,{emit:t}){let l=null;const a=x(null),n=x(0),s=x(0),f=x(0),u=x(0);return{classes:I(()=>{const b=["fs-draggable-item"];return e.disabled||b.push("fs-draggable-enabled"),b}),onTouchStart:b=>{var $,o,k;if(e.disabled)return;b.preventDefault();const h=b.touches[0];n.value=h.clientX,s.value=h.clientY;const y=($=b.target)==null?void 0:$.closest(e.elementSelector);y.classList.add("fs-draggable-dragging"),y.dataset.initialIndex=((o=e.item)==null?void 0:o.index)??((k=e.item)==null?void 0:k.value),a.value=y.cloneNode(!0),a.value.style.position="fixed",a.value.style.left=`${n.value-25}px`,a.value.style.top=`${s.value-25}px`,a.value.style.zIndex="1000",a.value.style.pointerEvents="none"},onTouchMove:b=>{var $;if(e.disabled)return;b.preventDefault();const h=b.touches[0];f.value=h.clientX,u.value=h.clientY,a.value&&(a.value.style.left=`${f.value-25}px`,a.value.style.top=`${u.value-25}px`,document.body.appendChild(a.value));const y=($=document.elementFromPoint(f.value,u.value))==null?void 0:$.closest(e.elementSelector);if(y){const o=new Event("dragover",{bubbles:!0,cancelable:!0});if(y==null||y.dispatchEvent(o),y!==l){const k=new Event("dragleave",{bubbles:!0,cancelable:!0});l==null||l.dispatchEvent(k)}l=y}else if(l){const o=new Event("dragleave",{bubbles:!0,cancelable:!0});l==null||l.dispatchEvent(o),l=null}},onTouchEnd:b=>{var k,S;if(e.disabled)return;b.preventDefault();const h=(k=b.target)==null?void 0:k.closest(e.elementSelector);a.value&&(a.value.remove(),a.value=null);const y=document.elementFromPoint(f.value,u.value),$=new Event("dragend");Object.defineProperty($,"srcElement",{get:function(){return b.target}}),t("update:dragend",$,h);const o=new DragEvent("drop",{bubbles:!0,cancelable:!0});(S=o.dataTransfer)==null||S.setData("text/plain",JSON.stringify(e.item)),y==null||y.dispatchEvent(o),n.value=0,s.value=0,f.value=0,u.value=0,h&&h.classList.remove("fs-draggable-dragging")},onDragStart:b=>{var y,$,o,k,S;if(e.disabled){b.preventDefault();return}const h=(y=b.target)==null?void 0:y.closest(e.elementSelector);h.dataset.initialIndex=(($=e.item)==null?void 0:$.index)??((o=e.item)==null?void 0:o.value),(k=b.dataTransfer)==null||k.setDragImage(h,25,25),b.dataTransfer&&(b.dataTransfer.dropEffect="move",b.dataTransfer.effectAllowed="move"),h==null||h.classList.add("fs-draggable-dragging"),(S=b.dataTransfer)==null||S.setData("text/plain",JSON.stringify(e.item)),t("update:dragstart",b)},onDragEnd:b=>{var y;const h=(y=b.target)==null?void 0:y.closest(e.elementSelector);h==null||h.classList.remove("fs-draggable-dragging"),t("update:dragend",b,h)}}}});function gl(e,t,l,a,n,s){return T(),B(H,{width:"hug",draggable:!e.$props.disabled,class:Ft(e.classes),onTouchstart:e.onTouchStart,onTouchmove:e.onTouchMove,onTouchend:e.onTouchEnd,onDragstart:e.onDragStart,onDragend:e.onDragEnd,onDragover:t[0]||(t[0]=Ce(()=>{},["prevent"]))},{default:g(()=>[L(e.$slots,"default")]),_:3},8,["draggable","class","onTouchstart","onTouchmove","onTouchend","onDragstart","onDragend"])}const vl=Oe(Gt,[["render",gl]]);Gt.__docgenInfo={displayName:"FSDraggable",exportName:"default",description:"",tags:{},props:[{name:"elementSelector",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"item",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:dragstart"},{name:"update:dragend"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/lists/FSDraggable.vue"]};const Kt=Be({name:"FSDataTableUI",components:{FSDataIteratorItem:sl,FSFilterButton:ul,FSHiddenButton:cl,FSHeaderButton:ml,FSSearchField:Tt,FSSelectField:xa,FSOptionGroup:La,FSDraggable:vl,FSToggleSet:Ha,FSCheckbox:Ue,FSCard:je,FSChip:ut,FSIcon:Et,FSText:It,FSRow:H,FSCol:oe},props:{headers:{type:Array,required:!0},filters:{type:Object,required:!1,default:()=>({})},sneakyHeaders:{type:Array,required:!1,default:()=>[]},items:{type:Array,required:!0},itemValue:{type:String,required:!1,default:"id"},itemTo:{type:Function,required:!1,default:null},rowsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1,default:1},groupBy:{type:Object,required:!1,default:null},sortBy:{type:Object,required:!1,default:null},modelValue:{type:Array,required:!1,default:()=>[]},color:{type:String,required:!1,default:ue.Primary},showSelect:{type:Boolean,required:!1,default:!0},showSearch:{type:Boolean,required:!1,default:!0},singleSelect:{type:Boolean,required:!1,default:!1},selectedOnly:{type:Boolean,required:!1,default:!1},mode:{type:String,required:!1,default:"table"},disableTable:{type:Boolean,required:!1,default:!1},disableIterator:{type:Boolean,required:!1,default:!1},sizeIterator:{type:Number,required:!1,default:20},sortDraggable:{type:Boolean,required:!1,default:!1},includeDraggable:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","update:headers","update:filters","update:mode","update:sortBy","update:rowsPerPage","update:page","update:include","update:items","click:row"],setup(e,{emit:t}){const{isExtraSmall:l}=Ra(),{$tr:a}=Bt(),{getColors:n}=Na(),s=qa(),f=n(ue.Background),u=n(ue.Light),i=x({}),m=x(e.rowsPerPage),v=x(e.modelValue),p=x(e.sortBy),c=x(e.mode),P=x(e.page),b=x(null),h=x(!0),y=x(!1),$=x(null),o=x(e.sizeIterator),k=[{id:"table",prependIcon:"mdi-table"},{id:"iterator",prependIcon:"mdi-apps"}],S=[{id:5,label:"5"},{id:10,label:"10"},{id:30,label:"30"},{id:-1,label:a("ui.data-table.all-rows","All")}],F=I(()=>e.showSearch&&h.value&&U.value.length>0||R.value.length>0),K=I(()=>{const d={...Ua().slots};delete d.toolbar,delete d["no-data"],delete d["header.data-table-select"],delete d["item.data-table-select"],delete d["header.data-table-draggable"],delete d["item.data-table-draggable"],delete d["header.data-table-group"],delete d["item.data-table-group"],delete d["group-header"],delete d["group-header-title"],delete d.bottom;for(const w of U.value)delete d[ye(w)];for(const w of $e.value)delete d[w.slotName],delete d[w.slotName+"-prepend"],delete d[w.slotName+"-title"],delete d[w.slotName+"-append"],delete d[w.slotName+"-configuration"];for(const w of ce.value)delete d[w.slotName];return d}),ae=I(()=>({"--fs-data-table-background-color":f.base,"--fs-data-table-border-color":u.base})),C=I(()=>{const d=["fs-data-table"];return e.groupBy&&d.push("fs-data-table-grouped"),d}),E=I(()=>{const d=[];return e.groupBy&&d.push({key:"data-table-group",width:"0%"}),(e.sortDraggable||e.includeDraggable)&&d.push({key:"data-table-draggable",width:"0%"}),e.showSelect&&d.push({key:"data-table-select",width:"0%"}),d}),O=I(()=>e.headers.filter(d=>!d.hidden).sort((d,w)=>d.index-w.index).map(d=>d.sort?d:{...d,sort:(w,D)=>JSON.stringify(w).localeCompare(JSON.stringify(D),void 0,{numeric:!0})})),R=I(()=>e.headers.filter(d=>d.hidden)),U=I(()=>O.value.filter(d=>d.filterable)),J=I(()=>{const d=Object.keys(i.value).reduce((w,D)=>w.concat(i.value[D].filter(V=>V.hidden).map(V=>({key:D,filter:V}))),[]);return e.items&&e.items.length?e.items.filter(w=>!(e.selectedOnly&&!v.value.includes(w[e.itemValue])||b.value&&!JSON.stringify(w).toLowerCase().includes(b.value.toString().toLowerCase())||d.some(D=>D.filter.filter(D.filter.value,w[D.key],w)))):[]}),$e=I(()=>O.value.map(d=>({...d,slotName:`header.${d.value}`}))),ce=I(()=>O.value.map(d=>({...d,slotName:`item.${d.value}`}))),be=I(()=>e.groupBy?J.value.reduce((d,w)=>{const D=w[e.groupBy.key];return d[D]||(d[D]=[]),d[D].push(w),d},{}):{}),Ne=I(()=>{if(m.value===-1)return[];{const d=Math.ceil((J.value.length+Object.keys(be.value).length)/m.value);return Array.from(Array(d).keys()).map(w=>({id:w+1,label:(w+1).toString()}))}}),xe=I(()=>{var d,w;return(w=(d=Ca())==null?void 0:d.vnode.props)!=null&&w["onClick:row"]||e.itemTo?(D,V)=>{e.itemTo&&s?D.metaKey||D.ctrlKey||D.button===1?window.open(s.resolve(e.itemTo(V.item)).href,"_blank"):s.push(e.itemTo(V.item)):t("click:row",V.item)}:null}),Le=I(()=>!e.sortDraggable&&!e.includeDraggable||!(p.value===null||p.value===void 0)),he=d=>{d?v.value=[]:v.value=J.value.map(w=>w[e.itemValue]),t("update:modelValue",v.value)},fe=d=>{const w=v.value.indexOf(d[e.itemValue]);w>-1?v.value.splice(w,1):v.value.push(d[e.itemValue]),t("update:modelValue",v.value)},Fe=(d,w)=>{i.value[d]=w,t("update:filters",i.value),y.value=Object.keys(i.value).some(D=>i.value[D].some(V=>V.hidden))},De=()=>{for(const d in i.value)i.value[d]=i.value[d].map(w=>({...w,hidden:!1}));t("update:filters",i.value),y.value=!1},ye=d=>`filter.${d.value}`,ne=(d,w,D)=>{const V=e.headers.slice(0),j=V.find(q=>q.value===d.value);if(j){switch(w){case"hidden":j.hidden=D;break;case"index":switch(D){case 1:for(const q of V)q.index===d.index+1&&q.index--;break;case-1:for(const q of V)q.index===d.index-1&&q.index++;break}j.index+=D,V.sort((q,A)=>q.index-A.index);for(let q=0;q<V.length;q++)V[q].index=q;break}t("update:headers",V)}},me=()=>{var w;const d={};for(const D of O.value.filter(V=>V.filterable)){const V=D.value,j=i.value[V];let q=[];if(D.fixedFilters)q=D.fixedFilters.map(A=>{var W,re;return{hidden:((W=j==null?void 0:j.find(N=>N.value==(A.value||null)))==null?void 0:W.hidden)??!1,text:((re=A.text)==null?void 0:re.toString())??"—",value:A.value||null,filter:D.methodFilter??((N,le)=>(le=[le].flat(),Array.isArray(le)?le.includes(N)||!N&&le.length==0:!N&&!le||N==le))}});else if(e.items&&e.items.length){const A=D.innerValue?D.innerValue:N=>N,W=e.items.flatMap(N=>Array.isArray(N[V])&&N[V].length==0?void 0:N[V]).map(A);q=[...new Set(W)].map(N=>{var le;return{hidden:((le=j==null?void 0:j.find(pt=>pt.value==(N||null)))==null?void 0:le.hidden)??!1,text:(N==null?void 0:N.toString())??"—",value:N||null,filter:D.methodFilter??((pt,Pe)=>(Pe=[Pe].flat().map(A),Array.isArray(Pe)?Pe.includes(N)||!N&&Pe.length==0:!N&&!Pe||N==Pe))}})}d[V]=q.sort((A,W)=>A.text.localeCompare(W.text,void 0,{numeric:!0}))}for(const[D,V]of Object.entries(e.filters))for(const j of V){const q=(w=d[D])==null?void 0:w.find(A=>A.value==j.value);q&&(q.hidden=j.hidden)}i.value=d},tt=(d,w)=>w.sortBy.find(V=>V.key==d.value)?e.color:ue.Light,at=(d,w)=>{const D=w.sortBy.find(V=>V.key==d.value);if(D)switch(D.order){case"asc":return"mdi-sort-reverse-variant";case"desc":return"mdi-sort-variant"}return"mdi-sort-variant-off"},Me=()=>{switch(c.value){case"table":$.value&&document.querySelector(".fs-data-table-intersection")&&$.value.unobserve(document.querySelector(".fs-data-table-intersection"));return;case"iterator":$.value||($.value=new IntersectionObserver(d=>{d.forEach(w=>{w.boundingClientRect.bottom<window.innerHeight*1.25&&J.value.length>o.value&&(o.value=Math.min(o.value+e.sizeIterator,J.value.length))})},{threshold:[.9]})),document.querySelector(".fs-data-table-intersection")&&$.value.observe(document.querySelector(".fs-data-table-intersection"));return}},Se=(d,w)=>{if(d===w)return;const D=J.value.slice(),V=D.splice(d,1)[0];return D.splice(w,0,V),D},He=(d,w,D,V)=>{d>w?V.children[d].insertAdjacentElement("afterend",D):V.children[d].insertAdjacentElement("beforebegin",D)},ze=(d,w,D)=>{var j,q;const V=document.querySelector(".fs-draggable-dragging");if(V!=null){const A=(j=d.target)==null?void 0:j.closest(w);if(A!=null&&(A!==V||e.sortDraggable&&e.includeDraggable)){if(e.includeDraggable)if(!e.sortDraggable)A.classList.add("fs-dropzone-include");else{const W=A.clientHeight,re=d.clientY-A.getBoundingClientRect().top;if(re>W*(3/4))A.insertAdjacentElement("afterend",V),A.classList.remove("fs-dropzone-include");else if(re<W*(1/4))A.insertAdjacentElement("beforebegin",V),A.classList.remove("fs-dropzone-include");else if((V==null?void 0:V.getAttribute("data-initial-index"))!==null){A.classList.add("fs-dropzone-include");const N=(q=d.target)==null?void 0:q.closest(D);He(+(V==null?void 0:V.getAttribute("data-initial-index")),Array.from(N.children).indexOf(V),V,N)}}else if(e.sortDraggable){const W=V.getBoundingClientRect().top,re=A.getBoundingClientRect().top;if(W<re)A.insertAdjacentElement("afterend",V);else if(W>re)A.insertAdjacentElement("beforebegin",V);else{const N=V.getBoundingClientRect().left,le=A.getBoundingClientRect().left;N<le?A.insertAdjacentElement("afterend",V):A.insertAdjacentElement("beforebegin",V)}}}}},Ge=d=>{var D,V;const w=(D=d.target)==null?void 0:D.closest(".fs-dropzone-include");w&&!((V=d.relatedTarget)!=null&&V.closest(".fs-dropzone-include"))&&w.classList.remove("fs-dropzone-include")},Ke=(d,w,D)=>{var j;const V=+(w.getAttribute("data-initial-index")??-1);if(w!=null&&V!==-1&&e.sortDraggable){const q=(j=d.target)==null?void 0:j.closest(D),A=Array.from(q.children).indexOf(w),W=Se(V,A);W!=null&&t("update:items",W),He(V,A,w,q)}},We=(d,w,D)=>{var j,q,A;const V=document.querySelector(".fs-draggable-dragging");if(V!=null){const W=(j=d.target)==null?void 0:j.closest(D),re=JSON.parse(((q=d.dataTransfer)==null?void 0:q.getData("text/plain"))??""),N=re.item??re.raw,le=w.item??w.raw;W!=null&&W!==V&&(e.includeDraggable&&N[e.itemValue]!=le[e.itemValue]&&t("update:include",{draggedItem:N,targetItem:le}),(A=W.closest(".fs-dropzone-include"))==null||A.classList.remove("fs-dropzone-include"))}};return Ia(()=>{me(),Me()}),Ta(()=>{$.value&&$.value.disconnect()}),ge(b,()=>{P.value=1}),ge(c,()=>{t("update:mode",c.value),o.value=e.sizeIterator,Me()}),ge(p,()=>{t("update:sortBy",p.value)}),ge(P,()=>{t("update:page",P.value)}),ge(m,()=>{t("update:rowsPerPage",m.value)}),ge(()=>e.headers,()=>{me()}),{ColorEnum:ue,innerSlots:K,rowsPerPageOptions:S,innerRowsPerPage:m,innerSearch:b,innerMode:c,modeOptions:k,innerPage:P,pageOptions:Ne,showFilters:h,showFiltersRow:F,extraHeaders:E,innerHeaders:O,hiddenHeaders:R,filterableHeaders:U,filters:i,resetable:y,innerSortBy:p,innerItems:J,headersSlots:$e,itemsSlots:ce,innerValue:v,classes:C,style:ae,size:o,onClickRow:xe,isExtraSmall:l,draggableDisabled:Le,toggleSelectAll:he,toggleSelect:fe,updateHeader:ne,toggleFilter:Fe,resetFilter:De,filterSlot:ye,sortColor:tt,sortIcon:at,onDrop:We,onDragOver:ze,onDragLeave:Ge,onDragEnd:Ke}}}),Wt=Z({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Xt=Symbol.for("vuetify:datatable:expanded");function Yt(e){const t=Q(e,"expandOnClick"),l=ve(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function a(u,i){const m=new Set(l.value);i?m.add(u.value):m.delete(u.value),l.value=m}function n(u){return l.value.has(u.value)}function s(u){a(u,!n(u))}const f={expand:a,expanded:l,expandOnClick:t,isExpanded:n,toggleExpand:s};return Ae(Xt,f),f}function Jt(){const e=Ee(Xt);if(!e)throw new Error("foo");return e}const Qt=Z({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Zt=Symbol.for("vuetify:data-table-group");function pl(e){return{groupBy:ve(e,"groupBy")}}function _t(e){const{groupBy:t,sortBy:l}=e,a=x(new Set),n=I(()=>t.value.map(m=>({...m,order:m.order??!1})).concat(l.value));function s(m){return a.value.has(m.id)}function f(m){const v=new Set(a.value);s(m)?v.delete(m.id):v.add(m.id),a.value=v}function u(m){function v(p){const c=[];for(const P of p.items)"type"in P&&P.type==="group"?c.push(...v(P)):c.push(P);return c}return v({type:"group",items:m,id:"dummy",key:"dummy",value:"dummy",depth:0})}const i={sortByWithGroups:n,toggleGroup:f,opened:a,groupBy:t,extractRows:u,isGroupOpen:s};return Ae(Zt,i),i}function ea(){const e=Ee(Zt);if(!e)throw new Error("Missing group!");return e}function bl(e,t){if(!e.length)return[];const l=new Map;for(const a of e){const n=Qe(a.raw,t);l.has(n)||l.set(n,[]),l.get(n).push(a)}return l}function ta(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=bl(e,t[0]),s=[],f=t.slice(1);return n.forEach((u,i)=>{const m=t[0],v=`${a}_${m}_${i}`;s.push({depth:l,id:v,key:m,value:i,items:f.length?ta(u,f,l+1,v):u,type:"group"})}),s}function aa(e,t){const l=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&l.push(a),(t.has(a.id)||a.value==null)&&l.push(...aa(a.items,t))):l.push(a);return l}function la(e,t,l){return{flatItems:I(()=>{if(!t.value.length)return e.value;const n=ta(e.value,t.value.map(s=>s.key));return aa(n,l.value)})}}function na(e){let{page:t,itemsPerPage:l,sortBy:a,groupBy:n,search:s}=e;const f=Ot("VDataTable"),u=I(()=>({page:t.value,itemsPerPage:l.value,sortBy:a.value,groupBy:n.value,search:s.value}));let i=null;ge(u,()=>{qt(i,u.value)||(i&&i.search!==u.value.search&&(t.value=1),f.emit("update:options",u.value),i=u.value)},{deep:!0,immediate:!0})}const ra=Z({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),oa=Symbol.for("vuetify:data-table-pagination");function sa(e){const t=ve(e,"page",void 0,a=>+(a??1)),l=ve(e,"itemsPerPage",void 0,a=>+(a??10));return{page:t,itemsPerPage:l}}function ia(e){const{page:t,itemsPerPage:l,itemsLength:a}=e,n=I(()=>l.value===-1?0:l.value*(t.value-1)),s=I(()=>l.value===-1?a.value:Math.min(a.value,n.value+l.value)),f=I(()=>l.value===-1||a.value===0?1:Math.ceil(a.value/l.value));Dt(()=>{t.value>f.value&&(t.value=f.value)});function u(c){l.value=c,t.value=1}function i(){t.value=nt(t.value+1,1,f.value)}function m(){t.value=nt(t.value-1,1,f.value)}function v(c){t.value=nt(c,1,f.value)}const p={page:t,itemsPerPage:l,startIndex:n,stopIndex:s,pageCount:f,itemsLength:a,nextPage:i,prevPage:m,setPage:v,setItemsPerPage:u};return Ae(oa,p),p}function hl(){const e=Ee(oa);if(!e)throw new Error("Missing pagination!");return e}function ua(e){const t=Ot("usePaginatedItems"),{items:l,startIndex:a,stopIndex:n,itemsPerPage:s}=e,f=I(()=>s.value<=0?l.value:l.value.slice(a.value,n.value));return ge(f,u=>{t.emit("update:currentItems",u)}),{paginatedItems:f}}const yl={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:t,value:l}=e;return new Set(l?[(a=t[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},da={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,currentPage:l,selected:a}=e;return da.select({items:l,value:t,selected:a})}},ca={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,allItems:l,selected:a}=e;return ca.select({items:l,value:t,selected:a})}},fa=Z({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:qt}},"DataTable-select"),ma=Symbol.for("vuetify:data-table-selection");function ga(e,t){let{allItems:l,currentPage:a}=t;const n=ve(e,"modelValue",e.modelValue,y=>new Set(rt(y).map($=>{var o;return((o=l.value.find(k=>e.valueComparator($,k.value)))==null?void 0:o.value)??$})),y=>[...y.values()]),s=I(()=>l.value.filter(y=>y.selectable)),f=I(()=>a.value.filter(y=>y.selectable)),u=I(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return yl;case"all":return ca;case"page":default:return da}});function i(y){return rt(y).every($=>n.value.has($.value))}function m(y){return rt(y).some($=>n.value.has($.value))}function v(y,$){const o=u.value.select({items:y,value:$,selected:new Set(n.value)});n.value=o}function p(y){v([y],!i([y]))}function c(y){const $=u.value.selectAll({value:y,allItems:s.value,currentPage:f.value,selected:new Set(n.value)});n.value=$}const P=I(()=>n.value.size>0),b=I(()=>{const y=u.value.allSelected({allItems:s.value,currentPage:f.value});return!!y.length&&i(y)}),h={toggleSelect:p,select:v,selectAll:c,isSelected:i,isSomeSelected:m,someSelected:P,allSelected:b,showSelectAll:u.value.showSelectAll};return Ae(ma,h),h}function _e(){const e=Ee(ma);if(!e)throw new Error("Missing selection!");return e}const va=Z({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),pa=Symbol.for("vuetify:data-table-sort");function ba(e){const t=ve(e,"sortBy"),l=Q(e,"mustSort"),a=Q(e,"multiSort");return{sortBy:t,mustSort:l,multiSort:a}}function ha(e){const{sortBy:t,mustSort:l,multiSort:a,page:n}=e,s=i=>{if(i.key==null)return;let m=t.value.map(p=>({...p}))??[];const v=m.find(p=>p.key===i.key);v?v.order==="desc"?l.value?v.order="asc":m=m.filter(p=>p.key!==i.key):v.order="desc":a.value?m=[...m,{key:i.key,order:"asc"}]:m=[{key:i.key,order:"asc"}],t.value=m,n&&(n.value=1)};function f(i){return!!t.value.find(m=>m.key===i.key)}const u={sortBy:t,toggleSort:s,isSorted:f};return Ae(pa,u),u}function Sl(){const e=Ee(pa);if(!e)throw new Error("Missing sort!");return e}function ya(e,t,l,a,n){const s=Ze();return{sortedItems:I(()=>l.value.length?Pl(t.value,l.value,s.current.value,{...e.customKeySort,...a==null?void 0:a.value},n==null?void 0:n.value):t.value)}}function Pl(e,t,l,a,n){const s=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return[...e].sort((f,u)=>{for(let i=0;i<t.length;i++){const m=t[i].key,v=t[i].order??"asc";if(v===!1)continue;let p=Qe(f.raw,m),c=Qe(u.raw,m),P=f.raw,b=u.raw;if(v==="desc"&&([p,c]=[c,p],[P,b]=[b,P]),n!=null&&n[m]){const h=n[m](P,b);if(!h)continue;return h}if(a!=null&&a[m]){const h=a[m](p,c);if(!h)continue;return h}if(p instanceof Date&&c instanceof Date)return p.getTime()-c.getTime();if([p,c]=[p,c].map(h=>h!=null?h.toString().toLocaleLowerCase():h),p!==c)return Ye(p)&&Ye(c)?0:Ye(p)?-1:Ye(c)?1:!isNaN(p)&&!isNaN(c)?Number(p)-Number(c):s.compare(p,c)}return 0})}const wl=Z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function kl(e,t){const l=e.returnObject?t:Ie(t,e.itemValue),a=Ie(t,e.itemSelectable,!0);return{type:"item",value:l,selectable:a,raw:t}}function Vl(e,t){const l=[];for(const a of t)l.push(kl(e,a));return l}function $l(e){return{items:I(()=>Vl(e,e.items))}}const Fl=Z({search:String,loading:Boolean,...ct(),...wl(),...fa(),...va(),...ra({itemsPerPage:5}),...Wt(),...Qt(),...Ht(),...ft()},"VDataIterator"),St=de()({name:"VDataIterator",props:Fl(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:l}=t;const a=ve(e,"groupBy"),n=Q(e,"search"),{items:s}=$l(e),{filteredItems:f}=Rt(e,s,n,{transform:fe=>fe.raw}),{sortBy:u,multiSort:i,mustSort:m}=ba(e),{page:v,itemsPerPage:p}=sa(e),{toggleSort:c}=ha({sortBy:u,multiSort:i,mustSort:m,page:v}),{sortByWithGroups:P,opened:b,extractRows:h,isGroupOpen:y,toggleGroup:$}=_t({groupBy:a,sortBy:u}),{sortedItems:o}=ya(e,f,P),{flatItems:k}=la(o,a,b),S=I(()=>k.value.length),{startIndex:F,stopIndex:K,pageCount:ae,prevPage:C,nextPage:E,setItemsPerPage:O,setPage:R}=ia({page:v,itemsPerPage:p,itemsLength:S}),{paginatedItems:U}=ua({items:k,startIndex:F,stopIndex:K,itemsPerPage:p}),J=I(()=>h(U.value)),{isSelected:$e,select:ce,selectAll:be,toggleSelect:Ne}=ga(e,{allItems:s,currentPage:J}),{isExpanded:xe,toggleExpand:Le}=Yt(e);na({page:v,itemsPerPage:p,sortBy:u,groupBy:a,search:n});const he=I(()=>({page:v.value,itemsPerPage:p.value,sortBy:u.value,pageCount:ae.value,toggleSort:c,prevPage:C,nextPage:E,setPage:R,setItemsPerPage:O,isSelected:$e,select:ce,selectAll:be,toggleSelect:Ne,isExpanded:xe,toggleExpand:Le,isGroupOpen:y,toggleGroup:$,items:J.value,groupedItems:U.value}));return pe(()=>r(e.tag,{class:["v-data-iterator",e.class],style:e.style},{default:()=>{var fe,Fe,De,ye;return[(fe=l.header)==null?void 0:fe.call(l,he.value),U.value.length?(De=l.default)==null?void 0:De.call(l,he.value):(Fe=l["no-data"])==null?void 0:Fe.call(l),(ye=l.footer)==null?void 0:ye.call(l,he.value)]}})),{}}});function Dl(){const e=x([]);Ba(()=>e.value=[]);function t(l,a){e.value[a]=l}return{refs:e,updateRef:t}}const Il=Z({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Te,default:"$first"},prevIcon:{type:Te,default:"$prev"},nextIcon:{type:Te,default:"$next"},lastIcon:{type:Te,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Ga(),...ct(),...Lt(),...Ya(),...Qa(),...Za(),...ft({tag:"nav"}),...Nt(),...Ka({variant:"text"})},"VPagination"),Pt=de()({name:"VPagination",props:Il(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:l,emit:a}=t;const n=ve(e,"modelValue"),{t:s,n:f}=Ze(),{isRtl:u}=Ma(),{themeClasses:i}=xt(e),{width:m}=el(),v=Aa(-1);st(void 0,{scoped:!0});const{resizeRef:p}=Ja(C=>{if(!C.length)return;const{target:E,contentRect:O}=C[0],R=E.querySelector(".v-pagination__list > *");if(!R)return;const U=O.width,J=R.offsetWidth+parseFloat(getComputedStyle(R).marginRight)*2;v.value=h(U,J)}),c=I(()=>parseInt(e.length,10)),P=I(()=>parseInt(e.start,10)),b=I(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):v.value>=0?v.value:h(m.value,58));function h(C,E){const O=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((C-E*O)/E).toFixed(2)))}const y=I(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(b.value<=0)return[];if(b.value===1)return[n.value];if(c.value<=b.value)return Je(c.value,P.value);const C=b.value%2===0,E=C?b.value/2:Math.floor(b.value/2),O=C?E:E+1,R=c.value-E;if(O-n.value>=0)return[...Je(Math.max(1,b.value-1),P.value),e.ellipsis,c.value];if(n.value-R>=(C?1:0)){const U=b.value-1,J=c.value-U+P.value;return[P.value,e.ellipsis,...Je(U,J)]}else{const U=Math.max(1,b.value-3),J=U===1?n.value:n.value-Math.ceil(U/2)+P.value;return[P.value,e.ellipsis,...Je(U,J),e.ellipsis,c.value]}});function $(C,E,O){C.preventDefault(),n.value=E,O&&a(O,E)}const{refs:o,updateRef:k}=Dl();st({VPaginationBtn:{color:Q(e,"color"),border:Q(e,"border"),density:Q(e,"density"),size:Q(e,"size"),variant:Q(e,"variant"),rounded:Q(e,"rounded"),elevation:Q(e,"elevation")}});const S=I(()=>y.value.map((C,E)=>{const O=R=>k(R,E);if(typeof C=="string")return{isActive:!1,key:`ellipsis-${E}`,page:C,props:{ref:O,ellipsis:!0,icon:!0,disabled:!0}};{const R=C===n.value;return{isActive:R,key:C,page:f(C),props:{ref:O,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:R?e.activeColor:e.color,"aria-current":R,"aria-label":s(R?e.currentPageAriaLabel:e.pageAriaLabel,C),onClick:U=>$(U,C)}}}})),F=I(()=>{const C=!!e.disabled||n.value<=P.value,E=!!e.disabled||n.value>=P.value+c.value-1;return{first:e.showFirstLastPage?{icon:u.value?e.lastIcon:e.firstIcon,onClick:O=>$(O,P.value,"first"),disabled:C,"aria-label":s(e.firstAriaLabel),"aria-disabled":C}:void 0,prev:{icon:u.value?e.nextIcon:e.prevIcon,onClick:O=>$(O,n.value-1,"prev"),disabled:C,"aria-label":s(e.previousAriaLabel),"aria-disabled":C},next:{icon:u.value?e.prevIcon:e.nextIcon,onClick:O=>$(O,n.value+1,"next"),disabled:E,"aria-label":s(e.nextAriaLabel),"aria-disabled":E},last:e.showFirstLastPage?{icon:u.value?e.firstIcon:e.lastIcon,onClick:O=>$(O,P.value+c.value-1,"last"),disabled:E,"aria-label":s(e.lastAriaLabel),"aria-disabled":E}:void 0}});function K(){var E;const C=n.value-P.value;(E=o.value[C])==null||E.$el.focus()}function ae(C){C.key===ht.left&&!e.disabled&&n.value>+e.start?(n.value=n.value-1,bt(K)):C.key===ht.right&&!e.disabled&&n.value<P.value+c.value-1&&(n.value=n.value+1,bt(K))}return pe(()=>r(e.tag,{ref:p,class:["v-pagination",i.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:ae,"data-test":"v-pagination-root"},{default:()=>[r("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&r("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[l.first?l.first(F.value.first):r(we,te({_as:"VPaginationBtn"},F.value.first),null)]),r("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[l.prev?l.prev(F.value.prev):r(we,te({_as:"VPaginationBtn"},F.value.prev),null)]),S.value.map((C,E)=>r("li",{key:C.key,class:["v-pagination__item",{"v-pagination__item--is-active":C.isActive}],"data-test":"v-pagination-item"},[l.item?l.item(C):r(we,te({_as:"VPaginationBtn"},C.props),{default:()=>[C.page]})])),r("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[l.next?l.next(F.value.next):r(we,te({_as:"VPaginationBtn"},F.value.next),null)]),e.showFirstLastPage&&r("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[l.last?l.last(F.value.last):r(we,te({_as:"VPaginationBtn"},F.value.last),null)])])]})),{}}}),Sa=Z({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),wt=de()({name:"VDataTableFooter",props:Sa(),setup(e,t){let{slots:l}=t;const{t:a}=Ze(),{page:n,pageCount:s,startIndex:f,stopIndex:u,itemsLength:i,itemsPerPage:m,setItemsPerPage:v}=hl(),p=I(()=>e.itemsPerPageOptions.map(c=>typeof c=="number"?{value:c,title:c===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(c)}:{...c,title:a(c.title)}));return pe(()=>{var P;const c=Pt.filterProps(e);return r("div",{class:"v-data-table-footer"},[(P=l.prepend)==null?void 0:P.call(l),r("div",{class:"v-data-table-footer__items-per-page"},[r("span",null,[a(e.itemsPerPageText)]),r(tl,{items:p.value,modelValue:m.value,"onUpdate:modelValue":b=>v(Number(b)),density:"compact",variant:"outlined","hide-details":!0},null)]),r("div",{class:"v-data-table-footer__info"},[r("div",null,[a(e.pageText,i.value?f.value+1:0,u.value,i.value)])]),r("div",{class:"v-data-table-footer__pagination"},[r(Pt,te({modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},c),null)])])}),{}}}),gt=Wa({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,t)=>{let{slots:l}=t;const a=e.tag??"td";return r(a,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:Ve(e.height),width:Ve(e.width),left:Ve(e.fixedOffset||null)}},{default:()=>{var n;return[(n=l.default)==null?void 0:n.call(l)]}})}),Tl=Z({headers:Array},"DataTable-header"),Pa=Symbol.for("vuetify:data-table-headers"),wa={title:"",sortable:!1},Cl={...wa,width:48};function Bl(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,a)=>{let n=!1;for(let s=0;s<t.length;s++)if(t[s].priority>a){t.splice(s,0,{element:l,priority:a}),n=!0;break}n||t.push({element:l,priority:a})},size:()=>t.length,count:()=>{let l=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===a&&(l+=1);return l},dequeue:()=>t.shift()}}function it(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const l of e.children)it(l,t);return t}function ka(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&t.add(l.key),l.children&&ka(l.children,t);return t}function Al(e){if(e.key){if(e.key==="data-table-group")return wa;if(["data-table-expand","data-table-select"].includes(e.key))return Cl}}function vt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(l=>vt(l,t+1))):t}function El(e){let t=!1;function l(s){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(f&&(s.fixed=!0),s.fixed)if(s.children)for(let u=s.children.length-1;u>=0;u--)l(s.children[u],!0);else t?isNaN(+s.width)&&za(`Multiple fixed columns should have a static width (key: ${s.key})`):s.lastFixed=!0,t=!0;else if(s.children)for(let u=s.children.length-1;u>=0;u--)l(s.children[u]);else t=!1}for(let s=e.length-1;s>=0;s--)l(e[s]);function a(s){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return f;if(s.children){s.fixedOffset=f;for(const u of s.children)f=a(u,f)}else s.fixed&&(s.fixedOffset=f,f+=parseFloat(s.width||"0")||0);return f}let n=0;for(const s of e)n=a(s,n)}function Ol(e,t){const l=[];let a=0;const n=Bl(e);for(;n.size()>0;){let f=n.count();const u=[];let i=1;for(;f>0;){const{element:m,priority:v}=n.dequeue(),p=t-a-vt(m);if(u.push({...m,rowspan:p??1,colspan:m.children?it(m).length:1}),m.children)for(const c of m.children){const P=v%1+i/Math.pow(10,a+2);n.enqueue(c,a+p+P)}i+=1,f-=1}a+=1,l.push(u)}return{columns:e.map(f=>it(f)).flat(),headers:l}}function Va(e){const t=[];for(const l of e){const a={...Al(l),...l},n=a.key??(typeof a.value=="string"?a.value:null),s=a.value??n??null,f={...a,key:n,value:s,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?Va(a.children):void 0};t.push(f)}return t}function ql(e,t){const l=x([]),a=x([]),n=x({}),s=x({}),f=x({});Dt(()=>{var h,y,$;const m=(e.headers||Object.keys(e.items[0]??{}).map(o=>({key:o,title:Ea(o)}))).slice(),v=ka(m);(h=t==null?void 0:t.groupBy)!=null&&h.value.length&&!v.has("data-table-group")&&m.unshift({key:"data-table-group",title:"Group"}),(y=t==null?void 0:t.showSelect)!=null&&y.value&&!v.has("data-table-select")&&m.unshift({key:"data-table-select"}),($=t==null?void 0:t.showExpand)!=null&&$.value&&!v.has("data-table-expand")&&m.push({key:"data-table-expand"});const p=Va(m);El(p);const c=Math.max(...p.map(o=>vt(o)))+1,P=Ol(p,c);l.value=P.headers,a.value=P.columns;const b=P.headers.flat(1);for(const o of b)o.key&&(o.sortable&&(o.sort&&(n.value[o.key]=o.sort),o.sortRaw&&(s.value[o.key]=o.sortRaw)),o.filter&&(f.value[o.key]=o.filter))});const u={headers:l,columns:a,sortFunctions:n,sortRawFunctions:s,filterFunctions:f};return Ae(Pa,u),u}function et(){const e=Ee(Pa);if(!e)throw new Error("Missing headers!");return e}const $a=Z({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Te,default:"$sortAsc"},sortDescIcon:{type:Te,default:"$sortDesc"},headerProps:{type:Object},...ll()},"VDataTableHeaders"),kt=de()({name:"VDataTableHeaders",props:$a(),setup(e,t){let{slots:l}=t;const{toggleSort:a,sortBy:n,isSorted:s}=Sl(),{someSelected:f,allSelected:u,selectAll:i,showSelectAll:m}=_e(),{columns:v,headers:p}=et(),{loaderClasses:c}=nl(e);function P(k,S){if(!(!e.sticky&&!k.fixed))return{position:"sticky",left:k.fixed?Ve(k.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${S})`:void 0}}function b(k){const S=n.value.find(F=>F.key===k.key);return S?S.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:h,backgroundColorStyles:y}=al(e,"color"),$=I(()=>({headers:p.value,columns:v.value,toggleSort:a,isSorted:s,sortBy:n.value,someSelected:f.value,allSelected:u.value,selectAll:i,getSortIcon:b})),o=k=>{let{column:S,x:F,y:K}=k;const ae=S.key==="data-table-select"||S.key==="data-table-expand",C=te(e.headerProps??{},S.headerProps??{});return r(gt,te({tag:"th",align:S.align,class:["v-data-table__th",{"v-data-table__th--sortable":S.sortable,"v-data-table__th--sorted":s(S),"v-data-table__th--fixed":S.fixed,"v-data-table__th--sticky":e.sticky},c.value],style:{width:Ve(S.width),minWidth:Ve(S.minWidth),...P(S,K)},colspan:S.colspan,rowspan:S.rowspan,onClick:S.sortable?()=>a(S):void 0,fixed:S.fixed,lastFixed:S.lastFixed,noPadding:ae},C),{default:()=>{var R;const E=`header.${S.key}`,O={column:S,selectAll:i,isSorted:s,toggleSort:a,sortBy:n.value,someSelected:f.value,allSelected:u.value,getSortIcon:b};return l[E]?l[E](O):S.key==="data-table-select"?((R=l["header.data-table-select"])==null?void 0:R.call(l,O))??(m&&r(mt,{modelValue:u.value,indeterminate:f.value&&!u.value,"onUpdate:modelValue":i},null)):r("div",{class:"v-data-table-header__content"},[r("span",null,[S.title]),S.sortable&&r(_a,{key:"icon",class:"v-data-table-header__sort-icon",icon:b(S)},null),e.multiSort&&s(S)&&r("div",{key:"badge",class:["v-data-table-header__sort-badge",...h.value],style:y.value},[n.value.findIndex(U=>U.key===S.key)+1])])}})};pe(()=>r(ee,null,[l.headers?l.headers($.value):p.value.map((k,S)=>r("tr",null,[k.map((F,K)=>r(o,{column:F,x:K,y:S},null))])),e.loading&&r("tr",{class:"v-data-table-progress"},[r("th",{colspan:v.value.length},[r(rl,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Nl=Z({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),xl=de()({name:"VDataTableGroupHeaderRow",props:Nl(),setup(e,t){let{slots:l}=t;const{isGroupOpen:a,toggleGroup:n,extractRows:s}=ea(),{isSelected:f,isSomeSelected:u,select:i}=_e(),{columns:m}=et(),v=I(()=>s([e.item]));return()=>r("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[m.value.map(p=>{var c,P;if(p.key==="data-table-group"){const b=a(e.item)?"$expand":"$next",h=()=>n(e.item);return((c=l["data-table-group"])==null?void 0:c.call(l,{item:e.item,count:v.value.length,props:{icon:b,onClick:h}}))??r(gt,{class:"v-data-table-group-header-row__column"},{default:()=>[r(we,{size:"small",variant:"text",icon:b,onClick:h},null),r("span",null,[e.item.value]),r("span",null,[M("("),v.value.length,M(")")])]})}if(p.key==="data-table-select"){const b=f(v.value),h=u(v.value)&&!b,y=$=>i(v.value,$);return((P=l["data-table-select"])==null?void 0:P.call(l,{props:{modelValue:b,indeterminate:h,"onUpdate:modelValue":y}}))??r("td",null,[r(mt,{modelValue:b,indeterminate:h,"onUpdate:modelValue":y},null)])}return r("td",null,null)})])}}),Ll=Z({index:Number,item:Object,cellProps:[Object,Function],onClick:ot(),onContextmenu:ot(),onDblclick:ot()},"VDataTableRow"),Hl=de()({name:"VDataTableRow",props:Ll(),setup(e,t){let{slots:l}=t;const{isSelected:a,toggleSelect:n}=_e(),{isExpanded:s,toggleExpand:f}=Jt(),{columns:u}=et();pe(()=>r("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)}],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&u.value.map((i,m)=>{const v=e.item,p=`item.${i.key}`,c={index:e.index,item:v.raw,internalItem:v,value:Qe(v.columns,i.key),column:i,isSelected:a,toggleSelect:n,isExpanded:s,toggleExpand:f},P=typeof e.cellProps=="function"?e.cellProps({index:c.index,item:c.item,internalItem:c.internalItem,value:c.value,column:i}):e.cellProps,b=typeof i.cellProps=="function"?i.cellProps({index:c.index,item:c.item,internalItem:c.internalItem,value:c.value}):i.cellProps;return r(gt,te({align:i.align,fixed:i.fixed,fixedOffset:i.fixedOffset,lastFixed:i.lastFixed,noPadding:i.key==="data-table-select"||i.key==="data-table-expand",width:i.width},P,b),{default:()=>{var h,y;return l[p]?l[p](c):i.key==="data-table-select"?((h=l["item.data-table-select"])==null?void 0:h.call(l,c))??r(mt,{disabled:!v.selectable,modelValue:a([v]),onClick:Ce(()=>n(v),["stop"])},null):i.key==="data-table-expand"?((y=l["item.data-table-expand"])==null?void 0:y.call(l,c))??r(we,{icon:s(v)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ce(()=>f(v),["stop"])},null):X(c.value)}})})]))}}),Fa=Z({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function]},"VDataTableRows"),Vt=de()({name:"VDataTableRows",inheritAttrs:!1,props:Fa(),setup(e,t){let{attrs:l,slots:a}=t;const{columns:n}=et(),{expandOnClick:s,toggleExpand:f,isExpanded:u}=Jt(),{isSelected:i,toggleSelect:m}=_e(),{toggleGroup:v,isGroupOpen:p}=ea(),{t:c}=Ze();return pe(()=>{var P,b;return e.loading&&(!e.items.length||a.loading)?r("tr",{class:"v-data-table-rows-loading",key:"loading"},[r("td",{colspan:n.value.length},[((P=a.loading)==null?void 0:P.call(a))??c(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?r("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[r("td",{colspan:n.value.length},[((b=a["no-data"])==null?void 0:b.call(a))??c(e.noDataText)])]):r(ee,null,[e.items.map((h,y)=>{var k;if(h.type==="group"){const S={index:y,item:h,columns:n.value,isExpanded:u,toggleExpand:f,isSelected:i,toggleSelect:m,toggleGroup:v,isGroupOpen:p};return a["group-header"]?a["group-header"](S):r(xl,te({key:`group-header_${h.id}`,item:h},yt(l,":group-header",()=>S)),a)}const $={index:y,item:h.raw,internalItem:h,columns:n.value,isExpanded:u,toggleExpand:f,isSelected:i,toggleSelect:m},o={...$,props:te({key:`item_${h.key??h.index}`,onClick:s.value?()=>{f(h)}:void 0,index:y,item:h,cellProps:e.cellProps},yt(l,":row",()=>$),typeof e.rowProps=="function"?e.rowProps({item:$.item,index:$.index,internalItem:$.internalItem}):e.rowProps)};return r(ee,{key:o.props.key},[a.item?a.item(o):r(Hl,o.props,a),u(h)&&((k=a["expanded-row"])==null?void 0:k.call(a,$))])})])}),{}}});const Da=Z({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ct(),...Lt(),...ft(),...Nt()},"VTable"),$t=de()({name:"VTable",props:Da(),setup(e,t){let{slots:l,emit:a}=t;const{themeClasses:n}=xt(e),{densityClasses:s}=Xa(e);return pe(()=>r(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":e.hover},n.value,s.value,e.class],style:e.style},{default:()=>{var f,u,i;return[(f=l.top)==null?void 0:f.call(l),l.default?r("div",{class:"v-table__wrapper",style:{height:Ve(e.height)}},[r("table",null,[l.default()])]):(u=l.wrapper)==null?void 0:u.call(l),(i=l.bottom)==null?void 0:i.call(l)]}})),{}}}),Rl=Z({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Ul(e,t,l,a){const n=e.returnObject?t:Ie(t,e.itemValue),s=Ie(t,e.itemSelectable,!0),f=a.reduce((u,i)=>(i.key!=null&&(u[i.key]=Ie(t,i.value)),u),{});return{type:"item",key:e.returnObject?Ie(t,e.itemValue):n,index:l,value:n,selectable:s,columns:f,raw:t}}function jl(e,t,l){return t.map((a,n)=>Ul(e,a,n,l))}function Ml(e,t){return{items:I(()=>jl(e,e.items,t.value))}}const zl=Z({...Fa(),width:[String,Number],search:String,...Wt(),...Qt(),...Tl(),...Rl(),...fa(),...va(),...$a(),...Da()},"DataTable"),Gl=Z({...ra(),...zl(),...Ht(),...Sa()},"VDataTable"),Kl=de()({name:"VDataTable",props:Gl(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const{groupBy:n}=pl(e),{sortBy:s,multiSort:f,mustSort:u}=ba(e),{page:i,itemsPerPage:m}=sa(e),{columns:v,headers:p,sortFunctions:c,sortRawFunctions:P,filterFunctions:b}=ql(e,{groupBy:n,showSelect:Q(e,"showSelect"),showExpand:Q(e,"showExpand")}),{items:h}=Ml(e,v),y=Q(e,"search"),{filteredItems:$}=Rt(e,h,y,{transform:me=>me.columns,customKeyFilter:b}),{toggleSort:o}=ha({sortBy:s,multiSort:f,mustSort:u,page:i}),{sortByWithGroups:k,opened:S,extractRows:F,isGroupOpen:K,toggleGroup:ae}=_t({groupBy:n,sortBy:s}),{sortedItems:C}=ya(e,$,k,c,P),{flatItems:E}=la(C,n,S),O=I(()=>E.value.length),{startIndex:R,stopIndex:U,pageCount:J,setItemsPerPage:$e}=ia({page:i,itemsPerPage:m,itemsLength:O}),{paginatedItems:ce}=ua({items:E,startIndex:R,stopIndex:U,itemsPerPage:m}),be=I(()=>F(ce.value)),{isSelected:Ne,select:xe,selectAll:Le,toggleSelect:he,someSelected:fe,allSelected:Fe}=ga(e,{allItems:h,currentPage:be}),{isExpanded:De,toggleExpand:ye}=Yt(e);na({page:i,itemsPerPage:m,sortBy:s,groupBy:n,search:y}),st({VDataTableRows:{hideNoData:Q(e,"hideNoData"),noDataText:Q(e,"noDataText"),loading:Q(e,"loading"),loadingText:Q(e,"loadingText")}});const ne=I(()=>({page:i.value,itemsPerPage:m.value,sortBy:s.value,pageCount:J.value,toggleSort:o,setItemsPerPage:$e,someSelected:fe.value,allSelected:Fe.value,isSelected:Ne,select:xe,selectAll:Le,toggleSelect:he,isExpanded:De,toggleExpand:ye,isGroupOpen:K,toggleGroup:ae,items:be.value.map(me=>me.raw),internalItems:be.value,groupedItems:ce.value,columns:v.value,headers:p.value}));return pe(()=>{const me=wt.filterProps(e),tt=kt.filterProps(e),at=Vt.filterProps(e),Me=$t.filterProps(e);return r($t,te({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Me),{top:()=>{var Se;return(Se=a.top)==null?void 0:Se.call(a,ne.value)},default:()=>{var Se,He,ze,Ge,Ke,We;return a.default?a.default(ne.value):r(ee,null,[(Se=a.colgroup)==null?void 0:Se.call(a,ne.value),r("thead",null,[r(kt,tt,a)]),(He=a.thead)==null?void 0:He.call(a,ne.value),r("tbody",null,[(ze=a["body.prepend"])==null?void 0:ze.call(a,ne.value),a.body?a.body(ne.value):r(Vt,te(l,at,{items:ce.value}),a),(Ge=a["body.append"])==null?void 0:Ge.call(a,ne.value)]),(Ke=a.tbody)==null?void 0:Ke.call(a,ne.value),(We=a.tfoot)==null?void 0:We.call(a,ne.value)])},bottom:()=>a.bottom?a.bottom(ne.value):r(ee,null,[r(At,null,null),r(wt,me,{prepend:a["footer.prepend"]})])})}),{}}}),Wl={class:"fs-data-table-group-header"},Xl=Re("td",null,null,-1),Yl=["colspan"],Jl=Re("div",{class:"fs-data-table-intersection"},null,-1);function Ql(e,t,l,a,n,s){const f=Y("FSSearchField"),u=Y("FSOptionGroup"),i=Y("FSFilterButton"),m=Y("FSChip"),v=Y("FSHiddenButton"),p=Y("FSText"),c=Y("FSDraggable"),P=Y("FSCard"),b=Y("FSHeaderButton"),h=Y("FSSelectField"),y=Y("FSToggleSet"),$=Y("FSDataIteratorItem");return T(),B(oe,{gap:"16px"},{default:g(()=>[r(H,{align:"bottom-center"},{default:g(()=>[e.$props.showSearch?(T(),se(ee,{key:0},[r(f,{prependInnerIcon:"mdi-magnify",hideHeader:!0,modelValue:e.innerSearch,"onUpdate:modelValue":t[0]||(t[0]=o=>e.innerSearch=o)},null,8,["modelValue"]),r(ke,{prependIcon:"mdi-filter-variant",variant:e.showFilters?"full":"standard",onClick:t[1]||(t[1]=o=>e.showFilters=!e.showFilters)},null,8,["variant"])],64)):_("",!0),L(e.$slots,"toolbar"),r(Xe),!e.$props.disableTable&&!e.$props.disableIterator?(T(),B(u,{key:1,values:e.modeOptions,required:!0,modelValue:e.innerMode,"onUpdate:modelValue":t[2]||(t[2]=o=>e.innerMode=o)},null,8,["values","modelValue"])):_("",!0)]),_:3}),e.showFiltersRow?(T(),B(H,{key:0},{default:g(()=>[e.showFilters?(T(),se(ee,{key:0},[(T(!0),se(ee,null,ie(e.filterableHeaders,(o,k)=>(T(),B(i,{key:k,header:o,filters:e.filters[o.value],"onUpdate:filter":S=>e.toggleFilter(o.value,S)},{default:g(({filter:S})=>[L(e.$slots,e.filterSlot(o),z(G({filter:S})))]),_:2},1032,["header","filters","onUpdate:filter"]))),128)),e.resetable?(T(),B(m,{key:0,variant:"standard",label:e.$tr("ui.data-table.reset-filters","Reset"),color:e.ColorEnum.Error,editable:!0,onClick:e.resetFilter},null,8,["label","color","onClick"])):_("",!0)],64)):_("",!0),e.innerMode==="table"&&e.hiddenHeaders.length>0?(T(),B(v,{key:1,headers:e.hiddenHeaders,color:e.$props.color,"onUpdate:show":t[3]||(t[3]=o=>e.updateHeader(o,"hidden",!1))},null,8,["headers","color"])):_("",!0)]),_:3})):_("",!0),e.innerMode==="table"?(T(),se(ee,{key:1},[e.isExtraSmall?(T(),B(St,{key:1,class:"fs-data-table-iterator",items:e.innerItems,page:e.innerPage,itemsPerPage:e.innerRowsPerPage},{default:g(({items:o})=>[r(oe,{class:"fs-data-iterator-container",width:"fill"},{default:g(()=>[(T(!0),se(ee,null,ie(o,(k,S)=>(T(),B(c,{elementSelector:".fs-draggable-item",disabled:e.draggableDisabled,item:k,key:S,"onUpdate:dragend":t[11]||(t[11]=(F,K)=>e.onDragEnd(F,K,".fs-data-iterator-container")),onDragover:[t[12]||(t[12]=F=>e.onDragOver(F,".fs-draggable-item",".fs-data-iterator-container")),t[13]||(t[13]=Ce(()=>{},["prevent"]))],onDrop:F=>e.onDrop(F,k,".fs-draggable-item"),onDragleave:e.onDragLeave},{default:g(()=>[L(e.$slots,"item.iterator",z(G({item:k,index:S})),()=>[k.type==="item"?(T(),B($,{headers:e.innerHeaders.filter(F=>!e.$props.sneakyHeaders.includes(F.value)),modelValue:e.innerValue.includes(k.raw[e.$props.itemValue]),showSelect:e.$props.showSelect,itemTo:e.$props.itemTo,color:e.$props.color,item:k.raw,key:S,"onUpdate:modelValue":e.toggleSelect},lt({"item.top":g(F=>[L(e.$slots,"item.top",z(G(F)))]),"item.bottom":g(F=>[L(e.$slots,"item.bottom",z(G(F)))]),_:2},[ie(e.itemsSlots,(F,K)=>({name:F.slotName,fn:g(ae=>[L(e.$slots,F.slotName,z(G(ae)),()=>[(T(),B(p,{key:K},{default:g(()=>[M(X(ae.item[F.value]),1)]),_:2},1024))])])}))]),1032,["headers","modelValue","showSelect","itemTo","color","item","onUpdate:modelValue"])):_("",!0)])]),_:2},1032,["disabled","item","onDrop","onDragleave"]))),128))]),_:2},1024)]),footer:g(()=>[r(H,{class:"fs-data-table-footer",align:"center-right",padding:"16px",gap:"24px"},{default:g(()=>[e.$props.modelValue.length?(T(),se(ee,{key:0},[e.$props.modelValue.length>=e.innerItems.length?(T(),B(H,{key:0,gap:"2px"},{default:g(()=>[r(p,{font:"text-button"},{default:g(()=>[M(X(e.$tr("ui.data-table.all-selected-bold","Attention:")),1)]),_:1}),r(p,null,{default:g(()=>[M(X(e.$tr("ui.data-table.all-selected-regular","All elements selected")),1)]),_:1})]),_:1})):(T(),B(p,{key:1},{default:g(()=>[M(X(e.$tr("ui.data-table.some-selected","{0} element(s) selected",e.$props.modelValue.length.toString())),1)]),_:1}))],64)):_("",!0),r(Xe),r(H,{align:"center-right",wrap:!1},{default:g(()=>[r(p,{font:"text-overline"},{default:g(()=>[M(X(e.$tr("ui.data-table.rows-per-page","Rows per page")),1)]),_:1}),r(H,{width:"120px"},{default:g(()=>[r(h,{class:"fs-data-table-rows-per-page",clearable:!1,hideHeader:!0,items:e.rowsPerPageOptions,modelValue:e.innerRowsPerPage,"onUpdate:modelValue":t[14]||(t[14]=o=>e.innerRowsPerPage=o)},null,8,["items","modelValue"])]),_:1})]),_:1}),e.innerRowsPerPage!==-1?(T(),B(y,{key:1,class:"fs-data-table-pagination",variant:"slide",dash:e.pageOptions.length>8,values:e.pageOptions,required:!0,modelValue:e.innerPage,"onUpdate:modelValue":t[15]||(t[15]=o=>e.innerPage=o)},null,8,["dash","values","modelValue"])):_("",!0)]),_:1})]),_:3},8,["items","page","itemsPerPage"])):(T(),B(Kl,{key:0,selectStrategy:"all",itemValue:e.$props.itemValue,showSelect:e.$props.showSelect,singleSelect:e.$props.singleSelect,headers:e.extraHeaders.concat(e.innerHeaders),groupBy:e.$props.groupBy?[e.$props.groupBy]:[],sortBy:e.innerSortBy?[e.innerSortBy]:[],items:e.innerItems,fixedHeader:!0,multiSort:!1,hover:!e.$props.sortDraggable,style:Oa(e.style),class:Ft(e.classes),page:e.innerPage,itemsPerPage:e.innerRowsPerPage,modelValue:e.innerValue,"onAuxclick:row":e.onClickRow,"onClick:row":e.onClickRow,"onUpdate:sortBy":t[7]||(t[7]=o=>e.innerSortBy=o?o[0]:null),onDragover:[t[8]||(t[8]=Ce(()=>{},["prevent"])),t[10]||(t[10]=o=>e.onDragOver(o,"tr.v-data-table__tr","tbody"))],"onDrop:row":t[9]||(t[9]=(o,k)=>e.onDrop(o,k,"tr.v-data-table__tr")),onDragleave:e.onDragLeave},lt({"no-data":g(()=>[r(p,{font:"text-overline"},{default:g(()=>[M(X(e.$tr("ui.data-table.empty","No data")),1)]),_:1})]),"header.data-table-select":g(o=>[e.$props.singleSelect?_("",!0):(T(),B(H,{key:0,class:"fs-data-table-select",align:"bottom-center",width:"hug"},{default:g(()=>[r(Ue,{modelValue:o.allSelected,indeterminate:o.someSelected&&!o.allSelected,"onUpdate:modelValue":k=>e.toggleSelectAll(o.allSelected)},null,8,["modelValue","indeterminate","onUpdate:modelValue"])]),_:2},1024))]),"item.data-table-select":g(o=>[r(H,{class:"fs-data-table-select",align:"bottom-center",width:"hug"},{default:g(()=>[r(Ue,{modelValue:e.innerValue.includes(o.item[e.$props.itemValue]),"onUpdate:modelValue":k=>e.toggleSelect(o.item)},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),"item.data-table-draggable":g(o=>[r(c,{elementSelector:"tr.v-data-table__tr",disabled:e.draggableDisabled,item:o,"onUpdate:dragend":t[4]||(t[4]=(k,S)=>e.onDragEnd(k,S,"tbody"))},{default:g(()=>[r(H,{class:"fs-data-table-draggable",align:"bottom-center",width:"hug"},{default:g(()=>[r(Et,{size:"l"},{default:g(()=>[M(" mdi-drag-vertical ")]),_:1})]),_:1})]),_:2},1032,["disabled","item"])]),"header.data-table-group":g(o=>[L(e.$slots,"header.data-table-group",z(G(o)))]),"item.data-table-group":g(o=>[L(e.$slots,"item.data-table-group",z(G(o)))]),"group-header":g(o=>[Re("template",{ref:()=>{o.isGroupOpen(o.item)||o.toggleGroup(o.item)}},null,512),Re("tr",Wl,[Xl,Re("td",{class:"fs-data-table-group-header",colspan:e.extraHeaders.concat(e.innerHeaders).length+1},[L(e.$slots,"group-header",z(G(o)),()=>[r(P,{padding:"12px 16px"},{default:g(()=>[r(H,{align:"center-left",width:"hug"},{default:g(()=>[r(p,null,{default:g(()=>[L(e.$slots,"group-header-title",z(G(o)),()=>[M(X(o.item.value),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)])],8,Yl)])]),bottom:g(()=>[r(H,{class:"fs-data-table-footer",align:"center-right",padding:"16px",gap:"24px"},{default:g(()=>[e.$props.modelValue.length?(T(),se(ee,{key:0},[e.$props.modelValue.length>=e.innerItems.length?(T(),B(H,{key:0,gap:"2px"},{default:g(()=>[r(p,{font:"text-button"},{default:g(()=>[M(X(e.$tr("ui.data-table.all-selected-bold","Warning:")),1)]),_:1}),r(p,null,{default:g(()=>[M(X(e.$tr("ui.data-table.all-selected-regular","All elements selected")),1)]),_:1})]),_:1})):(T(),B(p,{key:1},{default:g(()=>[M(X(e.$tr("ui.data-table.some-selected","{0} element(s) selected",e.$props.modelValue.length.toString())),1)]),_:1}))],64)):_("",!0),r(Xe),r(H,{align:"center-right",width:"hug",wrap:!1},{default:g(()=>[r(p,{font:"text-overline"},{default:g(()=>[M(X(e.$tr("ui.data-table.rows-per-page","Rows per page")),1)]),_:1}),r(h,{class:"fs-data-table-rows-per-page",clearable:!1,hideHeader:!0,items:e.rowsPerPageOptions,modelValue:e.innerRowsPerPage,"onUpdate:modelValue":t[5]||(t[5]=o=>e.innerRowsPerPage=o)},null,8,["items","modelValue"])]),_:1}),e.innerRowsPerPage!==-1?(T(),B(y,{key:1,class:"fs-data-table-pagination",variant:"slide",dash:e.pageOptions.length>8,values:e.pageOptions,required:!0,modelValue:e.innerPage,"onUpdate:modelValue":t[6]||(t[6]=o=>e.innerPage=o)},null,8,["dash","values","modelValue"])):_("",!0)]),_:1})]),_:2},[ie(e.headersSlots,(o,k)=>({name:o.slotName,fn:g(S=>[L(e.$slots,o.slotName,z(G(S)),()=>[(T(),B(H,{align:"center-left",wrap:!1,key:k},{default:g(()=>[L(e.$slots,`${o.slotName}-prepend`),L(e.$slots,`${o.slotName}-title`,{},()=>[r(p,null,{default:g(()=>[M(X(o.text),1)]),_:2},1024)]),L(e.$slots,`${o.slotName}-append`),r(Xe),L(e.$slots,`${o.slotName}-configuration`,{},()=>[r(b,{first:k===0,last:k===e.headersSlots.length-1,"onUpdate:hide":F=>e.updateHeader(o,"hidden",!o.hidden),"onUpdate:left":F=>e.updateHeader(o,"index",-1),"onUpdate:right":F=>e.updateHeader(o,"index",1)},null,8,["first","last","onUpdate:hide","onUpdate:left","onUpdate:right"]),o.sortable?(T(),B(ke,{key:0,variant:"icon",color:e.sortColor(o,S),icon:e.sortIcon(o,S)},null,8,["color","icon"])):_("",!0)])]),_:2},1024))])])})),ie(e.itemsSlots,(o,k)=>({name:o.slotName,fn:g(S=>[L(e.$slots,o.slotName,z(G(S)),()=>[(T(),B(H,{align:"center-left",key:k},{default:g(()=>[r(p,{font:"text-overline"},{default:g(()=>[M(X(S.item[o.value]),1)]),_:2},1024)]),_:2},1024))])])})),ie(e.innerSlots,(o,k)=>({name:k,fn:g(S=>[L(e.$slots,k,z(G(S)))])}))]),1032,["itemValue","showSelect","singleSelect","headers","groupBy","sortBy","items","hover","style","class","page","itemsPerPage","modelValue","onAuxclick:row","onClick:row","onDragleave"]))],64)):(T(),B(St,{key:2,class:"fs-data-table-iterator",items:e.innerItems,itemsPerPage:e.size},{default:g(({items:o})=>[r(H,{width:"hug",class:"fs-data-iterator-container"},{default:g(()=>[(T(!0),se(ee,null,ie(o.filter(k=>k.type==="item"),(k,S)=>(T(),B(c,{elementSelector:".fs-draggable-item",disabled:e.draggableDisabled,item:k,key:S,"onUpdate:dragend":t[16]||(t[16]=(F,K)=>e.onDragEnd(F,K,".fs-data-iterator-container")),onDragover:[t[17]||(t[17]=F=>e.onDragOver(F,".fs-draggable-item",".fs-data-iterator-container")),t[18]||(t[18]=Ce(()=>{},["prevent"]))],onDrop:F=>e.onDrop(F,k,".fs-draggable-item"),onDragleave:e.onDragLeave},{default:g(()=>[L(e.$slots,"item.tile",z(G({index:S,item:k.raw,toggleSelect:e.toggleSelect})),()=>[(T(),B($,{headers:e.innerHeaders.filter(F=>!e.$props.sneakyHeaders.includes(F.value)),modelValue:e.innerValue.includes(k.raw[e.$props.itemValue]),showSelect:e.$props.showSelect,itemTo:e.$props.itemTo,color:e.$props.color,item:k.raw,key:S,"onUpdate:modelValue":e.toggleSelect},lt({"item.top":g(F=>[L(e.$slots,"item.top",z(G(F)))]),"item.bottom":g(F=>[L(e.$slots,"item.bottom",z(G(F)))]),_:2},[ie(e.itemsSlots,(F,K)=>({name:F.slotName,fn:g(ae=>[L(e.$slots,F.slotName,z(G(ae)),()=>[(T(),B(p,{key:K},{default:g(()=>[M(X(ae.item[F.value]),1)]),_:2},1024))])])}))]),1032,["headers","modelValue","showSelect","itemTo","color","item","onUpdate:modelValue"]))])]),_:2},1032,["disabled","item","onDrop","onDragleave"]))),128))]),_:2},1024)]),_:3},8,["items","itemsPerPage"])),Jl]),_:3})}const Un=Oe(Kt,[["render",Ql]]);Kt.__docgenInfo={displayName:"FSDataTableUI",exportName:"default",description:"",tags:{},props:[{name:"headers",type:{name:"FSDataTableColumn[]"},required:!0},{name:"filters",type:{name:"{ [key: string]: FSDataTableFilter[] }"},required:!1,defaultValue:{func:!0,value:"() => ({})"}},{name:"sneakyHeaders",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"items",type:{name:"any[]"},required:!0},{name:"itemValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"id"'}},{name:"itemTo",type:{name:"func"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"rowsPerPage",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"10"}},{name:"page",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"1"}},{name:"groupBy",type:{name:"FSDataTableOrder"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"sortBy",type:{name:"FSDataTableOrder"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"color",type:{name:"ColorEnum"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}},{name:"showSelect",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"showSearch",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"singleSelect",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"selectedOnly",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"mode",values:["table","iterator"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"table"'}},{name:"disableTable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"disableIterator",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"sizeIterator",type:{name:"number"},required:!1,defaultValue:{func:!1,value:"20"}},{name:"sortDraggable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"includeDraggable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"update:modelValue"},{name:"update:headers"},{name:"update:filters"},{name:"update:mode"},{name:"update:sortBy"},{name:"update:rowsPerPage"},{name:"update:page"},{name:"update:include"},{name:"update:items"},{name:"click:row"}],slots:[{name:"toolbar"},{name:"filterSlot(header)",scoped:!0,bindings:[{name:"filter",title:"binding"},{name:"name",title:"binding"}]},{name:"header.data-table-group",scoped:!0,bindings:[]},{name:"item.data-table-group",scoped:!0,bindings:[]},{name:"group-header",scoped:!0,bindings:[]},{name:"group-header-title",scoped:!0,bindings:[]},{name:"header.slotName",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"`${header.slotName}-prepend`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"`${header.slotName}-title`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"`${header.slotName}-append`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"`${header.slotName}-configuration`",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"item.slotName",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"item.iterator",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"index",title:"binding"}]},{name:"item.top",scoped:!0,bindings:[]},{name:"item.bottom",scoped:!0,bindings:[]},{name:"item.tile",scoped:!0,bindings:[{name:"index",title:"binding"},{name:"item",title:"binding"},{name:"toggleSelect",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/lists/FSDataTableUI.vue"]};export{Un as F};
