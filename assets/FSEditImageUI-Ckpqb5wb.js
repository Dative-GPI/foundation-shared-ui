import{d as N,e as R,c as E,w as M,B as n,D as a,I as i,J as o,P,q as l,X as F,K as p,L as S,H as f,m as q,G as j,F as H}from"./vue.esm-bundler-D5n7z5qz.js";import{F as T,a as A}from"./FSButtonFileMini-4p84PTWB.js";import{F as D}from"./FSCardPlaceholder-DYuFfJ4_.js";import{F as G}from"./FSImageUI-BLy7Ukeh.js";import{F as z}from"./FSCard-D2UHbOmr.js";import{F as J}from"./FSText-015IEZHy.js";import{F as v}from"./FSCol-D_lbFmZy.js";import{_ as r}from"./FSRow-DIk8KFbG.js";import{u as L}from"./useBreakpoints-CEzKC_o8.js";import{u as K,C as b}from"./useColors-COEXNh00.js";import{u as O}from"./useFiles-sQmbK0-w.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as B}from"./FSSpan-BN7wkmby.js";const U=N({name:"FSEditImageUI",components:{FSButtonRemoveMini:A,FSCardPlaceholder:D,FSButtonFileMini:T,FSImageUI:G,FSCard:z,FSText:J,FSCol:v,FSRow:r},props:{height:{type:[Array,String,Number],required:!1,default:null},width:{type:[Array,String,Number],required:!1,default:null},label:{type:String,required:!1,default:null},source:{type:String,required:!1,default:null},aspectRatio:{type:String,required:!1,default:null},modelValue:{type:String,required:!1,default:null},variant:{type:String,required:!1,default:"standard"},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update","update:modelValue","update:source"],setup(e,{emit:t}){const{isExtraSmall:V}=L(),{getColors:m}=K(),{readFile:C}=O(),s=R({fileName:"",fileContent:null}),g=R(null),c=m(b.Error),u=m(b.Light),d=m(b.Dark),h=E(()=>({"--fs-edit-image-overline-text-color":u.dark,"--fs-edit-image-color":d.base,"--fs-edit-image-error-color":c.base})),$=async k=>{const w=await C(k);s.value.fileName=k.name,s.value.fileContent=w;const y=w.substring(w.indexOf(",")+1);e.source?(t("update:modelValue",y),t("update:source",null),t("update",{source:null,modelValue:y})):(t("update:modelValue",y),t("update",{source:e.source,modelValue:y}))},I=()=>{s.value.fileName="",s.value.fileContent=null,e.modelValue?(t("update:modelValue",null),t("update",{source:e.source,modelValue:null})):(t("update:source",null),t("update",{source:null,modelValue:e.modelValue}))};return M(()=>e.modelValue,()=>{e.modelValue||(s.value.fileName="",s.value.fileContent=null)}),{invisibleButtonRef:g,fileSelected:s,isExtraSmall:V,style:h,onUpload:$,onRemove:I}}});function Q(e,t,V,m,C,s){const g=i("FSImageUI"),c=i("FSCard"),u=i("FSText"),d=i("FSButtonFileMini"),h=i("FSButtonRemoveMini"),$=i("FSCardPlaceholder");return o(),n(v,{gap:"8px"},{default:a(()=>[e.$props.hideHeader?f("",!0):P(e.$slots,"label",{key:0},()=>[l(r,{wrap:!1},{default:a(()=>[e.$props.label?(o(),n(B,{key:0,class:"fs-edit-image-label",font:"text-overline",style:F(e.style)},{default:a(()=>[p(S(e.$props.label),1)]),_:1},8,["style"])):f("",!0),e.$props.label&&e.$props.required?(o(),n(B,{key:1,class:"fs-edit-image-label",style:F([{"margin-left":"-8px"},e.style]),font:"text-overline",ellipsis:!1},{default:a(()=>[...t[1]||(t[1]=[p(" * ",-1)])]),_:1},8,["style"])):f("",!0)]),_:1})]),["standard"].includes(e.$props.variant)?(o(),n(c,{key:1,padding:"12px",width:"100%"},{default:a(()=>[l(r,{align:"center-left",wrap:!1},{default:a(()=>[l(r,{class:"fs-edit-image-standard-row",gap:"24px",wrap:!1},{default:a(()=>[e.$props.source||e.$props.modelValue?(o(),n(g,q({key:0,aspectRatio:e.$props.aspectRatio,height:e.$props.height,width:e.$props.width,source:e.$props.source,imageB64:e.$props.modelValue},e.$attrs),null,16,["aspectRatio","height","width","source","imageB64"])):(o(),n(c,{key:1,borderStyle:"dashed",aspectRatio:e.$props.aspectRatio,height:e.$props.height,width:e.$props.width},null,8,["aspectRatio","height","width"])),l(v,{class:"fs-edit-image-standard-label-wrapper",align:"center-left",height:"fill",width:"hug",gap:"10px"},{default:a(()=>[e.fileSelected&&e.fileSelected.fileName?(o(),n(u,{key:0,font:"text-body",lineClamp:2},{default:a(()=>[p(S(e.fileSelected.fileName),1)]),_:1})):f("",!0),l(v,{gap:"0px"},{default:a(()=>[l(u,{class:"fs-edit-image-overline",font:"text-overline",style:F(e.style)},{default:a(()=>[p(S(e.$tr("edit-image.format","PNG or JPG format")),1)]),_:1},8,["style"]),l(u,{class:"fs-edit-image-overline",font:"text-overline",style:F(e.style)},{default:a(()=>[p(S(e.$tr("edit-image.max-size","10 MB Maximum")),1)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1}),l(r,{align:"center-right",width:e.isExtraSmall?"40px":"hug"},{default:a(()=>[l(d,{accept:".jpg,.jpeg,.png",readFile:!1,"onUpdate:metadata":e.onUpload},null,8,["onUpdate:metadata"]),l(h,{onClick:e.onRemove},null,8,["onClick"])]),_:1},8,["width"])]),_:1})]),_:1})):e.$props.source||e.$props.modelValue?(o(),n(r,{key:2,width:e.$props.width,class:"fs-edit-image-full"},{default:a(()=>[l(g,q({aspectRatio:e.$props.aspectRatio,height:e.$props.height,width:e.$props.width,source:e.$props.source,imageB64:e.$props.modelValue},e.$attrs),null,16,["aspectRatio","height","width","source","imageB64"]),l(r,{class:"fs-edit-image-full-toolbar",padding:"4px"},{default:a(()=>[l(d,{accept:".jpg,.jpeg,.png",readFile:!1,"onUpdate:metadata":e.onUpload},null,8,["onUpdate:metadata"]),l(h,{onClick:e.onRemove},null,8,["onClick"])]),_:1})]),_:1},8,["width"])):(o(),j(H,{key:3},[l(d,{class:"fs-edit-image-hidden-button",ref:"invisibleButtonRef",accept:".jpg,.jpeg,.png",readFile:!1,"onUpdate:metadata":e.onUpload},null,8,["onUpdate:metadata"]),e.invisibleButtonRef?(o(),n($,{key:0,height:e.$props.height,width:e.$props.width,icon:"mdi-plus-box-outline",label:e.$tr("edit-image.add-image","Add an image."),onClick:t[0]||(t[0]=()=>e.invisibleButtonRef.input.click())},null,8,["height","width","label"])):f("",!0)],64))]),_:3})}const ie=X(U,[["render",Q]]);U.__docgenInfo={displayName:"FSEditImageUI",exportName:"default",description:"",tags:{},props:[{name:"height",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"width",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"source",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"aspectRatio",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"variant",values:["standard","full"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"standard"'}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"update"},{name:"update:modelValue"},{name:"update:source"}],slots:[{name:"label"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSEditImageUI.vue"]};export{ie as F};
