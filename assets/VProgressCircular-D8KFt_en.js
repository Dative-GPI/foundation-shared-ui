import{b as u,v as R,w as S,x as _,s as O,l as C,c as n,j as E,I as i}from"./vue.esm-bundler-DC82FEWN.js";import{m as M,g as B,b,u as U}from"./color-BhlhQtQT.js";import{I as V,y,S as A,p as F,r as $,s as D,c as W}from"./theme-CDGAP9oX.js";import{a as j,m as G,u as q}from"./VIcon-uFUcYN4x.js";function H(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const o=u(),s=u();if(V){const r=new ResizeObserver(t=>{e==null||e(t,r),t.length&&(l==="content"?s.value=t[0].contentRect:s.value=t[0].target.getBoundingClientRect())});R(()=>{r.disconnect()}),S(o,(t,a)=>{a&&(r.unobserve(y(a)),s.value=void 0),t&&r.observe(y(t))},{flush:"post"})}return{resizeRef:o,contentRect:_(s)}}function J(e,l){const o=u(),s=O(!1);if(A){const r=new IntersectionObserver(t=>{s.value=!!t.find(a=>a.isIntersecting)},l);R(()=>{r.disconnect()}),S(o,(t,a)=>{a&&(r.unobserve(a),s.value=!1),t&&r.observe(t)},{flush:"post"})}return{intersectionRef:o,isIntersecting:s}}const K=F({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...M(),...j(),...G({tag:"div"}),...$()},"VProgressCircular"),Z=B()({name:"VProgressCircular",props:K(),setup(e,l){let{slots:o}=l;const s=20,r=2*Math.PI*s,t=u(),{themeClasses:a}=D(e),{sizeClasses:w,sizeStyles:m}=q(e),{textColorClasses:x,textColorStyles:I}=b(C(e,"color")),{textColorClasses:N,textColorStyles:k}=b(C(e,"bgColor")),{intersectionRef:P,isIntersecting:p}=J(),{resizeRef:z,contentRect:d}=H(),c=n(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),v=n(()=>Number(e.width)),g=n(()=>m.value?Number(e.size):d.value?d.value.width:Math.max(v.value,32)),f=n(()=>s/(1-v.value/g.value)*2),h=n(()=>v.value/g.value*f.value),T=n(()=>W((100-c.value)/100*r));return E(()=>{P.value=t.value,z.value=t.value}),U(()=>i(e.tag,{ref:t,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},a.value,w.value,x.value,e.class],style:[m.value,I.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:c.value},{default:()=>[i("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${f.value} ${f.value}`},[i("circle",{class:["v-progress-circular__underlay",N.value],style:k.value,fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":h.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),i("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":h.value,"stroke-dasharray":r,"stroke-dashoffset":T.value},null)]),o.default&&i("div",{class:"v-progress-circular__content"},[o.default({value:c.value})])]})),{}}});export{Z as V,J as a,H as u};
