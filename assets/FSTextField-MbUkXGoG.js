import{d as le,c as p,b as S,Q as t,F as q,m as k,Y as te,Z as ae,_ as ne,n as R,z as A,B as E,C as g,G as re,H as O,K as h,M as P,N as B,E as se,R as oe}from"./vue.esm-bundler-CUSnV4DE.js";import{F as ue}from"./FSBaseField-DwmVeNEG.js";import{F as z}from"./FSButton-BTpAdEE5.js";import{u as ie}from"./useRules-CYZMRvpC.js";import{u as de}from"./useBreakpoints-CQzBW1Q0.js";import{u as fe,C as $}from"./useColors-CQZIO9RQ.js";import{u as ce}from"./useSlots-CY84M1fx.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as pe,V as ve,a as be,m as ye}from"./VField-B_GuA4vu.js";import{u as ge,V as H,m as Ve}from"./VInput-C8lN0V_S.js";import{f as Fe}from"./forwardRefs-DWGaNmQL.js";import{u as xe}from"./proxiedModel-DaBGAliH.js";import{I as he}from"./index-CeZa2hiu.js";import{p as $e,v as ke,x as Ce}from"./theme-DGuAngmo.js";import{g as Se,u as qe}from"./color-CgsoZSKd.js";const j=le({name:"FSTextField",components:{FSBaseField:ue,FSButton:z},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"text"},modelValue:{type:String,required:!1,default:null},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e){const{fontStyles:o,isMobileSized:f}=de(),{validateOn:v,getMessages:a}=ie(),{getColors:n}=fe(),{slots:r}=ce();delete r.label,delete r.description;const s=n($.Error),u=n($.Light),m=n($.Dark),C=p(()=>e.editable?{"--fs-text-field-cursor":"text","--fs-text-field-border-color":u.dark,"--fs-text-field-color":m.base,"--fs-text-field-active-border-color":m.dark,"--fs-text-field-error-border-color":s.base,"--fs-base-field-input-height":f.value?"34px":"38px",...o.value}:{"--fs-text-field-cursor":"default","--fs-text-field-border-color":u.base,"--fs-text-field-color":u.dark,"--fs-text-field-active-border-color":u.base,"--fs-base-field-input-height":f.value?"34px":"38px",...o.value}),V=p(()=>e.messages??a(e.modelValue,e.rules));return{validateOn:v,ColorEnum:$,messages:V,slots:r,style:C}}}),Pe=["color","file","time","date","datetime-local","week","month"],Be=$e({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ve(),...ye()},"VTextField"),Ie=Se()({name:"VTextField",directives:{Intersect:he},inheritAttrs:!1,props:Be(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:f,emit:v,slots:a}=o;const n=xe(e,"modelValue"),{isFocused:r,focus:s,blur:u}=ge(e),m=p(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:(n.value??"").toString().length),C=p(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),V=p(()=>["plain","underlined"].includes(e.variant));function U(l,i){var d,c;!e.autofocus||!l||(c=(d=i[0].target)==null?void 0:d.focus)==null||c.call(d)}const I=S(),T=S(),b=S(),L=p(()=>Pe.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function F(){var l;b.value!==document.activeElement&&((l=b.value)==null||l.focus()),r.value||s()}function G(l){v("mousedown:control",l),l.target!==b.value&&(F(),l.preventDefault())}function K(l){F(),v("click:control",l)}function Q(l){l.stopPropagation(),F(),R(()=>{n.value=null,Ce(e["onClick:clear"],l)})}function Y(l){var d;const i=l.target;if(n.value=i.value,(d=e.modelModifiers)!=null&&d.trim&&["text","search","password","tel","url"].includes(e.type)){const c=[i.selectionStart,i.selectionEnd];R(()=>{i.selectionStart=c[0],i.selectionEnd=c[1]})}}return qe(()=>{const l=!!(a.counter||e.counter!==!1&&e.counter!=null),i=!!(l||a.details),[d,c]=ke(f),{modelValue:De,...Z}=H.filterProps(e),_=pe(e);return t(H,k({ref:I,modelValue:n.value,"onUpdate:modelValue":y=>n.value=y,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":V.value},e.class],style:e.style},d,Z,{centerAffix:!V.value,focused:r.value}),{...a,default:y=>{let{id:x,isDisabled:w,isDirty:D,isReadonly:J,isValid:W}=y;return t(be,k({ref:T,onMousedown:G,onClick:K,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},_,{id:x.value,active:L.value||D.value,dirty:D.value||e.dirty,disabled:w.value,focused:r.value,error:W.value===!1}),{...a,default:X=>{let{props:{class:M,...ee}}=X;const N=te(t("input",k({ref:b,value:n.value,onInput:Y,autofocus:e.autofocus,readonly:J.value,disabled:w.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:F,onBlur:u},ee,c),null),[[ae("intersect"),{handler:U},null,{once:!0}]]);return t(q,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[t("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?t("div",{class:M,"data-no-activator":""},[a.default(),N]):ne(N,{class:M}),e.suffix&&t("span",{class:"v-text-field__suffix"},[t("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:i?y=>{var x;return t(q,null,[(x=a.details)==null?void 0:x.call(a,y),l&&t(q,null,[t("span",null,null),t(ve,{active:e.persistentCounter||r.value,value:m.value,max:C.value,disabled:e.disabled},a.counter)])])}:void 0})}),Fe({},I,T,b)}});function Te(e,o,f,v,a,n){const r=re("FSBaseField");return O(),A(r,{label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,messages:e.messages},E({default:g(()=>[t(Ie,k({class:"fs-text-field",variant:"outlined",style:e.style,type:e.$props.type,persistentClear:!0,hideDetails:!0,readonly:!e.$props.editable,clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,rules:e.$props.rules,validateOn:e.validateOn,modelValue:e.$props.modelValue,"onUpdate:modelValue":o[1]||(o[1]=s=>e.$emit("update:modelValue",s))},e.$attrs),E({clear:g(()=>[h(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(O(),A(z,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:o[0]||(o[0]=s=>e.$emit("update:modelValue",null))},null,8,["color"])):se("",!0)])]),_:2},[oe(e.slots,(s,u)=>({name:u,fn:g(m=>[h(e.$slots,u,P(B(m)))])}))]),1040,["style","type","readonly","clearable","rules","validateOn","modelValue"])]),_:2},[e.$slots.label?{name:"label",fn:g(s=>[h(e.$slots,"label",P(B(s)))]),key:"0"}:void 0,e.$slots.description?{name:"label",fn:g(s=>[h(e.$slots,"description",P(B(s)))]),key:"1"}:void 0]),1032,["label","description","hideHeader","required","editable","messages"])}const we=me(j,[["render",Te]]);j.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"type",values:["text","password","number"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"text"'}},{name:"modelValue",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"label",scoped:!0,bindings:[]},{name:"description",scoped:!0,bindings:[]},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"clear"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSTextField.vue"]};const Ze=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));export{we as F,Ie as V,Ze as a,Be as m};
