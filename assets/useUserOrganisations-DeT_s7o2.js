var g=Object.defineProperty;var I=(i,e,s)=>e in i?g(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var t=(i,e,s)=>I(i,typeof e!="symbol"?e+"":e,s);import"./vue.esm-bundler-CocPPKUI.js";import{P as b}from"./permissionInfos-BPDgTHQl.js";import{C as N}from"./base-D6U4mRRi.js";import{C as n}from"./composableFactory-DRFDSLtA.js";import{S as r}from"./serviceFactory-aQiBqOvf.js";class m{constructor(e){t(this,"id");t(this,"userId");t(this,"organisationId");t(this,"roleType");t(this,"roleId");t(this,"roleLabel");t(this,"roleIcon");t(this,"admin");t(this,"imageId");t(this,"userType");t(this,"validity");t(this,"allowNotifications");t(this,"allowSms");t(this,"allowEmails");t(this,"email");t(this,"phoneNumber");t(this,"firstName");t(this,"lastName");t(this,"name");t(this,"startOnKioskMode");t(this,"tags");this.id=e.id,this.userId=e.userId,this.organisationId=e.organisationId,this.roleType=e.roleType,this.roleId=e.roleId,this.roleLabel=e.roleLabel,this.roleIcon=e.roleIcon,this.admin=e.admin,this.imageId=e.imageId,this.userType=e.userType,this.validity=e.validity,this.allowNotifications=e.allowNotifications,this.allowSms=e.allowSms,this.allowEmails=e.allowEmails,this.email=e.email,this.phoneNumber=e.phoneNumber,this.firstName=e.firstName,this.lastName=e.lastName,this.name=e.name,this.startOnKioskMode=e.startOnKioskMode,this.tags=e.tags&&e.tags.slice()||[]}}class d extends m{constructor(s){super(s);t(this,"mainDashboardType");t(this,"mainDashboardId");t(this,"mainDashboardLabel");t(this,"languageCode");t(this,"timeZoneId");t(this,"permissions");this.mainDashboardType=s.mainDashboardType,this.mainDashboardId=s.mainDashboardId,this.mainDashboardLabel=s.mainDashboardLabel,this.languageCode=s.languageCode,this.timeZoneId=s.timeZoneId,this.permissions=s.permissions.map(o=>new b(o))}}const l=()=>`${N()}/user-organisations`,u=i=>`${l()}/${encodeURIComponent(i)}`,h=()=>`${l()}/current`,R=()=>`${h()}/dashboard`,a=new r("userOrganisation",d).create(i=>i.build(i.addGet(u),i.addGetMany(l,m),i.addCreate(l),i.addUpdate(u),i.addRemove(u),r.addCustom("getCurrent",e=>e.get(h()),e=>new d(e)),i.addNotify(e=>({...r.addCustom("updateCurrent",(s,o)=>s.post(h(),o),s=>{const o=new d(s);return e.notify("update",o),o}),...r.addCustom("changeCurrentDashboard",(s,o)=>s.put(R(),o),s=>{const o=new d(s);return e.notify("update",o),o})})))),C=n.trackRef(a),c=()=>{const{track:i}=C();return e=>{i(e)}};n.get(a);const y=n.getMany(a);n.create(a);n.update(a);n.remove(a);const _=n.custom(a.getCurrent,c);n.custom(a.updateCurrent,c);n.custom(a.changeCurrentDashboard,c);export{y as a,_ as u};
