import{f as ye,g as i,E as I,F as $,G as m,R as L,M as a,W as B,K as P,L as R,I as x,a0 as Y,a6 as Z,j as T,x as pe,w as be,J as ge,A as Ce}from"./vue.esm-bundler-838daa40.js";import{_ as p}from"./FSSpan-3df08200.js";import{_ as ee}from"./FSCol-44fe82a9.js";import{_ as ae}from"./FSRow-753b58e5.js";import{u as he,C as E}from"./useColors-4ac7c452.js";import{u as ke}from"./useSlots-6ce8c1a9.js";import{_ as Fe}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Ve}from"./VSpacer-7ad9c022.js";import{b as _e,c as Se}from"./index-6fa9bdc1.js";import{m as N,g as M,u as H}from"./useRender-f6a4770d.js";import{m as Ie,M as $e}from"./transition-ee4dd36d.js";import{p as K,F as A,G as Be,H as Pe,o as xe,c as we,X as qe,Q as Le}from"./theme-f9f3e2d4.js";import{V as Re}from"./VLabel-907d1b92.js";import{d as Te,u as Ee,e as Ae}from"./VInput-5523e371.js";import{b as De,a as Ne}from"./color-3e53cf3d.js";import{I as D}from"./tag-d73e64d5.js";import{m as Me,u as He,L as Ke}from"./loader-62f4df25.js";import{u as Oe}from"./locale-5633e5ee.js";import{m as je,u as Ue}from"./rounded-94d04543.js";import{V as We}from"./VDefaultsProvider-a165414e.js";import{n as Ge,a as Xe,s as ze}from"./forwardRefs-e658ad70.js";const le=ye({name:"FSBaseField",components:{FSSpan:p,FSCol:ee,FSRow:ae},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},messages:{type:Array,required:!1,default:()=>[]},editable:{type:Boolean,required:!1,default:!0}},setup(e){const{getColors:n}=he(),{slots:t}=ke();delete t.label,delete t.description;const c=n(E.Error),l=n(E.Light),b=n(E.Dark);return{style:i(()=>e.editable?{"--fs-base-field-color":b.base,"--fs-base-field-error-color":c.base}:{"--fs-base-field-color":l.dark}),slots:t}}});function Je(e,n,t,c,l,b){return I(),$(ee,null,{default:m(()=>[e.$props.hideHeader?x("",!0):L(e.$slots,"label",{key:0},()=>[a(ae,{wrap:!1},{default:m(()=>[a(p,{class:"fs-base-field-label",font:"text-overline",style:B(e.style)},{default:m(()=>[P(R(e.$props.label),1)]),_:1},8,["style"]),e.$props.label&&e.$props.required?(I(),$(p,{key:0,class:"fs-base-field-label",style:B([{"margin-left":"-8px"},e.style]),font:"text-overline",ellipsis:!1},{default:m(()=>[P(" * ")]),_:1},8,["style"])):x("",!0),a(Ve,{style:{"min-width":"40px"}}),e.$props.messages.length>0?(I(),$(p,{key:1,class:"fs-base-field-messages",font:"text-overline",style:B(e.style)},{default:m(()=>[P(R(e.$props.messages.join(", ")),1)]),_:1},8,["style"])):x("",!0)]),_:1})]),L(e.$slots,"default"),L(e.$slots,"description",{},()=>[e.$props.description?(I(),$(p,{key:0,class:"fs-base-field-description",font:"text-underline",style:B(e.style)},{default:m(()=>[P(R(e.$props.description),1)]),_:1},8,["style"])):x("",!0)])]),_:3})}const Va=Fe(le,[["render",Je]]);le.__docgenInfo={displayName:"FSBaseField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"messages",type:{name:"array"},required:!1,defaultValue:{func:!1,value:"[]"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],slots:[{name:"label"},{name:"default"},{name:"description"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSBaseField.vue"]};const Qe=K({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...N(),...Ie({transition:{component:_e}})},"VCounter"),_a=M()({name:"VCounter",functional:!0,props:Qe(),setup(e,n){let{slots:t}=n;const c=i(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return H(()=>a($e,{transition:e.transition},{default:()=>[Y(a("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[t.default?t.default({counter:c.value,max:e.max,value:e.value}):c.value]),[[Z,e.active]])]})),{}}});const Ye=K({floating:Boolean,...N()},"VFieldLabel"),w=M()({name:"VFieldLabel",props:Ye(),setup(e,n){let{slots:t}=n;return H(()=>a(Re,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),Ze=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ea=K({appendInnerIcon:D,bgColor:String,clearable:Boolean,clearIcon:{type:D,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:D,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ze.includes(e)},"onClick:clear":A(),"onClick:appendInner":A(),"onClick:prependInner":A(),...N(),...Me(),...je(),...Be()},"VField"),aa=M()({name:"VField",inheritAttrs:!1,props:{id:String,...Te(),...ea()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:c,slots:l}=n;const{themeClasses:b}=Pe(e),{loaderClasses:O}=He(e),{focusClasses:te,isFocused:j,focus:g,blur:C}=Ee(e),{InputIcon:q}=Ae(e),{roundedClasses:ne}=Ue(e),{rtlClasses:se}=Oe(),h=i(()=>e.dirty||e.active),k=i(()=>!e.singleLine&&!!(e.label||l.label)),oe=xe(),d=i(()=>e.id||`input-${oe}`),re=i(()=>`${d.value}-messages`),U=T(),F=T(),W=T(),G=i(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:ie,backgroundColorStyles:de}=De(pe(e,"bgColor")),{textColorClasses:X,textColorStyles:z}=Ne(i(()=>e.error||e.disabled?void 0:h.value&&j.value?e.color:e.baseColor));be(h,s=>{if(k.value){const o=U.value.$el,u=F.value.$el;requestAnimationFrame(()=>{const f=Ge(o),r=u.getBoundingClientRect(),V=r.x-f.x,_=r.y-f.y-(f.height/2-r.height/2),y=r.width/.75,S=Math.abs(y-f.width)>1?{maxWidth:we(y)}:void 0,fe=getComputedStyle(o),Q=getComputedStyle(u),ce=parseFloat(fe.transitionDuration)*1e3||150,me=parseFloat(Q.getPropertyValue("--v-field-label-scale")),ve=Q.getPropertyValue("color");o.style.visibility="visible",u.style.visibility="hidden",Xe(o,{transform:`translate(${V}px, ${_}px) scale(${me})`,color:ve,...S},{duration:ce,easing:ze,direction:s?"normal":"reverse"}).finished.then(()=>{o.style.removeProperty("visibility"),u.style.removeProperty("visibility")})})}},{flush:"post"});const v=i(()=>({isActive:h,isFocused:j,controlRef:W,blur:C,focus:g}));function ue(s){s.target!==document.activeElement&&s.preventDefault()}function J(s){var o;s.key!=="Enter"&&s.key!==" "||(s.preventDefault(),s.stopPropagation(),(o=e["onClick:clear"])==null||o.call(e,new MouseEvent("click")))}return H(()=>{var V,_,y;const s=e.variant==="outlined",o=!!(l["prepend-inner"]||e.prependInnerIcon),u=!!(e.clearable||l.clear),f=!!(l["append-inner"]||e.appendInnerIcon||u),r=()=>l.label?l.label({...v.value,label:e.label,props:{for:d.value}}):e.label;return a("div",Ce({class:["v-field",{"v-field--active":h.value,"v-field--appended":f,"v-field--center-affix":e.centerAffix??!G.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":o,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!r(),[`v-field--variant-${e.variant}`]:!0},b.value,ie.value,te.value,O.value,ne.value,se.value,e.class],style:[de.value,e.style],onClick:ue},t),[a("div",{class:"v-field__overlay"},null),a(Ke,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),o&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(q,{key:"prepend-icon",name:"prependInner"},null),(V=l["prepend-inner"])==null?void 0:V.call(l,v.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&k.value&&a(w,{key:"floating-label",ref:F,class:[X.value],floating:!0,for:d.value,style:z.value},{default:()=>[r()]}),a(w,{ref:U,for:d.value},{default:()=>[r()]}),(_=l.default)==null?void 0:_.call(l,{...v.value,props:{id:d.value,class:"v-field__input","aria-describedby":re.value},focus:g,blur:C})]),u&&a(Se,{key:"clear"},{default:()=>[Y(a("div",{class:"v-field__clearable",onMousedown:S=>{S.preventDefault(),S.stopPropagation()}},[a(We,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[l.clear?l.clear({...v.value,props:{onKeydown:J,onFocus:g,onBlur:C,onClick:e["onClick:clear"]}}):a(q,{name:"clear",onKeydown:J,onFocus:g,onBlur:C},null)]})]),[[Z,e.dirty]])]}),f&&a("div",{key:"append",class:"v-field__append-inner"},[(y=l["append-inner"])==null?void 0:y.call(l,v.value),e.appendInnerIcon&&a(q,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",X.value],style:z.value},[s&&a(ge,null,[a("div",{class:"v-field__outline__start"},null),k.value&&a("div",{class:"v-field__outline__notch"},[a(w,{ref:F,floating:!0,for:d.value},{default:()=>[r()]})]),a("div",{class:"v-field__outline__end"},null)]),G.value&&k.value&&a(w,{ref:F,floating:!0,for:d.value},{default:()=>[r()]})])])}),{controlRef:W}}});function Sa(e){const n=Object.keys(aa.props).filter(t=>!qe(t)&&t!=="class"&&t!=="style");return Le(e,n)}export{Va as F,aa as V,_a as a,Sa as f,ea as m};
