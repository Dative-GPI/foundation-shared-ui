import{b,s as I,o as T,w as z,t as h,c as l,y as _,P as n}from"./vue.esm-bundler-DSwHwgKw.js";import{m as O,g as V,b as C,a as E}from"./color-uBYwhjku.js";import{S as M,p as U,s as A,x as B,c as F}from"./theme-4AjdAhIV.js";import{u as $}from"./resizeObserver-A1vWEG-J.js";import{m as D,a as G,u as W}from"./VIcon-CdjjMQ6V.js";function j(e,i){const o=b(),s=I(!1);if(M){const r=new IntersectionObserver(a=>{s.value=!!a.find(t=>t.isIntersecting)},i);T(()=>{r.disconnect()}),z(o,(a,t)=>{t&&(r.unobserve(t),s.value=!1),a&&r.observe(a)},{flush:"post"})}return{intersectionRef:o,isIntersecting:s}}const q=U({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...O(),...D(),...G({tag:"div"}),...A()},"VProgressCircular"),X=V()({name:"VProgressCircular",props:q(),setup(e,i){let{slots:o}=i;const s=20,r=2*Math.PI*s,a=b(),{themeClasses:t}=B(e),{sizeClasses:y,sizeStyles:m}=W(e),{textColorClasses:S,textColorStyles:k}=C(h(e,"color")),{textColorClasses:w,textColorStyles:x}=C(h(e,"bgColor")),{intersectionRef:P,isIntersecting:R}=j(),{resizeRef:N,contentRect:d}=$(),u=l(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),c=l(()=>Number(e.width)),f=l(()=>m.value?Number(e.size):d.value?d.value.width:Math.max(c.value,32)),v=l(()=>s/(1-c.value/f.value)*2),g=l(()=>c.value/f.value*v.value),p=l(()=>F((100-u.value)/100*r));return _(()=>{P.value=a.value,N.value=a.value}),E(()=>n(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":R.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},t.value,y.value,S.value,e.class],style:[m.value,k.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:u.value},{default:()=>[n("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.value} ${v.value}`},[n("circle",{class:["v-progress-circular__underlay",w.value],style:x.value,fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":g.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),n("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":g.value,"stroke-dasharray":r,"stroke-dashoffset":p.value},null)]),o.default&&n("div",{class:"v-progress-circular__content"},[o.default({value:u.value})])]})),{}}});export{X as V,j as u};
