import{g as _e,t as Ie,f as m,l as a,Q as ae,U as me,C as q,z as Fe,w as Pe,I as W,x as D,R as $e,V as Re,S as oe,o as Q,j as X,k as E,q as Y,n as ie,m as ue,p as K,u as de,E as we,F as ke,G as Be,H as Te}from"./vue.esm-bundler-c3efb794.js";import{C as ce,u as fe,p as M,f as se,g as j,j as U,e as Z,E as ee,o as qe,q as De,z as Oe,y as Ae,t as Le,v as Ee,F as Ne,G as We,H as Me,A as je,J as Ue}from"./VIcon-c46aeaeb.js";import{S as ne}from"./FSSpan-d98aa7bb.js";import{C as pe}from"./FSCol-6013107c.js";import{_ as ze}from"./_plugin-vue_export-helper-c27b6911.js";import{b as Ge,c as He}from"./index-f39a8f63.js";import{b as Je,M as Qe,V as Xe,c as Ye,u as ge,d as Ke,m as Ze,a as ve}from"./VInput-53fffe8c.js";import{m as et,c as tt,u as lt,L as nt,b as at}from"./loader-5b2fe5c8.js";import{a as st,b as rt}from"./rounded-c9feffd5.js";import{n as ot,a as it,s as ut}from"./easing-9998643d.js";const be=_e({name:"FSTextField",components:{FSSpan:ne,FSCol:pe},inheritAttrs:!1,props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"text"},value:{type:String,required:!1,default:null},color:{type:String,required:!1,default:ce.Dark},required:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!1,default:!0}},emits:["update:value"],setup(e){const{color:s,editable:n}=Ie(e),o=fe().getVariants(s.value),t=fe().getVariants(ce.Dark);return{style:m(()=>({"--fs-text-field-cursor":n.value?"text":"default","--fs-text-field-base-color":n.value?t.base:t.light,"--fs-text-field-dark-color":n.value?o.dark:t.light,"--fs-text-field-base-text":n.value?t.base:t.light}))}}});const dt=M({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...se(),...Je({transition:{component:Ge}})},"VCounter"),ct=j()({name:"VCounter",functional:!0,props:dt(),setup(e,s){let{slots:n}=s;const o=m(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return U(()=>a(Qe,{transition:e.transition},{default:()=>[ae(a("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[me,e.active]])]})),{}}});const ft=M({floating:Boolean,...se()},"VFieldLabel"),N=j()({name:"VFieldLabel",props:ft(),setup(e,s){let{slots:n}=s;return U(()=>a(Xe,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),vt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ye=M({appendInnerIcon:Z,bgColor:String,clearable:Boolean,clearIcon:{type:Z,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Z,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>vt.includes(e)},"onClick:clear":ee(),"onClick:appendInner":ee(),"onClick:prependInner":ee(),...se(),...et(),...st(),...qe()},"VField"),he=j()({name:"VField",inheritAttrs:!1,props:{id:String,...Ye(),...ye()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:n,emit:o,slots:t}=s;const{themeClasses:l}=De(e),{loaderClasses:r}=tt(e),{focusClasses:u,isFocused:d,focus:c,blur:p}=ge(e),{InputIcon:f}=Ke(e),{roundedClasses:I}=rt(e),{rtlClasses:P}=lt(),$=m(()=>e.dirty||e.active),C=m(()=>!e.singleLine&&!!(e.label||t.label)),z=Oe(),g=m(()=>e.id||`input-${z}`),G=m(()=>`${g.value}-messages`),O=q(),R=q(),A=q(),i=m(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:h,backgroundColorStyles:x}=Ae(Fe(e,"bgColor")),{textColorClasses:V,textColorStyles:H}=Le(m(()=>e.error||e.disabled?void 0:$.value&&d.value?e.color:e.baseColor));Pe($,b=>{if(C.value){const v=O.value.$el,S=R.value.$el;requestAnimationFrame(()=>{const _=ot(v),y=S.getBoundingClientRect(),k=y.x-_.x,B=y.y-_.y-(_.height/2-y.height/2),F=y.width/.75,T=Math.abs(F-_.width)>1?{maxWidth:Ee(F)}:void 0,L=getComputedStyle(v),re=getComputedStyle(S),Ce=parseFloat(L.transitionDuration)*1e3||150,Ve=parseFloat(re.getPropertyValue("--v-field-label-scale")),Se=re.getPropertyValue("color");v.style.visibility="visible",S.style.visibility="hidden",it(v,{transform:`translate(${k}px, ${B}px) scale(${Ve})`,color:Se,...T},{duration:Ce,easing:ut,direction:b?"normal":"reverse"}).finished.then(()=>{v.style.removeProperty("visibility"),S.style.removeProperty("visibility")})})}},{flush:"post"});const w=m(()=>({isActive:$,isFocused:d,controlRef:A,blur:p,focus:c}));function J(b){b.target!==document.activeElement&&b.preventDefault()}return U(()=>{var k,B,F;const b=e.variant==="outlined",v=t["prepend-inner"]||e.prependInnerIcon,S=!!(e.clearable||t.clear),_=!!(t["append-inner"]||e.appendInnerIcon||S),y=()=>t.label?t.label({...w.value,label:e.label,props:{for:g.value}}):e.label;return a("div",D({class:["v-field",{"v-field--active":$.value,"v-field--appended":_,"v-field--center-affix":e.centerAffix??!i.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":v,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!y(),[`v-field--variant-${e.variant}`]:!0},l.value,h.value,u.value,r.value,I.value,P.value,e.class],style:[x.value,e.style],onClick:J},n),[a("div",{class:"v-field__overlay"},null),a(nt,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),v&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(f,{key:"prepend-icon",name:"prependInner"},null),(k=t["prepend-inner"])==null?void 0:k.call(t,w.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&C.value&&a(N,{key:"floating-label",ref:R,class:[V.value],floating:!0,for:g.value,style:H.value},{default:()=>[y()]}),a(N,{ref:O,for:g.value},{default:()=>[y()]}),(B=t.default)==null?void 0:B.call(t,{...w.value,props:{id:g.value,class:"v-field__input","aria-describedby":G.value},focus:c,blur:p})]),S&&a(He,{key:"clear"},{default:()=>[ae(a("div",{class:"v-field__clearable",onMousedown:T=>{T.preventDefault(),T.stopPropagation()}},[t.clear?t.clear():a(f,{name:"clear"},null)]),[[me,e.dirty]])]}),_&&a("div",{key:"append",class:"v-field__append-inner"},[(F=t["append-inner"])==null?void 0:F.call(t,w.value),e.appendInnerIcon&&a(f,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",V.value],style:H.value},[b&&a(W,null,[a("div",{class:"v-field__outline__start"},null),C.value&&a("div",{class:"v-field__outline__notch"},[a(N,{ref:R,floating:!0,for:g.value},{default:()=>[y()]})]),a("div",{class:"v-field__outline__end"},null)]),i.value&&C.value&&a(N,{ref:R,floating:!0,for:g.value},{default:()=>[y()]})])])}),{controlRef:A}}});function mt(e){const s=Object.keys(he.props).filter(n=>!Ne(n)&&n!=="class"&&n!=="style");return We(e,s)}const te=Symbol("Forwarded refs");function le(e,s){let n=e;for(;n;){const o=Reflect.getOwnPropertyDescriptor(n,s);if(o)return o;n=Object.getPrototypeOf(n)}}function pt(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];return e[te]=n,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const r of n)if(r.value&&Reflect.has(r.value,l)){const u=Reflect.get(r.value,l);return typeof u=="function"?u.bind(r.value):u}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const r of n)if(r.value&&Reflect.has(r.value,l))return!0;return!1},set(t,l,r){if(Reflect.has(t,l))return Reflect.set(t,l,r);if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const u of n)if(u.value&&Reflect.has(u.value,l))return Reflect.set(u.value,l,r);return!1},getOwnPropertyDescriptor(t,l){var u;const r=Reflect.getOwnPropertyDescriptor(t,l);if(r)return r;if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const d of n){if(!d.value)continue;const c=le(d.value,l)??("_"in d.value?le((u=d.value._)==null?void 0:u.setupState,l):void 0);if(c)return c}for(const d of n){const c=d.value&&d.value[te];if(!c)continue;const p=c.slice();for(;p.length;){const f=p.shift(),I=le(f.value,l);if(I)return I;const P=f.value&&f.value[te];P&&p.push(...P)}}}}})}function gt(e,s){if(!Me)return;const n=s.modifiers||{},o=s.value,{handler:t,options:l}=typeof o=="object"?o:{handler:o,options:{}},r=new IntersectionObserver(function(){var f;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;const c=(f=e._observe)==null?void 0:f[s.instance.$.uid];if(!c)return;const p=u.some(I=>I.isIntersecting);t&&(!n.quiet||c.init)&&(!n.once||p||c.init)&&t(p,u,d),p&&n.once?xe(e,s):c.init=!0},l);e._observe=Object(e._observe),e._observe[s.instance.$.uid]={init:!1,observer:r},r.observe(e)}function xe(e,s){var o;const n=(o=e._observe)==null?void 0:o[s.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[s.instance.$.uid])}const bt={mounted:gt,unmounted:xe},yt=bt,ht=["color","file","time","date","datetime-local","week","month"],xt=M({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ze(),...ye()},"VTextField"),Ct=j()({name:"VTextField",directives:{Intersect:yt},inheritAttrs:!1,props:xt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:n,emit:o,slots:t}=s;const l=at(e,"modelValue"),{isFocused:r,focus:u,blur:d}=ge(e),c=m(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),p=m(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=m(()=>["plain","underlined"].includes(e.variant));function I(i,h){var x,V;!e.autofocus||!i||(V=(x=h[0].target)==null?void 0:x.focus)==null||V.call(x)}const P=q(),$=q(),C=q(),z=m(()=>ht.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function g(){var i;C.value!==document.activeElement&&((i=C.value)==null||i.focus()),r.value||u()}function G(i){o("mousedown:control",i),i.target!==C.value&&(g(),i.preventDefault())}function O(i){g(),o("click:control",i)}function R(i){i.stopPropagation(),g(),oe(()=>{l.value=null,Ue(e["onClick:clear"],i)})}function A(i){var x;const h=i.target;if(l.value=h.value,(x=e.modelModifiers)!=null&&x.trim&&["text","search","password","tel","url"].includes(e.type)){const V=[h.selectionStart,h.selectionEnd];oe(()=>{h.selectionStart=V[0],h.selectionEnd=V[1]})}}return U(()=>{const i=!!(t.counter||e.counter!==!1&&e.counter!=null),h=!!(i||t.details),[x,V]=je(n),{modelValue:H,...w}=ve.filterProps(e),J=mt(e);return a(ve,D({ref:P,modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":f.value},e.class],style:e.style},x,w,{centerAffix:!f.value,focused:r.value}),{...t,default:b=>{let{id:v,isDisabled:S,isDirty:_,isReadonly:y,isValid:k}=b;return a(he,D({ref:$,onMousedown:G,onClick:O,"onClick:clear":R,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},J,{id:v.value,active:z.value||_.value,dirty:_.value||e.dirty,disabled:S.value,focused:r.value,error:k.value===!1}),{...t,default:B=>{let{props:{class:F,...T}}=B;const L=ae(a("input",D({ref:C,value:l.value,onInput:A,autofocus:e.autofocus,readonly:y.value,disabled:S.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:d},T,V),null),[[$e("intersect"),{handler:I},null,{once:!0}]]);return a(W,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?a("div",{class:F,"data-no-activator":""},[t.default(),L]):Re(L,{class:F}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:h?b=>{var v;return a(W,null,[(v=t.details)==null?void 0:v.call(t,b),i&&a(W,null,[a("span",null,null),a(ct,{active:e.persistentCounter||r.value,value:c.value,max:p.value},t.counter)])])}:void 0})}),pt({},P,$,C)}});function Vt(e,s,n,o,t,l){return Q(),X(pe,null,{default:E(()=>[Y(e.$slots,"label",{},()=>[e.$props.label?(Q(),X(ne,{key:0,class:"fs-text-field-label",font:"text-overline",style:ie(e.style)},{default:E(()=>[ue(K(e.$props.label)+K(e.$props.required?"*":""),1)]),_:1},8,["style"])):de("",!0)]),a(Ct,D({class:"fs-text-field",variant:"outlined","hide-details":"",style:e.style,type:e.$props.type,readonly:!e.$props.editable,modelValue:e.$props.value,"onUpdate:modelValue":s[0]||(s[0]=r=>e.$emit("update:value",r))},e.$attrs),we({_:2},[ke(e.$slots,(r,u)=>({name:u,fn:E(d=>[Y(e.$slots,u,Be(Te(d)))])}))]),1040,["style","type","readonly","modelValue"]),Y(e.$slots,"description",{},()=>[e.$props.description?(Q(),X(ne,{key:0,class:"fs-text-field-description",font:"text-underline",style:ie(e.style)},{default:E(()=>[ue(K(e.$props.description),1)]),_:1},8,["style"])):de("",!0)])]),_:3})}const Tt=ze(be,[["render",Vt]]);be.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"type",values:["text","password","number"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"text"'}},{name:"value",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorBase.Dark"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:value"}],slots:[{name:"label"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"description"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSTextField.vue"]};export{Tt as T};
