import{d as y,s as z,m as I,w as T,E as h,e as o,l as _,z as n}from"./vue.esm-bundler-96d0a5cc.js";import{u as C}from"./color-0e7f3458.js";import{m as V,g as E,u as O}from"./useRender-864589a6.js";import{h as M,p as U,y as $,z as A,e as B}from"./theme-c90fedb5.js";import{u as F}from"./resizeObserver-608b050a.js";import{m as D,u as G}from"./VIcon-356fc7cc.js";import{m as W}from"./tag-2ee5b375.js";function j(e,i){const l=y(),r=z(!1);if(M){const t=new IntersectionObserver(s=>{e==null||e(s,t),r.value=!!s.find(a=>a.isIntersecting)},i);I(()=>{t.disconnect()}),T(l,(s,a)=>{a&&(t.unobserve(a),r.value=!1),s&&t.observe(s)},{flush:"post"})}return{intersectionRef:l,isIntersecting:r}}const q=U({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...V(),...D(),...W({tag:"div"}),...$()},"VProgressCircular"),Z=E()({name:"VProgressCircular",props:q(),setup(e,i){let{slots:l}=i;const r=20,t=2*Math.PI*r,s=y(),{themeClasses:a}=A(e),{sizeClasses:S,sizeStyles:m}=G(e),{textColorClasses:w,textColorStyles:b}=C(h(e,"color")),{textColorClasses:p,textColorStyles:x}=C(h(e,"bgColor")),{intersectionRef:P,isIntersecting:R}=j(),{resizeRef:N,contentRect:d}=F(),u=o(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),c=o(()=>Number(e.width)),f=o(()=>m.value?Number(e.size):d.value?d.value.width:Math.max(c.value,32)),v=o(()=>r/(1-c.value/f.value)*2),g=o(()=>c.value/f.value*v.value),k=o(()=>B((100-u.value)/100*t));return _(()=>{P.value=s.value,N.value=s.value}),O(()=>n(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":R.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},a.value,S.value,w.value,e.class],style:[m.value,b.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:u.value},{default:()=>[n("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.value} ${v.value}`},[n("circle",{class:["v-progress-circular__underlay",p.value],style:x.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":g.value,"stroke-dasharray":t,"stroke-dashoffset":0},null),n("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":g.value,"stroke-dasharray":t,"stroke-dashoffset":k.value},null)]),l.default&&n("div",{class:"v-progress-circular__content"},[l.default({value:u.value})])]})),{}}});export{Z as V,j as u};
