import{m as Fe,t as Ie,f as m,B as n,X as ue,_ as me,k as D,g as $e,w as Pe,L as K,F as E,Y as Re,$ as we,Z as fe,n as L,q as A,u as R,v as ne,z as j,C as U,D as ae,E as z,J as ke,K as Be,x as qe,y as Te}from"./vue.esm-bundler-29da8e49.js";import{C as X,u as Y,p as Z,E as se,i as De,j as Le,b as Ae,k as Oe,z as Ee,A as Ne,q as We,v as Me,B as je}from"./useColors-ad83dc40.js";import{_ as O}from"./FSSpan-46176227.js";import{_ as pe}from"./FSCol-322e7463.js";import{_ as ge}from"./FSRow-99784c66.js";import{_ as Ue}from"./_plugin-vue_export-helper-c27b6911.js";import{n as ze,a as Xe,s as Ye,V as Je}from"./VSpacer-353093b4.js";import{b as Ke,c as Ze}from"./index-3038ad46.js";import{m as de,g as G,u as H,I as re,e as Ge,d as He}from"./VIcon-8d401865.js";import{d as Qe,M as et,V as tt,e as lt,u as ye,f as nt,a as at,b as ve}from"./VInput-ee7ba7bd.js";import{m as st,a as rt,L as ot}from"./loader-549251e9.js";import{a as it,u as ut}from"./locale-542d2ec8.js";import{m as dt,u as ct}from"./rounded-6c346ce6.js";const be=Fe({name:"FSTextField",components:{FSSpan:O,FSCol:pe,FSRow:ge},inheritAttrs:!1,props:{label:{type:String,required:!0,default:null},description:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"text"},value:{type:String,required:!1,default:null},color:{type:String,required:!1,default:X.Dark},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},editable:{type:Boolean,required:!1,default:!0}},emits:["update:value"],setup(e){const{color:s,editable:a}=Ie(e),o=Y().getColors(s.value),t=Y().getColors(X.Error),l=Y().getColors(X.Light),r=Y().getColors(X.Dark),i=m(()=>a.value?{"--fs-text-field-cursor":"text","--fs-text-field-border-color":o.base,"--fs-text-field-color":r.base,"--fs-text-field-active-border-color":o.dark,"--fs-text-field-error-color":t.base,"--fs-text-field-error-border-color":t.base}:{"--fs-text-field-cursor":"default","--fs-text-field-border-color":l.base,"--fs-text-field-color":l.dark,"--fs-text-field-active-border-color":l.base});return{messages:m(()=>{const d=[];for(const v of e.rules){const f=v(e.value);typeof f=="string"&&d.push(f)}return d}),style:i}}});const ft=Z({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...de(),...Qe({transition:{component:Ke}})},"VCounter"),vt=G()({name:"VCounter",functional:!0,props:ft(),setup(e,s){let{slots:a}=s;const o=m(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return H(()=>n(et,{transition:e.transition},{default:()=>[ue(n("div",{class:["v-counter",e.class],style:e.style},[a.default?a.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[me,e.active]])]})),{}}});const mt=Z({floating:Boolean,...de()},"VFieldLabel"),J=G()({name:"VFieldLabel",props:mt(),setup(e,s){let{slots:a}=s;return H(()=>n(tt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),pt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],he=Z({appendInnerIcon:re,bgColor:String,clearable:Boolean,clearIcon:{type:re,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:re,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>pt.includes(e)},"onClick:clear":se(),"onClick:appendInner":se(),"onClick:prependInner":se(),...de(),...st(),...dt(),...De()},"VField"),xe=G()({name:"VField",inheritAttrs:!1,props:{id:String,...lt(),...he()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:a,emit:o,slots:t}=s;const{themeClasses:l}=Le(e),{loaderClasses:r}=rt(e),{focusClasses:i,isFocused:c,focus:d,blur:v}=ye(e),{InputIcon:f}=nt(e),{roundedClasses:F}=ct(e),{rtlClasses:$}=it(),P=m(()=>e.dirty||e.active),C=m(()=>!e.singleLine&&!!(e.label||t.label)),Q=Ae(),g=m(()=>e.id||`input-${Q}`),ee=m(()=>`${g.value}-messages`),N=D(),w=D(),W=D(),u=m(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:h,backgroundColorStyles:x}=Ge($e(e,"bgColor")),{textColorClasses:V,textColorStyles:te}=He(m(()=>e.error||e.disabled?void 0:P.value&&c.value?e.color:e.baseColor));Pe(P,y=>{if(C.value){const p=N.value.$el,_=w.value.$el;requestAnimationFrame(()=>{const S=ze(p),b=_.getBoundingClientRect(),B=b.x-S.x,q=b.y-S.y-(S.height/2-b.height/2),I=b.width/.75,T=Math.abs(I-S.width)>1?{maxWidth:Oe(I)}:void 0,M=getComputedStyle(p),ce=getComputedStyle(_),Ve=parseFloat(M.transitionDuration)*1e3||150,_e=parseFloat(ce.getPropertyValue("--v-field-label-scale")),Se=ce.getPropertyValue("color");p.style.visibility="visible",_.style.visibility="hidden",Xe(p,{transform:`translate(${B}px, ${q}px) scale(${_e})`,color:Se,...T},{duration:Ve,easing:Ye,direction:y?"normal":"reverse"}).finished.then(()=>{p.style.removeProperty("visibility"),_.style.removeProperty("visibility")})})}},{flush:"post"});const k=m(()=>({isActive:P,isFocused:c,controlRef:W,blur:v,focus:d}));function le(y){y.target!==document.activeElement&&y.preventDefault()}return H(()=>{var B,q,I;const y=e.variant==="outlined",p=t["prepend-inner"]||e.prependInnerIcon,_=!!(e.clearable||t.clear),S=!!(t["append-inner"]||e.appendInnerIcon||_),b=()=>t.label?t.label({...k.value,label:e.label,props:{for:g.value}}):e.label;return n("div",E({class:["v-field",{"v-field--active":P.value,"v-field--appended":S,"v-field--center-affix":e.centerAffix??!u.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":p,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!b(),[`v-field--variant-${e.variant}`]:!0},l.value,h.value,i.value,r.value,F.value,$.value,e.class],style:[x.value,e.style],onClick:le},a),[n("div",{class:"v-field__overlay"},null),n(ot,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),p&&n("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&n(f,{key:"prepend-icon",name:"prependInner"},null),(B=t["prepend-inner"])==null?void 0:B.call(t,k.value)]),n("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&C.value&&n(J,{key:"floating-label",ref:w,class:[V.value],floating:!0,for:g.value,style:te.value},{default:()=>[b()]}),n(J,{ref:N,for:g.value},{default:()=>[b()]}),(q=t.default)==null?void 0:q.call(t,{...k.value,props:{id:g.value,class:"v-field__input","aria-describedby":ee.value},focus:d,blur:v})]),_&&n(Ze,{key:"clear"},{default:()=>[ue(n("div",{class:"v-field__clearable",onMousedown:T=>{T.preventDefault(),T.stopPropagation()}},[t.clear?t.clear():n(f,{name:"clear"},null)]),[[me,e.dirty]])]}),S&&n("div",{key:"append",class:"v-field__append-inner"},[(I=t["append-inner"])==null?void 0:I.call(t,k.value),e.appendInnerIcon&&n(f,{key:"append-icon",name:"appendInner"},null)]),n("div",{class:["v-field__outline",V.value],style:te.value},[y&&n(K,null,[n("div",{class:"v-field__outline__start"},null),C.value&&n("div",{class:"v-field__outline__notch"},[n(J,{ref:w,floating:!0,for:g.value},{default:()=>[b()]})]),n("div",{class:"v-field__outline__end"},null)]),u.value&&C.value&&n(J,{ref:w,floating:!0,for:g.value},{default:()=>[b()]})])])}),{controlRef:W}}});function gt(e){const s=Object.keys(xe.props).filter(a=>!Ee(a)&&a!=="class"&&a!=="style");return Ne(e,s)}const oe=Symbol("Forwarded refs");function ie(e,s){let a=e;for(;a;){const o=Reflect.getOwnPropertyDescriptor(a,s);if(o)return o;a=Object.getPrototypeOf(a)}}function yt(e){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return e[oe]=a,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const r of a)if(r.value&&Reflect.has(r.value,l)){const i=Reflect.get(r.value,l);return typeof i=="function"?i.bind(r.value):i}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const r of a)if(r.value&&Reflect.has(r.value,l))return!0;return!1},set(t,l,r){if(Reflect.has(t,l))return Reflect.set(t,l,r);if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const i of a)if(i.value&&Reflect.has(i.value,l))return Reflect.set(i.value,l,r);return!1},getOwnPropertyDescriptor(t,l){var i;const r=Reflect.getOwnPropertyDescriptor(t,l);if(r)return r;if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const c of a){if(!c.value)continue;const d=ie(c.value,l)??("_"in c.value?ie((i=c.value._)==null?void 0:i.setupState,l):void 0);if(d)return d}for(const c of a){const d=c.value&&c.value[oe];if(!d)continue;const v=d.slice();for(;v.length;){const f=v.shift(),F=ie(f.value,l);if(F)return F;const $=f.value&&f.value[oe];$&&v.push(...$)}}}}})}function bt(e,s){if(!We)return;const a=s.modifiers||{},o=s.value,{handler:t,options:l}=typeof o=="object"?o:{handler:o,options:{}},r=new IntersectionObserver(function(){var f;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;const d=(f=e._observe)==null?void 0:f[s.instance.$.uid];if(!d)return;const v=i.some(F=>F.isIntersecting);t&&(!a.quiet||d.init)&&(!a.once||v||d.init)&&t(v,i,c),v&&a.once?Ce(e,s):d.init=!0},l);e._observe=Object(e._observe),e._observe[s.instance.$.uid]={init:!1,observer:r},r.observe(e)}function Ce(e,s){var o;const a=(o=e._observe)==null?void 0:o[s.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[s.instance.$.uid])}const ht={mounted:bt,unmounted:Ce},xt=ht,Ct=["color","file","time","date","datetime-local","week","month"],Vt=Z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...at(),...he()},"VTextField"),_t=G()({name:"VTextField",directives:{Intersect:xt},inheritAttrs:!1,props:Vt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:a,emit:o,slots:t}=s;const l=ut(e,"modelValue"),{isFocused:r,focus:i,blur:c}=ye(e),d=m(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),v=m(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=m(()=>["plain","underlined"].includes(e.variant));function F(u,h){var x,V;!e.autofocus||!u||(V=(x=h[0].target)==null?void 0:x.focus)==null||V.call(x)}const $=D(),P=D(),C=D(),Q=m(()=>Ct.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function g(){var u;C.value!==document.activeElement&&((u=C.value)==null||u.focus()),r.value||i()}function ee(u){o("mousedown:control",u),u.target!==C.value&&(g(),u.preventDefault())}function N(u){g(),o("click:control",u)}function w(u){u.stopPropagation(),g(),fe(()=>{l.value=null,je(e["onClick:clear"],u)})}function W(u){var x;const h=u.target;if(l.value=h.value,(x=e.modelModifiers)!=null&&x.trim&&["text","search","password","tel","url"].includes(e.type)){const V=[h.selectionStart,h.selectionEnd];fe(()=>{h.selectionStart=V[0],h.selectionEnd=V[1]})}}return H(()=>{const u=!!(t.counter||e.counter!==!1&&e.counter!=null),h=!!(u||t.details),[x,V]=Me(a),{modelValue:te,...k}=ve.filterProps(e),le=gt(e);return n(ve,E({ref:$,modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":f.value},e.class],style:e.style},x,k,{centerAffix:!f.value,focused:r.value}),{...t,default:y=>{let{id:p,isDisabled:_,isDirty:S,isReadonly:b,isValid:B}=y;return n(xe,E({ref:P,onMousedown:ee,onClick:N,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},le,{id:p.value,active:Q.value||S.value,dirty:S.value||e.dirty,disabled:_.value,focused:r.value,error:B.value===!1}),{...t,default:q=>{let{props:{class:I,...T}}=q;const M=ue(n("input",E({ref:C,value:l.value,onInput:W,autofocus:e.autofocus,readonly:b.value,disabled:_.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:c},T,V),null),[[Re("intersect"),{handler:F},null,{once:!0}]]);return n(K,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?n("div",{class:I,"data-no-activator":""},[t.default(),M]):we(M,{class:I}),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:h?y=>{var p;return n(K,null,[(p=t.details)==null?void 0:p.call(t,y),u&&n(K,null,[n("span",null,null),n(vt,{active:e.persistentCounter||r.value,value:d.value,max:v.value},t.counter)])])}:void 0})}),yt({},$,P,C)}});function St(e,s,a,o,t,l){return L(),A(pe,null,{default:R(()=>[ne(e.$slots,"label",{},()=>[n(ge,{wrap:!1},{default:R(()=>[e.$props.label?(L(),A(O,{key:0,class:"fs-text-field-label",font:"text-overline",style:j(e.style)},{default:R(()=>[U(ae(e.$props.label),1)]),_:1},8,["style"])):z("",!0),e.$props.label&&e.$props.required?(L(),A(O,{key:1,class:"fs-text-field-label",style:j([{"margin-left":"-8px"},e.style]),font:"text-overline",ellipsis:!1},{default:R(()=>[U(" * ")]),_:1},8,["style"])):z("",!0),n(Je,{style:{"min-width":"40px"}}),e.messages.length>0?(L(),A(O,{key:2,class:"fs-text-field-messages",font:"text-overline",style:j(e.style)},{default:R(()=>[U(ae(e.messages.join(", ")),1)]),_:1},8,["style"])):z("",!0)]),_:1})]),n(_t,E({class:"fs-text-field",variant:"outlined","hide-details":"",style:e.style,type:e.$props.type,rules:e.$props.rules,readonly:!e.$props.editable,modelValue:e.$props.value,"onUpdate:modelValue":s[0]||(s[0]=r=>e.$emit("update:value",r))},e.$attrs),ke({_:2},[Be(e.$slots,(r,i)=>({name:i,fn:R(c=>[ne(e.$slots,i,qe(Te(c)))])}))]),1040,["style","type","rules","readonly","modelValue"]),ne(e.$slots,"description",{},()=>[e.$props.description?(L(),A(O,{key:0,class:"fs-text-field-description",font:"text-underline",style:j(e.style)},{default:R(()=>[U(ae(e.$props.description),1)]),_:1},8,["style"])):z("",!0)])]),_:3})}const Ot=Ue(be,[["render",St]]);be.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string"},required:!0,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"type",values:["text","password","number"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"text"'}},{name:"value",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorBase.Dark"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"Function[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:value"}],slots:[{name:"label"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"description"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSTextField.vue"]};export{Ot as F,yt as f};
