var C=Object.defineProperty;var w=(i,e,s)=>e in i?C(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var t=(i,e,s)=>w(i,typeof e!="symbol"?e+"":e,s);import{C as I}from"./base-Dl3FgNgM.js";import{a as c,b as u,c as b,D as P,W as g}from"./dashboardTranslation-wCYjL46E.js";import{P as v}from"./pathCrumb-Db-cq5HI.js";import{C as a}from"./composableFactory-uBEY979O.js";import{S as n}from"./serviceFactory-B3o6Bvwt.js";class S{constructor(e){t(this,"hiddenCode");t(this,"startDate");t(this,"endDate");t(this,"useAutoRefresh");t(this,"autoRefresh");this.hiddenCode=e.hiddenCode,this.startDate=e.startDate,this.endDate=e.endDate,this.useAutoRefresh=e.useAutoRefresh,this.autoRefresh=e.autoRefresh}}class L{constructor(e){t(this,"hiddenCode");t(this,"singleEntity");t(this,"entityType");t(this,"entitiesFilters");t(this,"entitiesIds");this.hiddenCode=e.hiddenCode,this.singleEntity=e.singleEntity,this.entityType=e.entityType,this.entitiesFilters=e.entitiesFilters,this.entitiesIds=e.entitiesIds.slice()}}class R{constructor(e){t(this,"hiddenCode");t(this,"value");this.hiddenCode=e.hiddenCode,this.value=e.value}}class f{constructor(e){t(this,"id");t(this,"organisationId");t(this,"dashboardOrganisationTypeId");t(this,"dashboardOrganisationTypeLabel");t(this,"folderId");t(this,"folderLabel");t(this,"folderIcon");t(this,"imageId");t(this,"label");t(this,"code");t(this,"icon");t(this,"tags");t(this,"colors");t(this,"dashboardId");t(this,"scope");this.id=e.id,this.organisationId=e.organisationId,this.dashboardOrganisationTypeId=e.dashboardOrganisationTypeId,this.dashboardOrganisationTypeLabel=e.dashboardOrganisationTypeLabel,this.folderId=e.folderId,this.folderLabel=e.folderLabel,this.folderIcon=e.folderIcon,this.imageId=e.imageId,this.label=e.label,this.code=e.code,this.icon=e.icon,this.tags=e.tags.slice(),this.colors=e.colors.slice(),this.dashboardId=e.dashboardId,this.scope=e.scope}}class l extends f{constructor(s){super(s);t(this,"labelDefault");t(this,"translations");t(this,"path");t(this,"widgets");t(this,"entityPresetCode");t(this,"datePresetCode");t(this,"variableCode");t(this,"defaultDatePresets");t(this,"defaultEntityPresets");t(this,"defaultVariables");t(this,"overrideDatePresets");t(this,"overrideEntityPresets");t(this,"overrideVariables");this.labelDefault=s.labelDefault,this.path=s.path.map(o=>new v(o)).sort((o,d)=>d.index-o.index),this.translations=s.translations.map(o=>new P(o)),this.widgets=s.widgets.map(o=>new g(o)),this.overrideDatePresets=s.overrideDatePresets.map(o=>new S(o)),this.overrideEntityPresets=s.overrideEntityPresets.map(o=>new L(o)),this.overrideVariables=s.overrideVariables.map(o=>new R(o)),this.entityPresetCode=s.entityPresetCode,this.datePresetCode=s.datePresetCode,this.variableCode=s.variableCode,this.defaultDatePresets=s.defaultDatePresets.map(o=>new c(o)),this.defaultEntityPresets=s.defaultEntityPresets.map(o=>new u(o)),this.defaultVariables=s.defaultVariables.map(o=>new b(o))}get datePresets(){return this.defaultDatePresets.map(s=>{const o=this.overrideDatePresets.find(d=>d.hiddenCode===s.hiddenCode);return o?new c({...s,...o}):s})}get entityPresets(){return this.defaultEntityPresets.map(s=>{const o=this.overrideEntityPresets.find(d=>d.hiddenCode===s.hiddenCode);return o?new u({...s,...o}):s})}get variables(){return this.defaultVariables.map(s=>{const o=this.overrideVariables.find(d=>d.hiddenCode===s.hiddenCode);return o?new b({...s,...o}):s})}}const D=()=>`${I()}/dashboard-shallows`,h=i=>`${D()}/${encodeURIComponent(i)}`,E=i=>`${h(i)}/folder`,r=new n("dashboardShallow",l).createComplete(D,h,f),y=new n("dashboardShallow",l).create(i=>i.build(i.addNotify(e=>({...n.addCustom("duplicate",(s,o)=>s.patch(h(o)),s=>{const o=new l(s);return e.notify("update",o),o}),...n.addCustom("changeFolder",(s,o,d)=>s.put(E(o),d),s=>{const o=new l(s);return e.notify("update",o),o})})))),_=a.get(r),H=a.getMany(r);a.create(r);a.update(r);a.remove(r);a.custom(y.duplicate);a.custom(y.changeFolder);export{_ as a,H as u};
