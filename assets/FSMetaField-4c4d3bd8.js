import{f as g,I as n,J as l,K as t,L as r,M as N,N as i,F as v,O as p,P as u,A as T,Q as I,R as w}from"./vue.esm-bundler-cd768bc3.js";import{F as $}from"./FSSwitch-acb2fd21.js";import{F as B}from"./FSIconField-d45c0bdd.js";import{F as M}from"./FSSelectField-b12274a3.js";import{F as O}from"./FSNumberField-13a31ab5.js";import{F as U}from"./FSDateTimeField-a54ca086.js";import{P as y}from"./customPropertyEnums-7823143c.js";import{u as q}from"./useAppTimeZone-d6a8f46f.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as c}from"./FSIcon-203715fb.js";import{_ as L}from"./FSRow-1d7c2545.js";import{_ as m}from"./FSSpan-da6dde8e.js";import{F as A}from"./FSTextField-8af1deda.js";import{V as R}from"./VSelect-faa1eb31.js";const D=g({name:"FSMetaField",components:{FSSwitch:$,FSIconField:B,FSSelectField:M,FSNumberField:O,FSDateTimeField:U},props:{customProperty:{type:Object,required:!0},modelValue:{type:String,required:!0},editable:{type:Boolean,required:!1,default:!0}},setup(e){const{epochToLongTimeFormat:a,epochToPicker:b,getUserOffsetMillis:f,getMachineOffsetMillis:F}=q();return{PropertyDataType:y,getMachineOffsetMillis:F,getUserOffsetMillis:f,asSelector:s=>{switch(e.customProperty.dataType){case y.Boolean:return(s==null?void 0:s.toLowerCase())==="true"?"mdi-check-circle-outline":"mdi-close-circle-outline";case y.DateTime:return a(parseInt(s));default:return s}},asDateTime:()=>{let s;return e.modelValue!=null&&isFinite(parseInt(e.modelValue))&&(s=parseInt(e.modelValue)),b(s)??void 0},asBoolean:()=>e.modelValue==="true",asNumber:()=>{if(!isNaN(parseFloat(e.modelValue)))return parseFloat(e.modelValue)}}}});function j(e,a,b,f,F,k){const P=n("FSSelectField"),V=n("FSNumberField"),S=n("FSDateTimeField"),s=n("FSIconField");return e.$props.customProperty.useOnlyAllowedValues?(l(),t(P,{key:0,label:e.$props.customProperty.label,items:Object.keys(e.$props.customProperty.allowedValues),disabled:!e.editable,modelValue:e.$props.modelValue,"onUpdate:modelValue":a[0]||(a[0]=o=>e.$emit("update:modelValue",o))},{selection:r(({item:o})=>[e.customProperty.allowedValues[o.value]!=null?(l(),t(m,{key:0,class:"text-body-1"},{default:r(()=>[p(u(e.customProperty.allowedValues[o.value]),1)]),_:2},1024)):[e.PropertyDataType.Number,e.PropertyDataType.String,e.PropertyDataType.DateTime].includes(e.customProperty.dataType)?(l(),t(m,{key:1,class:"text-body-1"},{default:r(()=>[p(u(e.asSelector(o.value)),1)]),_:2},1024)):[e.PropertyDataType.Boolean,e.PropertyDataType.Icon].includes(e.customProperty.dataType)?(l(),t(c,{key:2},{default:r(()=>[p(u(e.asSelector(o.value)),1)]),_:2},1024)):i("",!0)]),item:r(({props:o,item:d})=>[T(R,I(w({...o,title:""})),{default:r(()=>[T(L,{align:"center-left"},{default:r(()=>[e.customProperty.allowedValues[d.value]!=null?(l(),t(m,{key:0,class:"text-body-1"},{default:r(()=>[p(u(e.customProperty.allowedValues[d.value]),1)]),_:2},1024)):[e.PropertyDataType.Number,e.PropertyDataType.String].includes(e.$props.customProperty.dataType)?(l(),t(m,{key:1,class:"text-body-1"},{default:r(()=>[p(u(e.asSelector(d.value)),1)]),_:2},1024)):[e.PropertyDataType.DateTime].includes(e.$props.customProperty.dataType)?(l(),t(m,{key:2,class:"text-body-1"},{default:r(()=>[p(u(e.asSelector(d.value)),1)]),_:2},1024)):[e.PropertyDataType.Boolean,e.PropertyDataType.Icon].includes(e.$props.customProperty.dataType)?(l(),t(c,{key:3},{default:r(()=>[p(u(e.asSelector(d.value)),1)]),_:2},1024)):i("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["label","items","disabled","modelValue"])):(l(),N(v,{key:1},[e.$props.customProperty.dataType===e.PropertyDataType.Number?(l(),t(V,{key:0,label:e.$props.customProperty.label,disabled:!e.editable,modelValue:e.asNumber(),"onUpdate:modelValue":a[1]||(a[1]=o=>e.$emit("update:modelValue",o.toString()))},null,8,["label","disabled","modelValue"])):e.$props.customProperty.dataType===e.PropertyDataType.Boolean?(l(),t($,{key:1,label:e.$props.customProperty.label,editable:e.editable,modelValue:e.asBoolean(),"onUpdate:modelValue":a[2]||(a[2]=o=>e.$emit("update:modelValue",o.toString()))},null,8,["label","editable","modelValue"])):e.$props.customProperty.dataType===e.PropertyDataType.String?(l(),t(A,{key:2,label:e.$props.customProperty.label,disabled:!e.editable,modelValue:e.$props.modelValue,"onUpdate:modelValue":a[3]||(a[3]=o=>e.$emit("update:modelValue",o))},null,8,["label","disabled","modelValue"])):e.$props.customProperty.dataType===e.PropertyDataType.DateTime?(l(),t(S,{key:3,label:e.$props.customProperty.label,editable:e.editable,modelValue:e.asNumber(),"onUpdate:modelValue":a[4]||(a[4]=o=>e.$emit("update:modelValue",(o+e.getMachineOffsetMillis()-e.getUserOffsetMillis()).toString()))},null,8,["label","editable","modelValue"])):e.$props.customProperty.dataType===e.PropertyDataType.Icon?(l(),t(s,{key:4,label:e.$props.customProperty.label,editable:e.editable,modelValue:e.modelValue,"onUpdate:modelValue":a[5]||(a[5]=o=>e.$emit("update:modelValue",o.toString()))},null,8,["label","editable","modelValue"])):i("",!0)],64))}const ee=C(D,[["render",j]]);D.__docgenInfo={displayName:"FSMetaField",exportName:"default",description:"",tags:{},props:[{name:"customProperty",type:{name:"CustomPropertyInfos"},required:!0},{name:"modelValue",type:{name:"string"},required:!0},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/customProperties/FSMetaField.vue"]};export{ee as F};
