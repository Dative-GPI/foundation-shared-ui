import{f as J,j as K,g as c,D,E as s,F as m,G as o,H as j,P as n,U as E,V as q,Q as d,R as b,S as V,A as h,J as H,K as C,L as O,I as Q}from"./vue.esm-bundler-f632b118.js";import{F as W}from"./FSDialogMenu-7826371b.js";import{F as R}from"./FSRadioGroup-b87c20cc.js";import{F as X}from"./VField-77215d36.js";import{F as I}from"./FSTextField-cc4424b2.js";import{F as B}from"./FSCheckbox-5ebd306d.js";import{F as M}from"./FSFadeOut-0ebdb15e.js";import{F as S}from"./FSButton-1e8cfafa.js";import{_ as g}from"./FSSpan-4ac1bb71.js";import{_ as T}from"./FSCol-606e8271.js";import{_ as v}from"./FSRow-76f4ad1e.js";import{u as Y}from"./useRules-31faed85.js";import{u as Z}from"./css-185b4786.js";import{u as _,C as y}from"./useColors-c1b539be.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{V as ee,a as le}from"./VSelect-00399f8e.js";const U=J({name:"FSSelectField",components:{FSDialogMenu:W,FSRadioGroup:R,FSBaseField:X,FSTextField:I,FSCheckbox:B,FSFadeOut:M,FSButton:S,FSSpan:g,FSCol:T,FSRow:v},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},items:{type:Array,required:!0},itemValue:{type:String,required:!1,default:"id"},itemTitle:{type:String,required:!1,default:"label"},modelValue:{type:[Array,String,Number],required:!1,default:null},hideHeader:{type:Boolean,required:!1,default:!1},returnObject:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e,{emit:r}){const{validateOn:P,getMessages:w}=Y(),{isExtraSmall:A}=Z(),{getColors:$}=_(),F=$(y.Background),k=$(y.Error),a=$(y.Light),t=$(y.Dark),u=K(!1),f=c(()=>e.editable?{"--fs-select-field-cursor":"pointer","--fs-select-field-background-color":F.base,"--fs-select-field-border-color":a.dark,"--fs-select-field-color":t.base,"--fs-select-field-active-border-color":t.dark,"--fs-select-field-error-border-color":k.base}:{"--fs-select-field-cursor":"default","--fs-select-field-border-color":a.base,"--fs-select-field-color":a.dark,"--fs-select-field-active-border-color":a.base}),N=c(()=>({style:f.value})),L=c(()=>e.messages??w(e.modelValue,e.rules)),G=c(()=>"calc(100vh - 40px - 16px)"),z=c(()=>{if(e.multiple&&Array.isArray(e.modelValue))return e.modelValue.map(l=>{const i=e.items.find(p=>p[e.itemValue]===l);if(i)return i[e.itemTitle]}).filter(l=>!!l).join(", ");if(e.modelValue){const l=e.items.find(i=>i[e.itemValue]===e.modelValue);if(l)return l[e.itemTitle]}return null});return{mobileSelectionProps:c(()=>{const l=e.items.find(i=>i[e.itemValue]===e.modelValue);return l?{item:{title:"",value:l[e.itemValue],props:{title:l[e.itemTitle],value:l[e.itemValue]},raw:{...l}},font:"text-body"}:null}),isExtraSmall:A,mobileValue:z,validateOn:P,ColorEnum:y,listStyle:N,messages:L,dialog:u,height:G,style:f,openMobileOverlay:()=>{e.editable&&(u.value=!0)},onCheckboxChange:l=>{if(e.returnObject){const i=e.items.find(p=>p[e.itemValue]===l);Array.isArray(e.modelValue)?e.modelValue.find(p=>p[e.itemValue]===l)?r("update:modelValue",e.modelValue.filter(p=>p[e.itemValue]!==l)):i&&r("update:modelValue",[...e.modelValue,i]):e.modelValue?e.modelValue[e.itemValue]===l?r("update:modelValue",[]):r("update:modelValue",[e.modelValue,i]):r("update:modelValue",[i])}else Array.isArray(e.modelValue)?e.modelValue.includes(l)?r("update:modelValue",e.modelValue.filter(i=>i!==l)):r("update:modelValue",[...e.modelValue,l]):e.modelValue===l?r("update:modelValue",[]):r("update:modelValue",[e.modelValue,l])},mobileItemProps:(l,i)=>({item:{title:"",value:l[e.itemValue],props:{title:l[e.itemTitle],value:l[e.itemValue]},raw:{...l}},font:i}),onRadioChange:l=>{e.returnObject?r("update:modelValue",e.items.find(i=>i[e.itemValue]===l)??null):r("update:modelValue",l),u.value=!1}}}});function ae(e,r,P,w,A,$){const F=D("FSDialogMenu"),k=D("FSBaseField");return s(),m(T,null,{default:o(()=>[e.isExtraSmall?(s(),j(H,{key:0},[n(I,h({label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,clearable:e.$props.clearable,editable:e.$props.editable,readonly:!0,rules:e.$props.rules,messages:e.messages,validateOn:e.validateOn,validationValue:e.$props.modelValue,modelValue:e.mobileValue,"onUpdate:modelValue":r[0]||(r[0]=a=>e.$emit("update:modelValue",a)),onClick:e.openMobileOverlay},e.$attrs),E({"append-inner":o(()=>[d(e.$slots,"append-inner",{},()=>[n(S,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark,onClick:e.openMobileOverlay},null,8,["editable","color","onClick"])])]),_:2},[q(e.$slots,(a,t)=>({name:t,fn:o(u=>[d(e.$slots,t,b(V(u)))])})),e.mobileSelectionProps?{name:"prepend-inner",fn:o(()=>[d(e.$slots,"selection-mobile",b(V(e.mobileSelectionProps)))]),key:"0"}:void 0]),1040,["label","description","hideHeader","required","clearable","editable","rules","messages","validateOn","validationValue","modelValue","onClick"]),n(F,{modelValue:e.dialog,"onUpdate:modelValue":r[1]||(r[1]=a=>e.dialog=a)},{body:o(()=>[n(M,{height:e.height},{default:o(()=>[e.$props.multiple?(s(),m(T,{key:0,gap:"12px"},{default:o(()=>[(s(!0),j(H,null,q(e.$props.items,(a,t)=>(s(),m(v,{key:t},{default:o(()=>{var u;return[n(B,{label:a[e.$props.itemTitle],editable:e.$props.editable,modelValue:(u=e.$props.modelValue)==null?void 0:u.includes(a[e.$props.itemValue]),"onUpdate:modelValue":()=>e.onCheckboxChange(a[e.$props.itemValue])},{label:o(({font:f})=>[d(e.$slots,"item-label",h({ref_for:!0},e.mobileItemProps(a,f)))]),_:2},1032,["label","editable","modelValue","onUpdate:modelValue"])]}),_:2},1024))),128))]),_:3})):(s(),m(R,{key:1,gap:"12px",values:e.$props.items.map(a=>({value:a[e.$props.itemValue],label:a[e.$props.itemTitle],item:a})),editable:e.$props.editable,modelValue:e.$props.modelValue,"onUpdate:modelValue":e.onRadioChange},{label:o(({item:a,font:t})=>[d(e.$slots,"item-label",b(V(e.mobileItemProps(a,t))))]),_:3},8,["values","editable","modelValue","onUpdate:modelValue"]))]),_:3},8,["height"])]),_:3},8,["modelValue"])],64)):(s(),m(k,{key:1,label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,messages:e.messages},{default:o(()=>[n(le,h({class:"fs-select-field",variant:"outlined",menuIcon:null,style:e.style,listProps:e.listStyle,persistentClear:!0,hideDetails:!0,items:e.$props.items,itemTitle:e.$props.itemTitle,itemValue:e.$props.itemValue,readonly:!e.$props.editable,clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,returnObject:e.$props.returnObject,rules:e.$props.rules,validateOn:e.validateOn,multiple:e.$props.multiple,modelValue:e.$props.modelValue,"onUpdate:modelValue":r[3]||(r[3]=a=>e.$emit("update:modelValue",a))},e.$attrs),E({item:o(({props:a,item:t})=>[n(ee,b(V({...a,title:""})),{default:o(()=>[n(v,{align:"center-left"},{default:o(()=>{var u;return[e.$props.multiple?(s(),m(B,{key:0,modelValue:(u=e.$props.modelValue)==null?void 0:u.includes(t.raw[e.$props.itemValue]),onClick:a.onClick},{label:o(({font:f})=>[d(e.$slots,"item-label",b(V({item:t,font:f})),()=>[n(g,{font:f},{default:o(()=>[C(O(t.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])])]),_:2},1032,["modelValue","onClick"])):(s(),m(g,{key:1},{default:o(()=>[d(e.$slots,"item-label",b(V({item:t})),()=>[n(g,null,{default:o(()=>[C(O(t.raw[e.$props.itemTitle]),1)]),_:2},1024)])]),_:2},1024))]}),_:2},1024)]),_:2},1040)]),clear:o(()=>[d(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(s(),m(S,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:r[2]||(r[2]=a=>e.$emit("update:modelValue",null))},null,8,["color"])):Q("",!0)])]),"append-inner":o(()=>[d(e.$slots,"append-inner",{},()=>[n(S,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark},null,8,["editable","color"])])]),"no-data":o(()=>[n(v,{padding:"17px"},{default:o(()=>[n(g,null,{default:o(()=>[C(O(e.$tr("ui.common.no-data","No data")),1)]),_:1})]),_:1})]),_:2},[q(e.$slots,(a,t)=>({name:t,fn:o(u=>[d(e.$slots,t,b(V(u)))])}))]),1040,["style","listProps","items","itemTitle","itemValue","readonly","clearable","returnObject","rules","validateOn","multiple","modelValue"])]),_:3},8,["label","description","hideHeader","required","editable","messages"]))]),_:3})}const qe=x(U,[["render",ae]]);U.__docgenInfo={displayName:"FSSelectField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"items",type:{name:"any[]"},required:!0},{name:"itemValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"id"'}},{name:"itemTitle",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"label"'}},{name:"modelValue",type:{name:"(string | number)[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"returnObject",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"multiple",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"selection-mobile",scoped:!0,bindings:[]},{name:"append-inner"},{name:"item-label",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"clear"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSSelectField.vue"]};export{qe as F};
