import{f as m,l as D,B as l,G as w,O as ne,P as re,N as T,Q as oe,I as U,n as ue,t as ie,C as de,q as b,u as F,v as d,x as N,A as h,D as q,E as R,F as $,L as fe,M as ce,y as me,z as pe}from"./vue.esm-bundler-722d5586.js";import{p as ve,s as ye,t as ge,C as P,u as _}from"./useTimeZone-e2d91037.js";import{_ as C}from"./FSSpan-25dfede3.js";import{_ as G}from"./FSCol-73c0912e.js";import{_ as Q}from"./FSRow-adbe3642.js";import{_ as xe}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Ve}from"./VSpacer-14789593.js";import{m as be,I as Fe,a as Ce,V as Se,b as ke,f as he}from"./VField-ef78f264.js";import{a as qe,u as $e,V as j}from"./VInput-157b0d5f.js";import{u as Pe}from"./locale-4b40caf6.js";import{g as _e,a as we}from"./VIcon-3294e246.js";const Ie=["color","file","time","date","datetime-local","week","month"],Be=ve({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...qe(),...be()},"VTextField"),De=_e()({name:"VTextField",directives:{Intersect:Fe},inheritAttrs:!1,props:Be(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,f){let{attrs:c,emit:p,slots:a}=f;const s=Pe(e,"modelValue"),{isFocused:n,focus:u,blur:v}=$e(e),I=m(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),A=m(()=>{if(c.maxlength)return c.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),y=m(()=>["plain","underlined"].includes(e.variant));function B(t,r){var o,i;!e.autofocus||!t||(i=(o=r[0].target)==null?void 0:o.focus)==null||i.call(o)}const g=D(),E=D(),x=D(),J=m(()=>Ie.includes(e.type)||e.persistentPlaceholder||n.value||e.active);function S(){var t;x.value!==document.activeElement&&((t=x.value)==null||t.focus()),n.value||u()}function K(t){p("mousedown:control",t),t.target!==x.value&&(S(),t.preventDefault())}function W(t){S(),p("click:control",t)}function X(t){t.stopPropagation(),S(),U(()=>{s.value=null,ge(e["onClick:clear"],t)})}function Y(t){var o;const r=t.target;if(s.value=r.value,(o=e.modelModifiers)!=null&&o.trim&&["text","search","password","tel","url"].includes(e.type)){const i=[r.selectionStart,r.selectionEnd];U(()=>{r.selectionStart=i[0],r.selectionEnd=i[1]})}}return we(()=>{const t=!!(a.counter||e.counter!==!1&&e.counter!=null),r=!!(t||a.details),[o,i]=ye(c),{modelValue:Ne,...Z}=j.filterProps(e),ee=Ce(e);return l(j,w({ref:g,modelValue:s.value,"onUpdate:modelValue":V=>s.value=V,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":y.value},e.class],style:e.style},o,Z,{centerAffix:!y.value,focused:n.value}),{...a,default:V=>{let{id:k,isDisabled:M,isDirty:z,isReadonly:te,isValid:le}=V;return l(Se,w({ref:E,onMousedown:K,onClick:W,"onClick:clear":X,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},ee,{id:k.value,active:J.value||z.value,dirty:z.value||e.dirty,disabled:M.value,focused:n.value,error:le.value===!1}),{...a,default:ae=>{let{props:{class:L,...se}}=ae;const O=ne(l("input",w({ref:x,value:s.value,onInput:Y,autofocus:e.autofocus,readonly:te.value,disabled:M.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:S,onBlur:v},se,i),null),[[re("intersect"),{handler:B},null,{once:!0}]]);return l(T,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?l("div",{class:L,"data-no-activator":""},[a.default(),O]):oe(O,{class:L}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:r?V=>{var k;return l(T,null,[(k=a.details)==null?void 0:k.call(a,V),t&&l(T,null,[l("span",null,null),l(ke,{active:e.persistentCounter||n.value,value:I.value,max:A.value},a.counter)])])}:void 0})}),he({},g,E,x)}}),H=ue({name:"FSTextField",components:{FSSpan:C,FSCol:G,FSRow:Q},inheritAttrs:!1,props:{label:{type:String,required:!0,default:null},description:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"text"},modelValue:{type:String,required:!1,default:null},color:{type:String,required:!1,default:P.Dark},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e){const{color:f,rules:c,editable:p}=ie(e),a={...de()};delete a.label,delete a.description;const s=_().getColors(f.value),n=_().getColors(P.Error),u=_().getColors(P.Light),v=_().getColors(P.Dark),I=m(()=>p.value?{"--fs-text-field-cursor":"text","--fs-text-field-border-color":s.base,"--fs-text-field-color":v.base,"--fs-text-field-active-border-color":s.dark,"--fs-text-field-error-color":n.base,"--fs-text-field-error-border-color":n.base}:{"--fs-text-field-cursor":"default","--fs-text-field-border-color":u.base,"--fs-text-field-color":u.dark,"--fs-text-field-active-border-color":u.base});return{messages:m(()=>{const y=[];for(const B of c.value){const g=B(e.modelValue??"");typeof g=="string"&&y.push(g)}return y}),slots:a,style:I}}});function Te(e,f,c,p,a,s){return b(),F(G,null,{default:d(()=>[N(e.$slots,"label",{},()=>[l(Q,{wrap:!1},{default:d(()=>[e.$props.label?(b(),F(C,{key:0,class:"fs-text-field-label",font:"text-overline",style:h(e.style)},{default:d(()=>[q(R(e.$props.label),1)]),_:1},8,["style"])):$("",!0),e.$props.label&&e.$props.required?(b(),F(C,{key:1,class:"fs-text-field-label",style:h([{"margin-left":"-8px"},e.style]),font:"text-overline",ellipsis:!1},{default:d(()=>[q(" * ")]),_:1},8,["style"])):$("",!0),l(Ve,{style:{"min-width":"40px"}}),e.messages.length>0?(b(),F(C,{key:2,class:"fs-text-field-messages",font:"text-overline",style:h(e.style)},{default:d(()=>[q(R(e.messages.join(", ")),1)]),_:1},8,["style"])):$("",!0)]),_:1})]),l(De,w({class:"fs-text-field",variant:"outlined","hide-details":"",style:e.style,type:e.$props.type,rules:e.$props.rules,readonly:!e.$props.editable,modelValue:e.$props.modelValue,"onUpdate:modelValue":f[0]||(f[0]=n=>e.$emit("update:modelValue",n))},e.$attrs),fe({_:2},[ce(e.slots,(n,u)=>({name:u,fn:d(v=>[N(e.$slots,u,me(pe(v)))])}))]),1040,["style","type","rules","readonly","modelValue"]),N(e.$slots,"description",{},()=>[e.$props.description?(b(),F(C,{key:0,class:"fs-text-field-description",font:"text-underline",style:h(e.style)},{default:d(()=>[q(R(e.$props.description),1)]),_:1},8,["style"])):$("",!0)])]),_:3})}const He=xe(H,[["render",Te]]);H.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string"},required:!0,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"type",values:["text","password","number"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"text"'}},{name:"modelValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorBase.Dark"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"Function[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"label"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"description"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSTextField.vue"]};export{He as F};
