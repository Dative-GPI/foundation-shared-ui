import{e as y,s as I,j as T,w as z,y as h,c as o,g as _,q as n}from"./vue.esm-bundler-B9lxvfDw.js";import{a as C}from"./color-CLtf7Qrc.js";import{g as O,u as V,m as E}from"./useRender-DM2jvMPN.js";import{n as M,F as U,p as F,G as A,c as B}from"./theme-Bz5xEpqh.js";import{u as $}from"./resizeObserver-DjRdaT-k.js";import{u as D,m as G}from"./VIcon-DPcX_RaC.js";import{m as j}from"./icons-B5bBvhw0.js";function q(e,i){const l=y(),s=I(!1);if(M){const a=new IntersectionObserver(r=>{s.value=!!r.find(t=>t.isIntersecting)},i);T(()=>{a.disconnect()}),z(l,(r,t)=>{t&&(a.unobserve(t),s.value=!1),r&&a.observe(r)},{flush:"post"})}return{intersectionRef:l,isIntersecting:s}}const W=F({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...E(),...G(),...j({tag:"div"}),...A()},"VProgressCircular"),Z=O()({name:"VProgressCircular",props:W(),setup(e,i){let{slots:l}=i;const s=20,a=2*Math.PI*s,r=y(),{themeClasses:t}=U(e),{sizeClasses:b,sizeStyles:m}=D(e),{textColorClasses:S,textColorStyles:k}=C(h(e,"color")),{textColorClasses:w,textColorStyles:p}=C(h(e,"bgColor")),{intersectionRef:x,isIntersecting:R}=q(),{resizeRef:N,contentRect:d}=$(),u=o(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),c=o(()=>Number(e.width)),f=o(()=>m.value?Number(e.size):d.value?d.value.width:Math.max(c.value,32)),v=o(()=>s/(1-c.value/f.value)*2),g=o(()=>c.value/f.value*v.value),P=o(()=>B((100-u.value)/100*a));return _(()=>{x.value=r.value,N.value=r.value}),V(()=>n(e.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":R.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},t.value,b.value,S.value,e.class],style:[m.value,k.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:u.value},{default:()=>[n("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${v.value} ${v.value}`},[n("circle",{class:["v-progress-circular__underlay",w.value],style:p.value,fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":g.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),n("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":g.value,"stroke-dasharray":a,"stroke-dashoffset":P.value},null)]),l.default&&n("div",{class:"v-progress-circular__content"},[l.default({value:u.value})])]})),{}}});export{Z as V,q as u};
