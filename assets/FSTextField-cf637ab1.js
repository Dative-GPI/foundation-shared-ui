import{m as Se,t as Ie,f as m,x as a,W as ae,Z as me,k as q,g as Fe,w as Pe,L as W,C as D,X as $e,_ as Re,Y as oe,n as Y,q as G,v as N,y as J,K as ie,z as ue,A as Z,B as de,G as we,H as Be,I as ke,J as Te}from"./vue.esm-bundler-d10a8528.js";import{C as ce,u as fe,p as M,j as se,c as j,l as U,i as Q,K as ee,s as qe,t as De,b as Le,E as Oe,x as Ae,y as Ne,L as Ee,M as We,D as Me,H as je,N as Ue}from"./VIcon-57787e8c.js";import{F as ne}from"./FSSpan-abccc23b.js";import{_ as pe}from"./FSCol-b1484c92.js";import{_ as ze}from"./_plugin-vue_export-helper-c27b6911.js";import{b as He,c as Ke}from"./index-a10acb8c.js";import{b as Xe,M as Ye,V as Ge,c as Je,u as ge,d as Ze,m as Qe,a as ve}from"./VInput-45446a90.js";import{m as et,a as tt,L as lt}from"./loader-d94ba622.js";import{a as nt,u as at}from"./locale-5c0ffb6b.js";import{m as st,u as rt}from"./rounded-6f26bd38.js";import{n as ot,a as it,s as ut}from"./easing-9998643d.js";const ye=Se({name:"FSTextField",components:{FSSpan:ne,FSCol:pe},inheritAttrs:!1,props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},type:{type:String,required:!1,default:"text"},value:{type:String,required:!1,default:null},color:{type:String,required:!1,default:ce.Dark},required:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!1,default:!0}},emits:["update:value"],setup(e){const{color:s,editable:n}=Ie(e),o=fe().getVariants(s.value),t=fe().getVariants(ce.Dark);return{style:m(()=>({"--fs-text-field-cursor":n.value?"text":"default","--fs-text-field-base-color":n.value?t.base:t.light,"--fs-text-field-dark-color":n.value?o.dark:t.light,"--fs-text-field-base-text":n.value?t.base:t.light}))}}});const dt=M({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...se(),...Xe({transition:{component:He}})},"VCounter"),ct=j()({name:"VCounter",functional:!0,props:dt(),setup(e,s){let{slots:n}=s;const o=m(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return U(()=>a(Ye,{transition:e.transition},{default:()=>[ae(a("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[me,e.active]])]})),{}}});const ft=M({floating:Boolean,...se()},"VFieldLabel"),E=j()({name:"VFieldLabel",props:ft(),setup(e,s){let{slots:n}=s;return U(()=>a(Ge,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),vt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],be=M({appendInnerIcon:Q,bgColor:String,clearable:Boolean,clearIcon:{type:Q,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Q,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>vt.includes(e)},"onClick:clear":ee(),"onClick:appendInner":ee(),"onClick:prependInner":ee(),...se(),...et(),...st(),...qe()},"VField"),he=j()({name:"VField",inheritAttrs:!1,props:{id:String,...Je(),...be()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:n,emit:o,slots:t}=s;const{themeClasses:l}=De(e),{loaderClasses:r}=tt(e),{focusClasses:u,isFocused:d,focus:c,blur:p}=ge(e),{InputIcon:f}=Ze(e),{roundedClasses:I}=rt(e),{rtlClasses:P}=nt(),$=m(()=>e.dirty||e.active),C=m(()=>!e.singleLine&&!!(e.label||t.label)),z=Le(),g=m(()=>e.id||`input-${z}`),H=m(()=>`${g.value}-messages`),L=q(),R=q(),O=q(),i=m(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:h,backgroundColorStyles:x}=Oe(Fe(e,"bgColor")),{textColorClasses:V,textColorStyles:K}=Ae(m(()=>e.error||e.disabled?void 0:$.value&&d.value?e.color:e.baseColor));Pe($,y=>{if(C.value){const v=L.value.$el,_=R.value.$el;requestAnimationFrame(()=>{const S=ot(v),b=_.getBoundingClientRect(),B=b.x-S.x,k=b.y-S.y-(S.height/2-b.height/2),F=b.width/.75,T=Math.abs(F-S.width)>1?{maxWidth:Ne(F)}:void 0,A=getComputedStyle(v),re=getComputedStyle(_),Ce=parseFloat(A.transitionDuration)*1e3||150,Ve=parseFloat(re.getPropertyValue("--v-field-label-scale")),_e=re.getPropertyValue("color");v.style.visibility="visible",_.style.visibility="hidden",it(v,{transform:`translate(${B}px, ${k}px) scale(${Ve})`,color:_e,...T},{duration:Ce,easing:ut,direction:y?"normal":"reverse"}).finished.then(()=>{v.style.removeProperty("visibility"),_.style.removeProperty("visibility")})})}},{flush:"post"});const w=m(()=>({isActive:$,isFocused:d,controlRef:O,blur:p,focus:c}));function X(y){y.target!==document.activeElement&&y.preventDefault()}return U(()=>{var B,k,F;const y=e.variant==="outlined",v=t["prepend-inner"]||e.prependInnerIcon,_=!!(e.clearable||t.clear),S=!!(t["append-inner"]||e.appendInnerIcon||_),b=()=>t.label?t.label({...w.value,label:e.label,props:{for:g.value}}):e.label;return a("div",D({class:["v-field",{"v-field--active":$.value,"v-field--appended":S,"v-field--center-affix":e.centerAffix??!i.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":v,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!b(),[`v-field--variant-${e.variant}`]:!0},l.value,h.value,u.value,r.value,I.value,P.value,e.class],style:[x.value,e.style],onClick:X},n),[a("div",{class:"v-field__overlay"},null),a(lt,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),v&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(f,{key:"prepend-icon",name:"prependInner"},null),(B=t["prepend-inner"])==null?void 0:B.call(t,w.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&C.value&&a(E,{key:"floating-label",ref:R,class:[V.value],floating:!0,for:g.value,style:K.value},{default:()=>[b()]}),a(E,{ref:L,for:g.value},{default:()=>[b()]}),(k=t.default)==null?void 0:k.call(t,{...w.value,props:{id:g.value,class:"v-field__input","aria-describedby":H.value},focus:c,blur:p})]),_&&a(Ke,{key:"clear"},{default:()=>[ae(a("div",{class:"v-field__clearable",onMousedown:T=>{T.preventDefault(),T.stopPropagation()}},[t.clear?t.clear():a(f,{name:"clear"},null)]),[[me,e.dirty]])]}),S&&a("div",{key:"append",class:"v-field__append-inner"},[(F=t["append-inner"])==null?void 0:F.call(t,w.value),e.appendInnerIcon&&a(f,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",V.value],style:K.value},[y&&a(W,null,[a("div",{class:"v-field__outline__start"},null),C.value&&a("div",{class:"v-field__outline__notch"},[a(E,{ref:R,floating:!0,for:g.value},{default:()=>[b()]})]),a("div",{class:"v-field__outline__end"},null)]),i.value&&C.value&&a(E,{ref:R,floating:!0,for:g.value},{default:()=>[b()]})])])}),{controlRef:O}}});function mt(e){const s=Object.keys(he.props).filter(n=>!Ee(n)&&n!=="class"&&n!=="style");return We(e,s)}const te=Symbol("Forwarded refs");function le(e,s){let n=e;for(;n;){const o=Reflect.getOwnPropertyDescriptor(n,s);if(o)return o;n=Object.getPrototypeOf(n)}}function pt(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];return e[te]=n,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const r of n)if(r.value&&Reflect.has(r.value,l)){const u=Reflect.get(r.value,l);return typeof u=="function"?u.bind(r.value):u}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const r of n)if(r.value&&Reflect.has(r.value,l))return!0;return!1},set(t,l,r){if(Reflect.has(t,l))return Reflect.set(t,l,r);if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const u of n)if(u.value&&Reflect.has(u.value,l))return Reflect.set(u.value,l,r);return!1},getOwnPropertyDescriptor(t,l){var u;const r=Reflect.getOwnPropertyDescriptor(t,l);if(r)return r;if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const d of n){if(!d.value)continue;const c=le(d.value,l)??("_"in d.value?le((u=d.value._)==null?void 0:u.setupState,l):void 0);if(c)return c}for(const d of n){const c=d.value&&d.value[te];if(!c)continue;const p=c.slice();for(;p.length;){const f=p.shift(),I=le(f.value,l);if(I)return I;const P=f.value&&f.value[te];P&&p.push(...P)}}}}})}function gt(e,s){if(!Me)return;const n=s.modifiers||{},o=s.value,{handler:t,options:l}=typeof o=="object"?o:{handler:o,options:{}},r=new IntersectionObserver(function(){var f;let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;const c=(f=e._observe)==null?void 0:f[s.instance.$.uid];if(!c)return;const p=u.some(I=>I.isIntersecting);t&&(!n.quiet||c.init)&&(!n.once||p||c.init)&&t(p,u,d),p&&n.once?xe(e,s):c.init=!0},l);e._observe=Object(e._observe),e._observe[s.instance.$.uid]={init:!1,observer:r},r.observe(e)}function xe(e,s){var o;const n=(o=e._observe)==null?void 0:o[s.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[s.instance.$.uid])}const yt={mounted:gt,unmounted:xe},bt=yt,ht=["color","file","time","date","datetime-local","week","month"],xt=M({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Qe(),...be()},"VTextField"),Ct=j()({name:"VTextField",directives:{Intersect:bt},inheritAttrs:!1,props:xt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:n,emit:o,slots:t}=s;const l=at(e,"modelValue"),{isFocused:r,focus:u,blur:d}=ge(e),c=m(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),p=m(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=m(()=>["plain","underlined"].includes(e.variant));function I(i,h){var x,V;!e.autofocus||!i||(V=(x=h[0].target)==null?void 0:x.focus)==null||V.call(x)}const P=q(),$=q(),C=q(),z=m(()=>ht.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function g(){var i;C.value!==document.activeElement&&((i=C.value)==null||i.focus()),r.value||u()}function H(i){o("mousedown:control",i),i.target!==C.value&&(g(),i.preventDefault())}function L(i){g(),o("click:control",i)}function R(i){i.stopPropagation(),g(),oe(()=>{l.value=null,Ue(e["onClick:clear"],i)})}function O(i){var x;const h=i.target;if(l.value=h.value,(x=e.modelModifiers)!=null&&x.trim&&["text","search","password","tel","url"].includes(e.type)){const V=[h.selectionStart,h.selectionEnd];oe(()=>{h.selectionStart=V[0],h.selectionEnd=V[1]})}}return U(()=>{const i=!!(t.counter||e.counter!==!1&&e.counter!=null),h=!!(i||t.details),[x,V]=je(n),{modelValue:K,...w}=ve.filterProps(e),X=mt(e);return a(ve,D({ref:P,modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":f.value},e.class],style:e.style},x,w,{centerAffix:!f.value,focused:r.value}),{...t,default:y=>{let{id:v,isDisabled:_,isDirty:S,isReadonly:b,isValid:B}=y;return a(he,D({ref:$,onMousedown:H,onClick:L,"onClick:clear":R,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},X,{id:v.value,active:z.value||S.value,dirty:S.value||e.dirty,disabled:_.value,focused:r.value,error:B.value===!1}),{...t,default:k=>{let{props:{class:F,...T}}=k;const A=ae(a("input",D({ref:C,value:l.value,onInput:O,autofocus:e.autofocus,readonly:b.value,disabled:_.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:d},T,V),null),[[$e("intersect"),{handler:I},null,{once:!0}]]);return a(W,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?a("div",{class:F,"data-no-activator":""},[t.default(),A]):Re(A,{class:F}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:h?y=>{var v;return a(W,null,[(v=t.details)==null?void 0:v.call(t,y),i&&a(W,null,[a("span",null,null),a(ct,{active:e.persistentCounter||r.value,value:c.value,max:p.value},t.counter)])])}:void 0})}),pt({},P,$,C)}});function Vt(e,s,n,o,t,l){return Y(),G(pe,null,{default:N(()=>[J(e.$slots,"label",{},()=>[e.$props.label?(Y(),G(ne,{key:0,class:"fs-text-field-label",font:"text-overline",style:ie(e.style)},{default:N(()=>[ue(Z(e.$props.label)+Z(e.$props.required?"*":""),1)]),_:1},8,["style"])):de("",!0)]),a(Ct,D({class:"fs-text-field",variant:"outlined","hide-details":"",style:e.style,type:e.$props.type,readonly:!e.$props.editable,modelValue:e.$props.value,"onUpdate:modelValue":s[0]||(s[0]=r=>e.$emit("update:value",r))},e.$attrs),we({_:2},[Be(e.$slots,(r,u)=>({name:u,fn:N(d=>[J(e.$slots,u,ke(Te(d)))])}))]),1040,["style","type","readonly","modelValue"]),J(e.$slots,"description",{},()=>[e.$props.description?(Y(),G(ne,{key:0,class:"fs-text-field-description",font:"text-underline",style:ie(e.style)},{default:N(()=>[ue(Z(e.$props.description),1)]),_:1},8,["style"])):de("",!0)])]),_:3})}const qt=ze(ye,[["render",Vt]]);ye.__docgenInfo={displayName:"FSTextField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"type",values:["text","password","number"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"text"'}},{name:"value",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorBase.Dark"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:value"}],slots:[{name:"label"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"description"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSTextField.vue"]};export{qt as F};
