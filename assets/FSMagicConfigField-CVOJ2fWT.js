import{d as y,c as f,y as r,z as p,A as c,B as o,k as T,I as u}from"./vue.esm-bundler-DC82FEWN.js";import{M as a,u as S}from"./useMagicFieldProvider-C9d6eynm.js";import{F as V,a as $}from"./FSButtonAddIcon-dbiODiON.js";import{F as q}from"./FSTranslateField-CPbGoBUg.js";import{_ as i}from"./FSRow-DoCXWKDP.js";import{b as k,I,D,T as w,N as C}from"./rules-DlyQ2XjG.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F=y({name:"FSMagicConfigField",components:{FSButtonRemoveIcon:V,FSTranslateField:q,FSButtonAddIcon:$,FSRow:i},props:{type:{type:Number,required:!1,default:a.TextField},labelDefault:{type:String,required:!1,default:null},value:{type:String,required:!1,default:null},translations:{type:Array,required:!1,default:()=>[]},editable:{type:Boolean,required:!1,default:!0}},emits:["click:remove","click:add","update:value","update:labelDefault","update:translations"],setup(e,{emit:l}){const{get:s}=S(),d=f(()=>{switch(e.type){case a.NumberField:return[C.required()];case a.TextField:return[w.required()];case a.DateTimeField:return[D.required()];case a.IconField:return[I.required()];case a.TimeField:return[k.required()]}return[]}),m=f(()=>{switch(e.type){case a.NumberField:case a.DateTimeField:case a.TimeField:return e.value==null||isNaN(parseFloat(e.value))?null:parseFloat(e.value);case a.Switch:return e.value==null?null:e.value==="true";default:return e.value}});return{MagicFieldType:a,valueToInput:m,rules:d,inputToValue:t=>{switch(e.type){case a.NumberField:case a.Switch:case a.DateTimeField:case a.TimeField:if(t==null){l("update:value",null);break}l("update:value",t.toString());break;default:l("update:value",t);break}},get:s}}});function B(e,l,s,d,m,g){const t=r("FSTranslateField"),v=r("FSButtonRemoveIcon"),b=r("FSButtonAddIcon");return p(),c(i,null,{default:o(()=>[(p(),c(T(e.get(e.$props.type)),{class:"fs-magic-config-field-value",label:e.$tr("ui.magic-config-field.value","Value"),editable:e.$props.editable,required:!0,rules:e.rules,modelValue:e.valueToInput,"onUpdate:modelValue":e.inputToValue},null,8,["label","editable","rules","modelValue","onUpdate:modelValue"])),u(i,{gap:"24px"},{default:o(()=>[u(t,{label:e.$tr("ui.magic-config-field.label","Label"),editable:e.$props.editable,modelValue:e.$props.labelDefault,translations:e.$props.translations,"onUpdate:modelValue":l[0]||(l[0]=n=>e.$emit("update:labelDefault",n)),"onUpdate:translations":l[1]||(l[1]=n=>e.$emit("update:translations",n))},null,8,["label","editable","modelValue","translations"]),u(i,{class:"fs-magic-config-field-actions",width:"hug",wrap:!1},{default:o(()=>[u(v,{onClick:l[2]||(l[2]=n=>e.$emit("click:remove"))}),u(b,{onClick:l[3]||(l[3]=n=>e.$emit("click:add"))})]),_:1})]),_:1})]),_:1})}const P=N(F,[["render",B]]);F.__docgenInfo={displayName:"FSMagicConfigField",exportName:"default",description:"",tags:{},props:[{name:"type",type:{name:"MagicFieldType"},required:!1,defaultValue:{func:!1,value:"MagicFieldType.TextField"}},{name:"labelDefault",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"value",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"translations",type:{name:"{ languageCode: string; label: string }[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:labelDefault"},{name:"update:translations"},{name:"click:remove"},{name:"click:add"},{name:"update:value"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSMagicConfigField.vue"]};export{P as F};
