var U=Object.defineProperty;var R=(o,t,l)=>t in o?U(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l;var i=(o,t,l)=>R(o,typeof t!="symbol"?t+"":t,l);import{d as E,c as O,o as z,w as W,y as m,z as p,A as f,M as G,N as V,B as s,m as A,I,J as _,K as T,L as a,E as b,D as F}from"./vue.esm-bundler-Vj2X7okO.js";import{_ as j}from"./lodash-BiW_TGGX.js";import{F as J}from"./FSDataTable-BTMRZtYS.js";import{F as K}from"./FSMetaValue-BJK91xXV.js";import{F as H}from"./FSImage-C2ooQW7b.js";import{F as Q}from"./FSTagGroup-DN-ANLxP.js";import{F as X}from"./FSIconCheck-BVkehq5_.js";import{a as Y,F as Z,b as x,C as w}from"./FSDeviceOrganisationTileUI-BQ87eJSL.js";import{F as ee}from"./FSStatusesCarousel-D-qAUXGv.js";import{C as te}from"./base-Cf5ASDDk.js";import{S as oe}from"./serviceFactory-Bd5jifNi.js";import{C as ie}from"./composableFactory-B0937_6N.js";import{u as re}from"./useDeviceOrganisations-Dek27rk2.js";import{a as D}from"./customProperties-DqkON8hk.js";import{a as P}from"./FSDataTableUI-CRQD7kcl.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as $}from"./FSCol-Bk577joi.js";import{_ as M}from"./FSIcon-CNrZYw3j.js";import"./_commonjsHelpers-BosuxZz1.js";import"./VImg-iJp2dxPS.js";import"./css-CbCR1nbl.js";import"./useColors-ClGgFu9Q.js";import"./index-DfSX31J9.js";import"./theme-DqOMA9k1.js";import"./color-Dk23S21P.js";import"./dimensions-CBrtQk_X.js";import"./elevation-DH7kyzD7.js";import"./locale-CMOn_BOp.js";import"./rounded-B-50KYhN.js";import"./transition-Cs7QtK7U.js";import"./index-DQeMThUY.js";import"./FSRow-BuYwVvwM.js";import"./VSpacer-BJ2TWwuy.js";import"./FSFadeOut-CORcN4YC.js";import"./uuid-DTaye2KM.js";import"./useAppTimeZone-ghwi0HtC.js";import"./FSText-CWxdqVl0.js";import"./useSlots-DXmhvOIb.js";import"./useDateFormat-DZcIDWp6.js";import"./datesTools-RiUw1NMp.js";import"./useTranslations-DyPMaPr_.js";import"./useAppLanguageCode-Dd4JQvnz.js";import"./FSImageUI-CbS1ss7O.js";import"./base-CmdGny12.js";import"./FSWrapGroup-DNGL2TLb.js";import"./FSSlideGroup-CaV4GRaB.js";import"./FSButton-BeXPz3qD.js";import"./FSClickable-B6i4bUTy.js";import"./FSCard-IkM7vPXg.js";import"./VProgressCircular-BALYDMME.js";import"./tag-BDy8Psij.js";import"./FSSpan-etgUZXmX.js";import"./index-7QBgy7JM.js";import"./display-B4Z--0w1.js";import"./group-CT1H1YXM.js";import"./proxiedModel-CZPY81Tp.js";import"./VIcon-Dc5M3VhK.js";import"./FSTag-CddFq-0w.js";import"./VBtn-8V3HVfv8.js";import"./border-BD8WTLKh.js";import"./density-BWgXlOb-.js";import"./loader-DsDTT_wf.js";import"./anchor-J8DF-zwD.js";import"./router-DPbzaFf1.js";import"./index-BN7Lbnw3.js";import"./VDefaultsProvider-3kZaGa5j.js";import"./FSChip-c4zDvu8x.js";import"./VMenu-BOpQjLNS.js";import"./VOverlay-Dml741yE.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-Ceu0wY4v.js";import"./FSDivider-CJ8R3g7K.js";import"./FSTile-ChDO9HHG.js";import"./FSCheckbox-BNEUzkt_.js";import"./useRules-DpnTqc7T.js";import"./VSelectionControl-BYXKZDmZ.js";import"./VLabel-CtKTiIK0.js";import"./VInput-CifUC8kS.js";import"./form-BN2rR47-.js";import"./FSWindow-BXqAPvoy.js";import"./ssrBoot-D42UTWSS.js";import"./FSColor-Cu2RLHbq.js";import"./useAppOrganisationId-Cm3pwMtR.js";import"./pathCrumb-Db-cq5HI.js";import"./vue-router-Cn9ishJ4.js";import"./FSSearchField-D_cdyx7b.js";import"./FSTextField-CMP-67X5.js";import"./FSBaseField-Uq_chVlu.js";import"./VField-C1LOclAH.js";import"./FSSelectField-COuX4_2X.js";import"./FSDialogMenu-DJMBxSqq.js";import"./VDialog-skjiTtId.js";import"./FSToggleSet-BQSY5XEo.js";import"./FSRadio-CMU-kDTj.js";import"./VList-6ZTQMrmw.js";import"./VSelect-C_IVisdW.js";import"./FSOptionGroup-aO3arvhV.js";import"./filter-KqM1uUBX.js";class ne{constructor(t){i(this,"priority");i(this,"filterType");i(this,"filterValues");i(this,"color");this.priority=t.priority,this.filterType=t.filterType,this.filterValues=t.filterValues.slice(),this.color=t.color}}class q{constructor(t){i(this,"id");i(this,"code");i(this,"label");i(this,"categoryLabel");i(this,"index");i(this,"entity");i(this,"dataType");i(this,"addInInfos");i(this,"readOnlyCore");i(this,"readOnlyAdmin");i(this,"defaultValue");i(this,"history");i(this,"historySize");i(this,"colorful");i(this,"colorMap");i(this,"useOnlyAllowedValues");i(this,"allowedValues");this.id=t.id,this.code=t.code,this.label=t.label,this.categoryLabel=t.categoryLabel,this.index=t.index,this.entity=t.entity,this.dataType=t.dataType,this.addInInfos=t.addInInfos,this.readOnlyCore=t.readOnlyCore,this.readOnlyAdmin=t.readOnlyAdmin,this.defaultValue=t.defaultValue,this.history=t.history,this.historySize=t.historySize,this.colorful=t.colorful,this.colorMap=t.colorMap.map(l=>new ne(l)),this.useOnlyAllowedValues=t.useOnlyAllowedValues,this.allowedValues={...t.allowedValues}}}class ae extends q{constructor(t){super(t)}}const le=()=>`${te()}/custom-properties`,me=new oe("customProperty",ae).create(o=>o.build(o.addGetMany(le,q),o.addNotify())),ce=ie.getMany(me),L=E({name:"FSBaseDeviceOrganisationsList",components:{FSConnectivity:Y,FSDataTable:J,FSDeviceOrganisationTileUI:Z,FSIconCheck:X,FSImage:H,FSMetaValue:K,FSStatusesCarousel:ee,FSTagGroup:Q,FSWorstAlert:x},props:{modelValue:{type:Array,default:()=>[],required:!1},deviceOrganisationFilters:{type:Object,required:!1,default:null},connectedOnly:{type:Boolean,required:!1,default:!1},itemTo:{type:Function,required:!1},singleSelect:{type:Boolean,required:!1,default:!1},tableCode:{type:String,required:!0}},emits:["update:modelValue"],setup(o){const{fetching:t,entities:l,getMany:h}=ce(),{entities:y,fetching:C,getMany:v}=re(),u=O(()=>o.connectedOnly?y.value.filter(r=>r.connectivity!=null&&r.connectivity.status!=w.None):y.value),S=O(()=>({connectable:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status),connectivity:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status)})),g=r=>o.modelValue.includes(r);return z(()=>{h({entities:[D.Device,D.DeviceOrganisation]})}),W(()=>o.deviceOrganisationFilters,(r,n)=>{(!r&&!n||!j.isEqual(r,n))&&v(o.deviceOrganisationFilters)},{immediate:!0}),{fetchingDeviceOrganisations:C,fecthingCustomProperties:t,deviceOrganisations:u,ConnectivityStatus:w,customProperties:l,customSorts:S,isSelected:g}}});function ue(o,t,l,h,y,C){const v=m("FSImage"),u=m("FSConnectivity"),S=m("FSIconCheck"),g=m("FSTagGroup"),r=m("FSWorstAlert"),n=m("FSStatusesCarousel"),N=m("FSMetaValue"),k=m("FSDeviceOrganisationTileUI"),B=m("FSDataTable");return p(),f(B,A({items:o.deviceOrganisations,customSorts:o.customSorts,itemTo:o.$props.itemTo,tableCode:o.$props.tableCode,modelValue:o.$props.modelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>o.$emit("update:modelValue",e))},o.$attrs),G({"header.connectable-title":s(()=>[a(M,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"header.connectivity-title":s(()=>[a(M,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"item.imageId":s(({item:e})=>[e.imageId?(p(),f(v,{key:0,height:"32px",width:"32px",imageId:e.imageId},null,8,["imageId"])):F("",!0)]),"item.connectable":s(({item:e})=>[a($,null,{default:s(()=>[e.connectivity.status!=o.ConnectivityStatus.None?(p(),f(u,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):F("",!0)]),_:2},1024)]),"item.connectivity":s(({item:e})=>[a($,null,{default:s(()=>[e.connectivity.status!=o.ConnectivityStatus.None?(p(),f(u,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):F("",!0)]),_:2},1024)]),"item.unrestricted":s(({item:e})=>[a(S,{value:e.unrestricted},null,8,["value"])]),"item.tags":s(({item:e})=>[a(g,{variant:"slide",editable:!1,tags:e.tags},null,8,["tags"])]),"item.worstAlert":s(({item:e})=>[a(r,{deviceAlerts:e.alerts,deviceAlert:e.worstAlert},null,8,["deviceAlerts","deviceAlert"])]),"item.alerts":s(({item:e})=>[a(r,{deviceAlerts:e.alerts.length,deviceAlert:e.worstAlert},null,8,["deviceAlerts","deviceAlert"])]),"item.status":s(({item:e})=>[a(n,{modelStatuses:e.modelStatuses,deviceStatuses:e.status.statuses},null,8,["modelStatuses","deviceStatuses"])]),"item.actions":s(({item:e})=>[I(o.$slots,"actions",_(T({item:e})))]),"item.tile":s(({item:e,toggleSelect:c})=>[a(k,A(e,{modelValue:o.isSelected(e.id),singleSelect:o.singleSelect,deviceStatuses:e.status.statuses,deviceConnectivity:e.connectivity,deviceWorstAlert:e.worstAlert,deviceAlerts:e.alerts,to:o.$props.itemTo&&o.$props.itemTo(e),"onUpdate:modelValue":d=>c(e)}),null,16,["modelValue","singleSelect","deviceStatuses","deviceConnectivity","deviceWorstAlert","deviceAlerts","to","onUpdate:modelValue"])]),_:2},[V(o.$slots,(e,c)=>({name:c,fn:s(d=>[I(o.$slots,c,_(T(d)))])})),V(o.customProperties,(e,c)=>({name:`item.meta.${e.code}`,fn:s(({item:d})=>[a(N,{customProperty:e,meta:d.meta},null,8,["customProperty","meta"])])}))]),1040,["items","customSorts","itemTo","tableCode","modelValue"])}const io=se(L,[["render",ue]]);L.__docgenInfo={displayName:"FSBaseDeviceOrganisationsList",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"deviceOrganisationFilters",type:{name:"DeviceOrganisationFilters"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"connectedOnly",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"itemTo",type:{name:"(item: DeviceOrganisationInfos) => Partial<RouteLocation>"},required:!1},{name:"singleSelect",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"tableCode",type:{name:"string"},required:!0}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"actions",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/lists/deviceOrganisations/FSBaseDeviceOrganisationsList.vue"]};export{io as default};
