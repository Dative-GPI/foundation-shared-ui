import{d as y,b as p,c as f,w as R,z as k,H as F,C as m,P as t,G as c,A as B,B as A,Q as w,m as P,F as U,L as b,M as L,N as H}from"./vue.esm-bundler-CM4TIH-Q.js";import{F as N}from"./FSDialogSubmit-CasSXhZ5.js";import{F as E}from"./FSCalendarTwin-BtHAEWbh.js";import{F as M}from"./FSClock-h7Fdf4ly.js";import{F as V}from"./FSCol-Be93XvPD.js";import{_ as S}from"./FSRow-C47sfGk6.js";import{C as g}from"./useColors-CjA2D2xA.js";import{u as O}from"./useAppTimeZone-CP1Ic-gf.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as C}from"./FSTextField-DAhSqlNI.js";import{F as q}from"./FSButton-CnIlx-fc.js";import{u as z}from"./useDateFormat-hcE1Scoo.js";import{u as I}from"./useRules-B12Yr5ve.js";const D=y({name:"FSDateTimeRangeDialog",components:{FSDialogSubmit:N,FSCalendarTwin:E,FSClock:M,FSCol:V,FSRow:S},props:{label:{type:String,required:!1,default:null},modelValue:{type:Array,required:!1,default:()=>null},color:{type:String,required:!1,default:g.Primary},dialog:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","cancel"],setup(e,{emit:a}){const{getUserOffset:d}=O(),l=p(null),r=p(0),o=p(0),s=f(()=>l.value&&Array.isArray(l.value)&&l.value.length?l.value[0]:null),u=f(()=>l.value&&Array.isArray(l.value)&&l.value.length>1?l.value[1]:null),i=f(()=>!!l.value&&Array.isArray(l.value)&&l.value.length>1&&l.value[0]+o.value<l.value[1]+r.value),n=()=>{if(e.modelValue&&Array.isArray(e.modelValue))switch(e.modelValue.length){case 0:break;case 1:{o.value=Math.floor((e.modelValue[0]+d(e.modelValue[0]))%(24*60*60*1e3)),l.value=[e.modelValue[0]-o.value];break}default:{o.value=Math.floor((e.modelValue[0]+d(e.modelValue[0]))%(24*60*60*1e3)),r.value=Math.floor((e.modelValue[1]+d(e.modelValue[1]))%(24*60*60*1e3)),l.value=[e.modelValue[0]-o.value,e.modelValue[1]-r.value];break}}else l.value=null,o.value=0,r.value=0};return R(()=>e.modelValue,()=>{n()},{immediate:!0}),{valid:i,innerDateLeft:s,innerTimeLeft:o,innerDateRight:u,innerTimeRight:r,innerDateRange:l,ColorEnum:g,onSubmit:()=>{if(i.value){a("update:modelValue",[l.value[0]+o.value,l.value[1]+r.value]);return}}}}});function j(e,a,d,l,r,o){const s=c("FSCalendarTwin"),u=c("FSClock"),i=c("FSDialogSubmit");return F(),k(i,{title:e.$props.label,submitButtonColor:e.$props.color,modelValue:e.$props.dialog,disabled:!e.valid,"onUpdate:modelValue":a[3]||(a[3]=n=>e.$emit("cancel")),"onClick:submitButton":e.onSubmit},{body:m(()=>[t(V,null,{default:m(()=>[t(s,{color:e.$props.color,modelValue:e.innerDateRange,"onUpdate:modelValue":a[0]||(a[0]=n=>e.innerDateRange=n)},null,8,["color","modelValue"]),t(S,null,{default:m(()=>[t(V,null,{default:m(()=>[t(u,{color:e.$props.color,date:e.innerDateLeft,modelValue:e.innerTimeLeft,"onUpdate:modelValue":a[1]||(a[1]=n=>e.innerTimeLeft=n)},null,8,["color","date","modelValue"])]),_:1}),t(V,null,{default:m(()=>[t(u,{color:e.$props.color,date:e.innerDateRight,modelValue:e.innerTimeRight,"onUpdate:modelValue":a[2]||(a[2]=n=>e.innerTimeRight=n)},null,8,["color","date","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","submitButtonColor","modelValue","disabled","onClick:submitButton"])}const G=$(D,[["render",j]]);D.__docgenInfo={displayName:"FSDateTimeRangeDialog",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"number[] | null"},required:!1,defaultValue:{func:!0,value:"() => null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}},{name:"dialog",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"cancel"},{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSDateTimeRangeDialog.vue"]};const h=y({name:"FSDateTimeRangeField",components:{FSDateTimeRangeDialog:G,FSTextField:C,FSButton:q},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},modelValue:{type:Array,required:!1,default:()=>null},color:{type:String,required:!1,default:g.Primary},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},disabled:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const{epochToShortTimeFormat:d}=z(),{validateOn:l,getMessages:r}=I(),o=p(!1),s=f(()=>!e.modelValue||!Array.isArray(e.modelValue)||!e.modelValue.length?"":e.modelValue.map(v=>d(v)).join(" - ")),u=f(()=>r(e.modelValue,e.rules,!0));return{toShortTimeFormat:s,validateOn:l,ColorEnum:g,messages:u,dialog:o,onSubmit:v=>{a("update:modelValue",v),o.value=!1},onClear:()=>{a("update:modelValue",null)},onClick:()=>{e.disabled||(o.value=!0)}}}});function Q(e,a,d,l,r,o){const s=c("FSDateTimeRangeDialog");return F(),B(U,null,[t(C,P({class:"fs-date-field",label:e.$props.label,description:e.$props.description,color:e.$props.color,hideHeader:e.$props.hideHeader,required:e.$props.required,disabled:e.$props.disabled,readonly:!0,rules:e.$props.rules,messages:e.messages,validateOn:e.validateOn,validationValue:e.$props.modelValue,modelValue:e.toShortTimeFormat,onClick:e.onClick,"onUpdate:modelValue":e.onClear},e.$attrs),A({"prepend-inner":m(()=>[b(e.$slots,"prepend-inner",{},()=>[t(q,{variant:"icon",icon:"mdi-calendar",disabled:e.$props.disabled,color:e.ColorEnum.Dark},null,8,["disabled","color"])])]),_:2},[w(e.$slots,(u,i)=>({name:i,fn:m(n=>[b(e.$slots,i,L(H(n)))])}))]),1040,["label","description","color","hideHeader","required","disabled","rules","messages","validateOn","validationValue","modelValue","onClick","onUpdate:modelValue"]),t(s,{title:e.$props.label,submitButtonColor:e.$props.color,dialog:e.dialog,modelValue:e.$props.modelValue,color:e.$props.color,onCancel:a[0]||(a[0]=u=>e.dialog=!1),"onUpdate:modelValue":a[1]||(a[1]=u=>e.onSubmit(u))},null,8,["title","submitButtonColor","dialog","modelValue","color"])],64)}const re=$(h,[["render",Q]]);h.__docgenInfo={displayName:"FSDateTimeRangeField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"number[] | null"},required:!1,defaultValue:{func:!0,value:"() => null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"disabled",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}}],events:[{name:"update:modelValue"}],slots:[{name:"prepend-inner"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSDateTimeRangeField.vue"]};export{re as F,G as a};
