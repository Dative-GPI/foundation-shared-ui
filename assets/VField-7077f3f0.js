import{f as U,d as h,j as o,z as a,A as q,a4 as W,E as le,w as te,F as ne,x as ie}from"./vue.esm-bundler-0a1af505.js";import{b as se,c as oe}from"./index-9b6ba610.js";import{m as w,g as R,u as T}from"./useRender-76465e3d.js";import{m as re,M as de}from"./transition-afc70ddd.js";import{p as A,Q as L,x as ue,y as ce,q as fe,e as ve,R as me,N as ge}from"./theme-8d83670f.js";import{a as be,e as ye,u as Ce,f as he}from"./VInput-4e45c526.js";import{b as pe,u as ke}from"./color-84472fbe.js";import{I as $}from"./tag-6ffe4ba6.js";import{m as _e,u as Ie,L as xe}from"./loader-6b458036.js";import{a as Ve}from"./locale-d3181d48.js";import{m as Fe,u as Pe}from"./rounded-caec20b0.js";import{n as Se,a as Be,s as Le}from"./forwardRefs-e658ad70.js";const Ye=()=>{const e=U("validateOn",h("input")),n=U("submitted",h(!1)),t=h(!1),b=o(()=>{switch(e.value){case"submit":return n.value?"input":"submit";case"blur":return t.value?"input":"blur";case"input":return"input"}});return{validateOn:b,blurred:t,getMessages:(u,c,B=!1)=>{if(!c||!c.length)return[];switch(b.value){case"submit":if(!n.value)return[];break;case"blur":if(!t.value)return[];break}const f=[];if(B)if(u&&Array.isArray(u))for(const r of u)for(const i of c){const y=i(r);typeof y=="string"&&f.push(y)}else for(const r of c){const i=r(u??"");typeof i=="string"&&f.push(i)}else for(const r of c){const i=r(u??"");typeof i=="string"&&f.push(i)}return[...new Set(f)]}}};const $e=A({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...w(),...re({transition:{component:se}})},"VCounter"),Ge=R()({name:"VCounter",functional:!0,props:$e(),setup(e,n){let{slots:t}=n;const b=o(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return T(()=>a(de,{transition:e.transition},{default:()=>[q(a("div",{class:["v-counter",e.class],style:e.style},[t.default?t.default({counter:b.value,max:e.max,value:e.value}):b.value]),[[W,e.active]])]})),{}}});const we=A({floating:Boolean,...w()},"VFieldLabel"),S=R()({name:"VFieldLabel",props:we(),setup(e,n){let{slots:t}=n;return T(()=>a(be,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),Re=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Te=A({appendInnerIcon:$,bgColor:String,clearable:Boolean,clearIcon:{type:$,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:$,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Re.includes(e)},"onClick:clear":L(),"onClick:appendInner":L(),"onClick:prependInner":L(),...w(),..._e(),...Fe(),...ue()},"VField"),Ae=R()({name:"VField",inheritAttrs:!1,props:{id:String,...ye(),...Te()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:t,emit:b,slots:l}=n;const{themeClasses:u}=ce(e),{loaderClasses:c}=Ie(e),{focusClasses:B,isFocused:f,focus:r,blur:i}=Ce(e),{InputIcon:y}=he(e),{roundedClasses:z}=Pe(e),{rtlClasses:Q}=Ve(),k=o(()=>e.dirty||e.active),_=o(()=>!e.singleLine&&!!(e.label||l.label)),X=fe(),v=o(()=>e.id||`input-${X}`),Y=o(()=>`${v.value}-messages`),O=h(),I=h(),E=h(),M=o(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:G,backgroundColorStyles:H}=pe(le(e,"bgColor")),{textColorClasses:D,textColorStyles:N}=ke(o(()=>e.error||e.disabled?void 0:k.value&&f.value?e.color:e.baseColor));te(k,C=>{if(_.value){const d=O.value.$el,m=I.value.$el;requestAnimationFrame(()=>{const g=Se(d),s=m.getBoundingClientRect(),V=s.x-g.x,F=s.y-g.y-(g.height/2-s.height/2),p=s.width/.75,P=Math.abs(p-g.width)>1?{maxWidth:ve(p)}:void 0,K=getComputedStyle(d),j=getComputedStyle(m),Z=parseFloat(K.transitionDuration)*1e3||150,ee=parseFloat(j.getPropertyValue("--v-field-label-scale")),ae=j.getPropertyValue("color");d.style.visibility="visible",m.style.visibility="hidden",Be(d,{transform:`translate(${V}px, ${F}px) scale(${ee})`,color:ae,...P},{duration:Z,easing:Le,direction:C?"normal":"reverse"}).finished.then(()=>{d.style.removeProperty("visibility"),m.style.removeProperty("visibility")})})}},{flush:"post"});const x=o(()=>({isActive:k,isFocused:f,controlRef:E,blur:i,focus:r}));function J(C){C.target!==document.activeElement&&C.preventDefault()}return T(()=>{var V,F,p;const C=e.variant==="outlined",d=l["prepend-inner"]||e.prependInnerIcon,m=!!(e.clearable||l.clear),g=!!(l["append-inner"]||e.appendInnerIcon||m),s=()=>l.label?l.label({...x.value,label:e.label,props:{for:v.value}}):e.label;return a("div",ie({class:["v-field",{"v-field--active":k.value,"v-field--appended":g,"v-field--center-affix":e.centerAffix??!M.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":d,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!s(),[`v-field--variant-${e.variant}`]:!0},u.value,G.value,B.value,c.value,z.value,Q.value,e.class],style:[H.value,e.style],onClick:J},t),[a("div",{class:"v-field__overlay"},null),a(xe,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),d&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(y,{key:"prepend-icon",name:"prependInner"},null),(V=l["prepend-inner"])==null?void 0:V.call(l,x.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&_.value&&a(S,{key:"floating-label",ref:I,class:[D.value],floating:!0,for:v.value,style:N.value},{default:()=>[s()]}),a(S,{ref:O,for:v.value},{default:()=>[s()]}),(F=l.default)==null?void 0:F.call(l,{...x.value,props:{id:v.value,class:"v-field__input","aria-describedby":Y.value},focus:r,blur:i})]),m&&a(oe,{key:"clear"},{default:()=>[q(a("div",{class:"v-field__clearable",onMousedown:P=>{P.preventDefault(),P.stopPropagation()}},[l.clear?l.clear():a(y,{name:"clear"},null)]),[[W,e.dirty]])]}),g&&a("div",{key:"append",class:"v-field__append-inner"},[(p=l["append-inner"])==null?void 0:p.call(l,x.value),e.appendInnerIcon&&a(y,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",D.value],style:N.value},[C&&a(ne,null,[a("div",{class:"v-field__outline__start"},null),_.value&&a("div",{class:"v-field__outline__notch"},[a(S,{ref:I,floating:!0,for:v.value},{default:()=>[s()]})]),a("div",{class:"v-field__outline__end"},null)]),M.value&&_.value&&a(S,{ref:I,floating:!0,for:v.value},{default:()=>[s()]})])])}),{controlRef:E}}});function He(e){const n=Object.keys(Ae.props).filter(t=>!me(t)&&t!=="class"&&t!=="style");return ge(e,n)}export{Ae as V,Ge as a,He as f,Te as m,Ye as u};
