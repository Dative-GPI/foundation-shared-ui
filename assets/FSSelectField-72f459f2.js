import{f as K,j as Q,g as $,D as A,E as u,F as p,G as r,H as E,Q as i,U as H,V as F,O as d,R as f,S as b,A as k,J as R,K as q,L as C,I as W}from"./vue.esm-bundler-1de4ab84.js";import{F as X}from"./FSDialogMenu-a98f6da7.js";import{F as I}from"./FSRadioGroup-39907278.js";import{F as Y}from"./VField-c7605df9.js";import{F as M}from"./FSTextField-5eb8ba7e.js";import{F as h}from"./FSCheckbox-7bc44d7a.js";import{F as U}from"./FSFadeOut-649e8ed5.js";import{F as c}from"./FSButton-6b0685b3.js";import{_ as g}from"./FSSpan-c5b5f93b.js";import{_ as O}from"./FSCol-044a4f0a.js";import{_ as v}from"./FSRow-0f15051e.js";import{u as Z}from"./useRules-14fb7f63.js";import{u as _}from"./css-73f1b6e3.js";import{u as x,C as y}from"./useColors-6201f155.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import{V as le,a as ae}from"./VSelect-46cfbf6f.js";const j=K({name:"FSSelectField",components:{FSDialogMenu:X,FSRadioGroup:I,FSBaseField:Y,FSTextField:M,FSCheckbox:h,FSFadeOut:U,FSButton:c,FSSpan:g,FSCol:O,FSRow:v},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},items:{type:Array,required:!0},itemValue:{type:String,required:!1,default:"id"},itemTitle:{type:String,required:!1,default:"label"},modelValue:{type:[Array,String,Number],required:!1,default:null},hideHeader:{type:Boolean,required:!1,default:!1},returnObject:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},messages:{type:Array,required:!1,default:null},clearable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const{validateOn:B,blurred:T,getMessages:P}=Z(),{isExtraSmall:w}=_(),{getColors:V}=x(),S=V(y.Background),l=V(y.Error),o=V(y.Light),s=V(y.Dark),m=Q(!1),D=$(()=>e.editable?{"--fs-select-field-cursor":"pointer","--fs-select-field-background-color":S.base,"--fs-select-field-border-color":o.dark,"--fs-select-field-color":s.base,"--fs-select-field-active-border-color":s.dark,"--fs-select-field-error-border-color":l.base}:{"--fs-select-field-cursor":"default","--fs-select-field-border-color":o.base,"--fs-select-field-color":o.dark,"--fs-select-field-active-border-color":o.base}),N=$(()=>({style:D.value})),L=$(()=>e.messages??P(e.modelValue,e.rules)),G=$(()=>"calc(100vh - 40px - 16px)"),z=$(()=>{if(e.multiple&&Array.isArray(e.modelValue))return e.modelValue.map(a=>{const n=e.items.find(J=>J[e.itemValue]===a);if(n)return n[e.itemTitle]}).filter(a=>!!a).join(", ");if(e.modelValue){const a=e.items.find(n=>n[e.itemValue]===e.modelValue);if(a)return a[e.itemTitle]}return null});return{mobileSelectionProps:$(()=>{const a=e.items.find(n=>n[e.itemValue]===e.modelValue);return a?{item:{title:"",value:a[e.itemValue],props:{title:a[e.itemTitle],value:a[e.itemValue]},raw:{...a}},font:"text-body"}:null}),isExtraSmall:w,mobileValue:z,validateOn:B,ColorEnum:y,listStyle:N,messages:L,blurred:T,dialog:m,height:G,style:D,openMobileOverlay:()=>{e.editable&&(m.value=!0)},onCheckboxChange:a=>{Array.isArray(e.modelValue)?e.modelValue.includes(a)?t("update:modelValue",e.modelValue.filter(n=>n!==a)):t("update:modelValue",[...e.modelValue,a]):e.modelValue===a?t("update:modelValue",[]):t("update:modelValue",[e.modelValue,a])},mobileItemProps:(a,n)=>({item:{title:"",value:a[e.itemValue],props:{title:a[e.itemTitle],value:a[e.itemValue]},raw:{...a}},font:n}),onRadioChange:a=>{t("update:modelValue",a),m.value=!1}}}});function re(e,t,B,T,P,w){const V=A("FSDialogMenu"),S=A("FSBaseField");return u(),p(O,null,{default:r(()=>[e.isExtraSmall?(u(),E(R,{key:0},[i(M,k({label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,clearable:e.$props.clearable,editable:e.$props.editable,readonly:!0,rules:e.$props.rules,messages:e.messages,validateOn:e.validateOn,validationValue:e.$props.modelValue,modelValue:e.mobileValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.$emit("update:modelValue",l)),onClick:e.openMobileOverlay,onBlur:t[1]||(t[1]=l=>e.blurred=!0)},e.$attrs),H({"append-inner":r(()=>[d(e.$slots,"append-inner",{},()=>[i(c,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark,onClick:e.openMobileOverlay},null,8,["editable","color","onClick"])])]),_:2},[F(e.$slots,(l,o)=>({name:o,fn:r(s=>[d(e.$slots,o,f(b(s)))])})),e.mobileSelectionProps?{name:"prepend-inner",fn:r(()=>[d(e.$slots,"selection-mobile",f(b(e.mobileSelectionProps)))]),key:"0"}:void 0]),1040,["label","description","hideHeader","required","clearable","editable","rules","messages","validateOn","validationValue","modelValue","onClick"]),i(V,{modelValue:e.dialog,"onUpdate:modelValue":t[2]||(t[2]=l=>e.dialog=l)},{body:r(()=>[i(U,{height:e.height},{default:r(()=>[e.$props.multiple?(u(),p(O,{key:0,gap:"12px"},{default:r(()=>[(u(!0),E(R,null,F(e.$props.items,(l,o)=>(u(),p(v,{key:o},{default:r(()=>{var s;return[i(h,{label:l[e.$props.itemTitle],editable:e.$props.editable,modelValue:(s=e.$props.modelValue)==null?void 0:s.includes(l[e.$props.itemValue]),"onUpdate:modelValue":()=>e.onCheckboxChange(l[e.$props.itemValue])},{label:r(({font:m})=>[d(e.$slots,"item-label",k({ref_for:!0},e.mobileItemProps(l,m)))]),_:2},1032,["label","editable","modelValue","onUpdate:modelValue"])]}),_:2},1024))),128))]),_:3})):(u(),p(I,{key:1,gap:"12px",values:e.$props.items.map(l=>({value:l[e.$props.itemValue],label:l[e.$props.itemTitle],item:l})),editable:e.$props.editable,modelValue:e.$props.modelValue,"onUpdate:modelValue":e.onRadioChange},{label:r(({item:l,font:o})=>[d(e.$slots,"item-label",f(b(e.mobileItemProps(l,o))))]),_:3},8,["values","editable","modelValue","onUpdate:modelValue"]))]),_:3},8,["height"])]),_:3},8,["modelValue"])],64)):(u(),p(S,{key:1,label:e.$props.label,description:e.$props.description,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,messages:e.messages},{default:r(()=>[i(ae,k({class:"fs-select-field",variant:"outlined",menuIcon:null,style:e.style,listProps:e.listStyle,persistentClear:!0,hideDetails:!0,items:e.$props.items,itemTitle:e.$props.itemTitle,itemValue:e.$props.itemValue,readonly:!e.$props.editable,clearable:e.$props.clearable&&e.$props.editable&&!!e.$props.modelValue,returnObject:e.$props.returnObject,rules:e.$props.rules,validateOn:e.validateOn,multiple:e.$props.multiple,modelValue:e.$props.modelValue,"onUpdate:modelValue":t[4]||(t[4]=l=>e.$emit("update:modelValue",l)),onBlur:t[5]||(t[5]=l=>e.blurred=!0)},e.$attrs),H({item:r(({props:l,item:o})=>[i(le,f(b({...l,title:""})),{default:r(()=>[i(v,{align:"center-left"},{default:r(()=>{var s;return[e.$props.multiple?(u(),p(h,{key:0,modelValue:(s=e.$props.modelValue)==null?void 0:s.includes(o.raw[e.$props.itemValue]),onClick:l.onClick},{label:r(({font:m})=>[d(e.$slots,"item-label",f(b({item:o,font:m})),()=>[i(g,{font:m},{default:r(()=>[q(C(o.raw[e.$props.itemTitle]),1)]),_:2},1032,["font"])])]),_:2},1032,["modelValue","onClick"])):(u(),p(g,{key:1},{default:r(()=>[d(e.$slots,"item-label",f(b({item:o})),()=>[i(g,null,{default:r(()=>[q(C(o.raw[e.$props.itemTitle]),1)]),_:2},1024)])]),_:2},1024))]}),_:2},1024)]),_:2},1040)]),clear:r(()=>[d(e.$slots,"clear",{},()=>[e.$props.clearable&&e.$props.editable&&e.$props.modelValue?(u(),p(c,{key:0,icon:"mdi-close",variant:"icon",color:e.ColorEnum.Dark,onClick:t[3]||(t[3]=l=>e.$emit("update:modelValue",null))},null,8,["color"])):W("",!0)])]),"append-inner":r(()=>[d(e.$slots,"append-inner",{},()=>[i(c,{icon:"mdi-chevron-down",variant:"icon",editable:e.$props.editable,color:e.ColorEnum.Dark},null,8,["editable","color"])])]),"no-data":r(()=>[i(v,{padding:"17px"},{default:r(()=>[i(g,null,{default:r(()=>[q(C(e.$tr("ui.common.no-data","No data")),1)]),_:1})]),_:1})]),_:2},[F(e.$slots,(l,o)=>({name:o,fn:r(s=>[d(e.$slots,o,f(b(s)))])}))]),1040,["style","listProps","items","itemTitle","itemValue","readonly","clearable","returnObject","rules","validateOn","multiple","modelValue"])]),_:3},8,["label","description","hideHeader","required","editable","messages"]))]),_:3})}const Ce=ee(j,[["render",re]]);j.__docgenInfo={displayName:"FSSelectField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"items",type:{name:"any[]"},required:!0},{name:"itemValue",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"id"'}},{name:"itemTitle",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"label"'}},{name:"modelValue",type:{name:"(string | number)[] | string | number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"returnObject",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"multiple",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"messages",type:{name:"string[]"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"clearable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"selection-mobile",scoped:!0,bindings:[]},{name:"append-inner"},{name:"item-label",scoped:!0,bindings:[{name:"item",title:"binding"}]},{name:"clear"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSSelectField.vue"]};export{Ce as F};
