var D=Object.defineProperty;var f=(i,t,s)=>t in i?D(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var e=(i,t,s)=>f(i,typeof t!="symbol"?t+"":t,s);import{C}from"./base-CMiH1YbJ.js";import{d as w,D as y,a as I,b as P,c as g,W as v}from"./dashboardTranslation-CGe8lPc2.js";import{P as S}from"./pathCrumb-Db-cq5HI.js";import{S as d}from"./serviceFactory-Bd5jifNi.js";import{C as r}from"./composableFactory-J8cSLWf9.js";class V{constructor(t){e(this,"hiddenCode");e(this,"startDate");e(this,"endDate");e(this,"useAutoRefresh");e(this,"autoRefresh");this.hiddenCode=t.hiddenCode,this.startDate=t.startDate,this.endDate=t.endDate,this.useAutoRefresh=t.useAutoRefresh,this.autoRefresh=t.autoRefresh}}class L{constructor(t){e(this,"hiddenCode");e(this,"singleEntity");e(this,"selectedEntities");e(this,"entitiesFilters");e(this,"entitiesIds");this.hiddenCode=t.hiddenCode,this.singleEntity=t.singleEntity,this.selectedEntities=t.selectedEntities,this.entitiesFilters=t.entitiesFilters,this.entitiesIds=t.entitiesIds.slice()}}class O{constructor(t){e(this,"hiddenCode");e(this,"defaultValue");e(this,"useOnlyAllowedValues");e(this,"allowedValues");this.hiddenCode=t.hiddenCode,this.defaultValue=t.defaultValue,this.useOnlyAllowedValues=t.useOnlyAllowedValues,this.allowedValues=t.allowedValues.map(s=>new w(s))}}class h{constructor(t){e(this,"id");e(this,"organisationId");e(this,"dashboardOrganisationTypeId");e(this,"dashboardOrganisationTypeLabel");e(this,"folderId");e(this,"folderLabel");e(this,"folderIcon");e(this,"imageId");e(this,"label");e(this,"code");e(this,"icon");e(this,"tags");e(this,"colors");e(this,"dashboardId");e(this,"scope");this.id=t.id,this.organisationId=t.organisationId,this.dashboardOrganisationTypeId=t.dashboardOrganisationTypeId,this.dashboardOrganisationTypeLabel=t.dashboardOrganisationTypeLabel,this.folderId=t.folderId,this.folderLabel=t.folderLabel,this.folderIcon=t.folderIcon,this.imageId=t.imageId,this.label=t.label,this.code=t.code,this.icon=t.icon,this.tags=t.tags.slice(),this.colors=t.colors.slice(),this.dashboardId=t.dashboardId,this.scope=t.scope}}class a extends h{constructor(s){super(s);e(this,"labelDefault");e(this,"path");e(this,"overrideEntityPresetCode");e(this,"overrideDatePresetCode");e(this,"overrideVariableCode");e(this,"overrideDatePresets");e(this,"overrideEntityPresets");e(this,"overrideVariables");e(this,"translations");e(this,"entityPresetCode");e(this,"datePresetCode");e(this,"variableCode");e(this,"datePresets");e(this,"entityPresets");e(this,"variables");e(this,"widgets");this.labelDefault=s.labelDefault,this.path=s.path.map(o=>new S(o)).sort((o,l)=>l.index-o.index),this.overrideEntityPresetCode=s.overrideEntityPresetCode,this.overrideDatePresetCode=s.overrideDatePresetCode,this.overrideVariableCode=s.overrideVariableCode,this.overrideDatePresets=s.overrideDatePresets.map(o=>new V(o)),this.overrideEntityPresets=s.overrideEntityPresets.map(o=>new L(o)),this.overrideVariables=s.overrideVariables.map(o=>new O(o)),this.translations=s.translations.map(o=>new y(o)),this.entityPresetCode=s.entityPresetCode,this.datePresetCode=s.datePresetCode,this.variableCode=s.variableCode,this.datePresets=s.datePresets.map(o=>new I(o)),this.entityPresets=s.entityPresets.map(o=>new P(o)),this.variables=s.variables.map(o=>new g(o)),this.widgets=s.widgets.map(o=>new v(o))}}const c=()=>`${C()}/dashboard-shallows`,n=i=>`${c()}/${encodeURIComponent(i)}`,E=i=>`${n(i)}/folder`,b=new d("dashboardShallow",a).createComplete(c,n,h),u=new d("dashboardShallow",a).create(i=>i.build(i.addNotify(t=>({...d.addCustom("duplicate",(s,o)=>s.patch(n(o)),s=>{const o=new a(s);return t.notify("update",o),o}),...d.addCustom("changeFolder",(s,o,l)=>s.put(E(o),l),s=>{const o=new a(s);return t.notify("update",o),o})})))),U=r.get(b),W=r.getMany(b);r.custom(u.duplicate);r.custom(u.changeFolder);export{U as a,W as u};
