import{d as M,b as S,c as U,o as z,y as R,z as b,C as V,K as t,O as G,P as F,B as l,m as H,F as v,L as $,M as K,N as O,A as Q,Q as _,E as C,G as q}from"./vue.esm-bundler-DeSao-KJ.js";import{F as j}from"./FSDialogSubmit-BmUWcGg9.js";import{F as f}from"./FSTextField-xG_kerPN.js";import{F as k}from"./FSButton-CUXN7UlR.js";import{_ as T}from"./FSIcon-DuYoAbGq.js";import{_ as B}from"./FSSpan-t6bMdSRn.js";import{_ as L}from"./FSRow-JJutUvlP.js";import{u as J}from"./useLanguages-de1F7zd5.js";import{C as p,u as W}from"./useColors-DL92kHTE.js";import{u as X}from"./useSlots-DPxV8yUU.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as I}from"./FSCol-CA6NzDpV.js";const P=M({name:"FSTranslateField",components:{FSDialogSubmit:j,FSTextField:f,FSButton:k,FSIcon:T,FSSpan:B,FSRow:L},props:{buttonPrependIcon:{type:String,required:!1,default:"mdi-translate"},buttonLabel:{type:String,required:!1,default:null},buttonAppendIcon:{type:String,required:!1,default:null},buttonVariant:{type:String,required:!1,default:"standard"},modelValue:{type:String,required:!1,default:null},property:{type:String,required:!1,default:"label"},translations:{type:Array,required:!1,default:()=>[]},buttonColor:{type:String,required:!1,default:p.Primary},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue","update:translations"],setup(e,{emit:n}){const{getMany:g,fetching:c,entities:y}=J(),{getColors:m}=W(),{slots:i}=X();delete i.append;const a=S(e.translations),o=S(!1),s=m(p.Light),h=m(p.Dark),D=U(()=>e.editable?{"--fs-translate-field-color":h.base}:{"--fs-translate-field-color":s.dark}),w=u=>{if(!a.value)return"";const r=a.value.find(d=>d.languageCode===u);return!r||!r[e.property]?"":r[e.property]},A=(u,r)=>{if(!a.value){a.value=[{languageCode:u,[e.property]:r}];return}const d=a.value.find(E=>E.languageCode===u);d?d[e.property]=r:a.value.push({languageCode:u,[e.property]:r})},N=()=>{o.value=!1,e.editable&&n("update:translations",a.value)};return z(()=>{g()}),{fetchingLanguages:c,innerTranslations:a,ColorEnum:p,languages:y,dialog:o,slots:i,style:D,getTranslation:w,setTranslation:A,onSubmit:N}}});function Z(e,n,g,c,y,m){const i=R("FSDialogSubmit");return b(),V(v,null,[t(f,H({editable:e.$props.editable,modelValue:e.$props.modelValue,"onUpdate:modelValue":n[1]||(n[1]=a=>e.$emit("update:modelValue",a))},e.$attrs),G({append:l(()=>[t(k,{prependIcon:e.$props.buttonPrependIcon,label:e.$props.buttonLabel,appendIcon:e.$props.buttonAppendIcon,variant:e.$props.buttonVariant,color:e.$props.buttonColor,load:e.fetchingLanguages,onClick:n[0]||(n[0]=a=>e.dialog=!0)},null,8,["prependIcon","label","appendIcon","variant","color","load"]),$(e.$slots,"append")]),_:2},[F(e.slots,(a,o)=>({name:o,fn:l(s=>[$(e.$slots,o,K(O(s)))])}))]),1040,["editable","modelValue"]),t(i,{title:e.$tr("ui.translate-field.title","Handle translations"),submitButtonColor:e.$props.buttonColor,"onClick:submitButton":e.onSubmit,modelValue:e.dialog,"onUpdate:modelValue":n[2]||(n[2]=a=>e.dialog=a)},{body:l(()=>[t(I,{gap:"32px"},{default:l(()=>[t(f,{label:e.$tr("ui.translate-field.default-value","Default value"),editable:!1,modelValue:e.$props.modelValue},null,8,["label","modelValue"]),t(I,{gap:"16px"},{default:l(()=>[(b(!0),V(v,null,F(e.languages,(a,o)=>(b(),Q(f,{editable:e.$props.editable,key:o,modelValue:e.getTranslation(a.code),"onUpdate:modelValue":s=>e.setTranslation(a.code,s)},{label:l(()=>[t(L,{wrap:!1},{default:l(()=>[t(B,{class:"fs-translate-field-label",font:"text-overline",style:_(e.style)},{default:l(()=>[C(q(e.$tr("ui.translate-field.translate-in","Translate in {0}",a.label)),1)]),_:2},1032,["style"]),t(T,null,{default:l(()=>[C(q(a.icon),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["editable","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1})]),_:1},8,["title","submitButtonColor","onClick:submitButton","modelValue"])],64)}const pe=Y(P,[["render",Z]]);P.__docgenInfo={displayName:"FSTranslateField",exportName:"default",description:"",tags:{},props:[{name:"buttonPrependIcon",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:'"mdi-translate"'}},{name:"buttonLabel",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"buttonAppendIcon",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"buttonVariant",values:["standard","full","icon"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"standard"'}},{name:"modelValue",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"property",type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"label"'}},{name:"translations",type:{name:"{ languageCode: string; [key: string]: string }[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"buttonColor",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"},{name:"update:translations"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"append"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSTranslateField.vue"]};export{pe as F};
