import{b as u,x as R,w as S,y as _,s as O,t as C,c as o,q as E,v as i}from"./vue.esm-bundler-BwDfg4wG.js";import{m as M,g as B,a as y,u as U}from"./color-BnvS3YzF.js";import{I as V,A as b,S as A,p as F,n as $,s as D,c as W}from"./theme-DkbGhe4v.js";import{m as q,a as G,u as j}from"./tag-Ceq3l71M.js";function H(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=u(),s=u();if(V){const r=new ResizeObserver(t=>{e==null||e(t,r),t.length&&(l==="content"?s.value=t[0].contentRect:s.value=t[0].target.getBoundingClientRect())});R(()=>{r.disconnect()}),S(n,(t,a)=>{a&&(r.unobserve(b(a)),s.value=void 0),t&&r.observe(b(t))},{flush:"post"})}return{resizeRef:n,contentRect:_(s)}}function J(e,l){const n=u(),s=O(!1);if(A){const r=new IntersectionObserver(t=>{s.value=!!t.find(a=>a.isIntersecting)},l);R(()=>{r.disconnect()}),S(n,(t,a)=>{a&&(r.unobserve(a),s.value=!1),t&&r.observe(t)},{flush:"post"})}return{intersectionRef:n,isIntersecting:s}}const K=F({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...M(),...q(),...G({tag:"div"}),...$()},"VProgressCircular"),Z=B()({name:"VProgressCircular",props:K(),setup(e,l){let{slots:n}=l;const s=20,r=2*Math.PI*s,t=u(),{themeClasses:a}=D(e),{sizeClasses:w,sizeStyles:m}=j(e),{textColorClasses:x,textColorStyles:I}=y(C(e,"color")),{textColorClasses:N,textColorStyles:k}=y(C(e,"bgColor")),{intersectionRef:P,isIntersecting:p}=J(),{resizeRef:z,contentRect:d}=H(),c=o(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),v=o(()=>Number(e.width)),g=o(()=>m.value?Number(e.size):d.value?d.value.width:Math.max(v.value,32)),f=o(()=>s/(1-v.value/g.value)*2),h=o(()=>v.value/g.value*f.value),T=o(()=>W((100-c.value)/100*r));return E(()=>{P.value=t.value,z.value=t.value}),U(()=>i(e.tag,{ref:t,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},a.value,w.value,x.value,e.class],style:[m.value,I.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:c.value},{default:()=>[i("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${f.value} ${f.value}`},[i("circle",{class:["v-progress-circular__underlay",N.value],style:k.value,fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":h.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),i("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:s,"stroke-width":h.value,"stroke-dasharray":r,"stroke-dashoffset":T.value},null)]),n.default&&i("div",{class:"v-progress-circular__content"},[n.default({value:c.value})])]})),{}}});export{Z as V,H as a,J as u};
