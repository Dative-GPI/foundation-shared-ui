var g=Object.defineProperty;var f=(i,t,o)=>t in i?g(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;var e=(i,t,o)=>f(i,typeof t!="symbol"?t+"":t,o);import{C as D}from"./base-Db9bJp6t.js";import{d as C,D as v,a as w,b as y,c as I,W as P}from"./dashboardTranslation-CcLHITut.js";import{P as S}from"./pathCrumb-Db-cq5HI.js";import{S as d}from"./serviceFactory-Bd5jifNi.js";import{C as r}from"./composableFactory-rrf4GM2L.js";class E{constructor(t){e(this,"hiddenCode");e(this,"globalStartDate");e(this,"globalEndDate");this.hiddenCode=t.hiddenCode,this.globalStartDate=t.globalStartDate,this.globalEndDate=t.globalEndDate}}class R{constructor(t){e(this,"hiddenCode");e(this,"globalSelectedEntities");e(this,"globalEntitiesFilters");e(this,"globalEntitiesIds");this.hiddenCode=t.hiddenCode,this.globalSelectedEntities=t.globalSelectedEntities,this.globalEntitiesFilters=t.globalEntitiesFilters,this.globalEntitiesIds=t.globalEntitiesIds.slice()}}class A{constructor(t){e(this,"hiddenCode");e(this,"defaultValue");e(this,"useOnlyAllowedValues");e(this,"allowedValues");this.hiddenCode=t.hiddenCode,this.defaultValue=t.defaultValue,this.useOnlyAllowedValues=t.useOnlyAllowedValues,this.allowedValues=t.allowedValues.map(o=>new C(o))}}class h{constructor(t){e(this,"id");e(this,"organisationId");e(this,"dashboardOrganisationTypeId");e(this,"dashboardOrganisationTypeLabel");e(this,"folderId");e(this,"folderLabel");e(this,"folderIcon");e(this,"imageId");e(this,"label");e(this,"code");e(this,"icon");e(this,"tags");e(this,"colors");e(this,"dashboardId");e(this,"scope");this.id=t.id,this.organisationId=t.organisationId,this.dashboardOrganisationTypeId=t.dashboardOrganisationTypeId,this.dashboardOrganisationTypeLabel=t.dashboardOrganisationTypeLabel,this.folderId=t.folderId,this.folderLabel=t.folderLabel,this.folderIcon=t.folderIcon,this.imageId=t.imageId,this.label=t.label,this.code=t.code,this.icon=t.icon,this.tags=t.tags.slice(),this.colors=t.colors.slice(),this.dashboardId=t.dashboardId,this.scope=t.scope}}class l extends h{constructor(o){super(o);e(this,"labelDefault");e(this,"path");e(this,"overrideUseAutoRefresh");e(this,"overrideAutoRefresh");e(this,"overrideSingleEntity");e(this,"overrideEntityPresetCode");e(this,"overrideDatePresetCode");e(this,"overrideVariableCode");e(this,"overrideDatePresets");e(this,"overrideEntityPresets");e(this,"overrideVariables");e(this,"translations");e(this,"useAutoRefresh");e(this,"autoRefresh");e(this,"singleEntity");e(this,"entityPresetCode");e(this,"datePresetCode");e(this,"variableCode");e(this,"datePresets");e(this,"entityPresets");e(this,"variables");e(this,"widgets");this.labelDefault=o.labelDefault,this.path=o.path.map(s=>new S(s)).sort((s,a)=>a.index-s.index),this.overrideUseAutoRefresh=o.overrideUseAutoRefresh,this.overrideAutoRefresh=o.overrideAutoRefresh,this.overrideSingleEntity=o.overrideSingleEntity,this.overrideEntityPresetCode=o.overrideEntityPresetCode,this.overrideDatePresetCode=o.overrideDatePresetCode,this.overrideVariableCode=o.overrideVariableCode,this.overrideDatePresets=o.overrideDatePresets.map(s=>new E(s)),this.overrideEntityPresets=o.overrideEntityPresets.map(s=>new R(s)),this.overrideVariables=o.overrideVariables.map(s=>new A(s)),this.translations=o.translations.map(s=>new v(s)),this.useAutoRefresh=o.useAutoRefresh,this.autoRefresh=o.autoRefresh,this.singleEntity=o.singleEntity,this.entityPresetCode=o.entityPresetCode,this.datePresetCode=o.datePresetCode,this.variableCode=o.variableCode,this.datePresets=o.datePresets.map(s=>new w(s)),this.entityPresets=o.entityPresets.map(s=>new y(s)),this.variables=o.variables.map(s=>new I(s)),this.widgets=o.widgets.map(s=>new P(s))}}const b=()=>`${D()}/dashboard-shallows`,n=i=>`${b()}/${encodeURIComponent(i)}`,V=i=>`${n(i)}/folder`,c=new d("dashboardShallow",l).createComplete(b,n,h),u=new d("dashboardShallow",l).create(i=>i.build(i.addNotify(t=>({...d.addCustom("duplicate",(o,s)=>o.patch(n(s)),o=>{const s=new l(o);return t.notify("update",s),s}),...d.addCustom("changeFolder",(o,s,a)=>o.put(V(s),a),o=>{const s=new l(o);return t.notify("update",s),s})})))),H=r.get(c),W=r.getMany(c);r.custom(u.duplicate);r.custom(u.changeFolder);export{H as a,W as u};
