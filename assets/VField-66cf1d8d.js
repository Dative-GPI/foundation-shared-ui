import{f as U,d as h,j as d,z as a,A as q,a4 as W,E as te,w as le,F as ne,x as ie}from"./vue.esm-bundler-0a1af505.js";import{b as se,c as oe}from"./index-d90e6acb.js";import{m as $,g as R,u as T}from"./useRender-cc726afb.js";import{m as re,M as de}from"./transition-c9646b8b.js";import{p as A,Q as B,x as ue,y as ce,q as fe,e as ve,R as me,N as ge}from"./theme-2d24b19c.js";import{a as be,e as ye,u as Ce,f as he}from"./VInput-32e7bd1c.js";import{b as pe,u as ke}from"./color-68d45c69.js";import{I as w}from"./tag-e48f136a.js";import{m as _e,u as Ie,L as xe}from"./loader-92dc0f32.js";import{a as Ve}from"./locale-767f04a5.js";import{m as Fe,u as Pe}from"./rounded-94c7156f.js";import{n as Se,a as Le,s as Be}from"./forwardRefs-e658ad70.js";const Ye=()=>{const e=U("validateOn",h("input")),i=U("submitted",h(!1)),l=h(!1),b=d(()=>{switch(e.value){case"submit":return i.value?"input":"submit";case"blur":return l.value?"input":"blur";case"input":return"input"}});return{validateOn:b,blurred:l,getMessages:(c,f,L=!1)=>{if(!f||!f.length)return[];switch(b.value){case"submit":if(!i.value)return[];break;case"blur":if(!l.value)return[];break}const s=[];if(L)if(c&&Array.isArray(c))for(const n of c)for(const o of f){const y=o(n);typeof y=="string"&&s.push(y)}else for(const n of f){const o=n(c??"");typeof o=="string"&&s.push(o)}else for(const n of f){const o=n(c??"");typeof o=="string"&&s.push(o)}for(let n=1;n<s.length;n++)s[n]=s[n].toLowerCase();return[...new Set(s)]}}};const we=A({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...$(),...re({transition:{component:se}})},"VCounter"),Ge=R()({name:"VCounter",functional:!0,props:we(),setup(e,i){let{slots:l}=i;const b=d(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return T(()=>a(de,{transition:e.transition},{default:()=>[q(a("div",{class:["v-counter",e.class],style:e.style},[l.default?l.default({counter:b.value,max:e.max,value:e.value}):b.value]),[[W,e.active]])]})),{}}});const $e=A({floating:Boolean,...$()},"VFieldLabel"),S=R()({name:"VFieldLabel",props:$e(),setup(e,i){let{slots:l}=i;return T(()=>a(be,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},l)),{}}}),Re=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Te=A({appendInnerIcon:w,bgColor:String,clearable:Boolean,clearIcon:{type:w,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:w,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Re.includes(e)},"onClick:clear":B(),"onClick:appendInner":B(),"onClick:prependInner":B(),...$(),..._e(),...Fe(),...ue()},"VField"),Ae=R()({name:"VField",inheritAttrs:!1,props:{id:String,...ye(),...Te()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:l,emit:b,slots:t}=i;const{themeClasses:c}=ce(e),{loaderClasses:f}=Ie(e),{focusClasses:L,isFocused:s,focus:n,blur:o}=Ce(e),{InputIcon:y}=he(e),{roundedClasses:z}=Pe(e),{rtlClasses:Q}=Ve(),k=d(()=>e.dirty||e.active),_=d(()=>!e.singleLine&&!!(e.label||t.label)),X=fe(),v=d(()=>e.id||`input-${X}`),Y=d(()=>`${v.value}-messages`),O=h(),I=h(),E=h(),M=d(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:G,backgroundColorStyles:H}=pe(te(e,"bgColor")),{textColorClasses:D,textColorStyles:N}=ke(d(()=>e.error||e.disabled?void 0:k.value&&s.value?e.color:e.baseColor));le(k,C=>{if(_.value){const u=O.value.$el,m=I.value.$el;requestAnimationFrame(()=>{const g=Se(u),r=m.getBoundingClientRect(),V=r.x-g.x,F=r.y-g.y-(g.height/2-r.height/2),p=r.width/.75,P=Math.abs(p-g.width)>1?{maxWidth:ve(p)}:void 0,K=getComputedStyle(u),j=getComputedStyle(m),Z=parseFloat(K.transitionDuration)*1e3||150,ee=parseFloat(j.getPropertyValue("--v-field-label-scale")),ae=j.getPropertyValue("color");u.style.visibility="visible",m.style.visibility="hidden",Le(u,{transform:`translate(${V}px, ${F}px) scale(${ee})`,color:ae,...P},{duration:Z,easing:Be,direction:C?"normal":"reverse"}).finished.then(()=>{u.style.removeProperty("visibility"),m.style.removeProperty("visibility")})})}},{flush:"post"});const x=d(()=>({isActive:k,isFocused:s,controlRef:E,blur:o,focus:n}));function J(C){C.target!==document.activeElement&&C.preventDefault()}return T(()=>{var V,F,p;const C=e.variant==="outlined",u=!!(t["prepend-inner"]||e.prependInnerIcon),m=!!(e.clearable||t.clear),g=!!(t["append-inner"]||e.appendInnerIcon||m),r=()=>t.label?t.label({...x.value,label:e.label,props:{for:v.value}}):e.label;return a("div",ie({class:["v-field",{"v-field--active":k.value,"v-field--appended":g,"v-field--center-affix":e.centerAffix??!M.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":u,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!r(),[`v-field--variant-${e.variant}`]:!0},c.value,G.value,L.value,f.value,z.value,Q.value,e.class],style:[H.value,e.style],onClick:J},l),[a("div",{class:"v-field__overlay"},null),a(xe,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),u&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(y,{key:"prepend-icon",name:"prependInner"},null),(V=t["prepend-inner"])==null?void 0:V.call(t,x.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&_.value&&a(S,{key:"floating-label",ref:I,class:[D.value],floating:!0,for:v.value,style:N.value},{default:()=>[r()]}),a(S,{ref:O,for:v.value},{default:()=>[r()]}),(F=t.default)==null?void 0:F.call(t,{...x.value,props:{id:v.value,class:"v-field__input","aria-describedby":Y.value},focus:n,blur:o})]),m&&a(oe,{key:"clear"},{default:()=>[q(a("div",{class:"v-field__clearable",onMousedown:P=>{P.preventDefault(),P.stopPropagation()}},[t.clear?t.clear():a(y,{name:"clear"},null)]),[[W,e.dirty]])]}),g&&a("div",{key:"append",class:"v-field__append-inner"},[(p=t["append-inner"])==null?void 0:p.call(t,x.value),e.appendInnerIcon&&a(y,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",D.value],style:N.value},[C&&a(ne,null,[a("div",{class:"v-field__outline__start"},null),_.value&&a("div",{class:"v-field__outline__notch"},[a(S,{ref:I,floating:!0,for:v.value},{default:()=>[r()]})]),a("div",{class:"v-field__outline__end"},null)]),M.value&&_.value&&a(S,{ref:I,floating:!0,for:v.value},{default:()=>[r()]})])])}),{controlRef:E}}});function He(e){const i=Object.keys(Ae.props).filter(l=>!me(l)&&l!=="class"&&l!=="style");return ge(e,i)}export{Ae as V,Ge as a,He as f,Te as m,Ye as u};
