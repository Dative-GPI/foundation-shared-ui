import{c as si,g as on}from"./_commonjsHelpers-de833af9.js";import{_ as St}from"./lodash-ee9167ea.js";var Qr={exports:{}},xa={},Te={},Nt={},Xt={},B={},Wt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(C){if(super(),!e.IDENTIFIER.test(C))throw new Error("CodeGen: name must be a valid identifier");this.str=C}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(C){super(),this._items=typeof C=="string"?[C]:C}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const C=this._items[0];return C===""||C==='""'}get str(){var C;return(C=this._str)!==null&&C!==void 0?C:this._str=this._items.reduce((R,k)=>`${R}${k}`,"")}get names(){var C;return(C=this._names)!==null&&C!==void 0?C:this._names=this._items.reduce((R,k)=>(k instanceof r&&(R[k.str]=(R[k.str]||0)+1),R),{})}}e._Code=n,e.nil=new n("");function a(v,...C){const R=[v[0]];let k=0;for(;k<C.length;)l(R,C[k]),R.push(v[++k]);return new n(R)}e._=a;const s=new n("+");function u(v,...C){const R=[w(v[0])];let k=0;for(;k<C.length;)R.push(s),l(R,C[k]),R.push(s,w(v[++k]));return p(R),new n(R)}e.str=u;function l(v,C){C instanceof n?v.push(...C._items):C instanceof r?v.push(C):v.push($(C))}e.addCodeArg=l;function p(v){let C=1;for(;C<v.length-1;){if(v[C]===s){const R=c(v[C-1],v[C+1]);if(R!==void 0){v.splice(C-1,3,R);continue}v[C++]="+"}C++}}function c(v,C){if(C==='""')return v;if(v==='""')return C;if(typeof v=="string")return C instanceof r||v[v.length-1]!=='"'?void 0:typeof C!="string"?`${v.slice(0,-1)}${C}"`:C[0]==='"'?v.slice(0,-1)+C.slice(1):void 0;if(typeof C=="string"&&C[0]==='"'&&!(v instanceof r))return`"${v}${C.slice(1)}`}function y(v,C){return C.emptyStr()?v:v.emptyStr()?C:u`${v}${C}`}e.strConcat=y;function $(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:w(Array.isArray(v)?v.join(","):v)}function T(v){return new n(w(v))}e.stringify=T;function w(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=w;function S(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new n(`.${v}`):a`[${v}]`}e.getProperty=S;function N(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new n(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=N;function m(v){return new n(v.toString())}e.regexpCode=m})(Wt);var Yr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Wt;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(p){p[p.Started=0]="Started",p[p.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:c,parent:y}={}){this._names={},this._prefixes=c,this._parent=y}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const y=this._names[c]||this._nameGroup(c);return`${c}${y.index++}`}_nameGroup(c){var y,$;if(!(($=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||$===void 0)&&$.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=a;class s extends t.Name{constructor(c,y){super(y),this.prefix=c}setValue(c,{property:y,itemIndex:$}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(y)}[${$}]`}}e.ValueScopeName=s;const u=(0,t._)`\n`;class l extends a{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?u:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,y){var $;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const T=this.toName(c),{prefix:w}=T,S=($=y.key)!==null&&$!==void 0?$:y.ref;let N=this._values[w];if(N){const C=N.get(S);if(C)return C}else N=this._values[w]=new Map;N.set(S,T);const m=this._scope[w]||(this._scope[w]=[]),v=m.length;return m[v]=y.ref,T.setValue(y,{property:w,itemIndex:v}),T}getValue(c,y){const $=this._values[c];if($)return $.get(y)}scopeRefs(c,y=this._values){return this._reduceValues(y,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${c}${$.scopePath}`})}scopeCode(c=this._values,y,$){return this._reduceValues(c,T=>{if(T.value===void 0)throw new Error(`CodeGen: name "${T}" has no value`);return T.value.code},y,$)}_reduceValues(c,y,$={},T){let w=t.nil;for(const S in c){const N=c[S];if(!N)continue;const m=$[S]=$[S]||new Map;N.forEach(v=>{if(m.has(v))return;m.set(v,n.Started);let C=y(v);if(C){const R=this.opts.es5?e.varKinds.var:e.varKinds.const;w=(0,t._)`${w}${R} ${v} = ${C};${this.opts._n}`}else if(C=T==null?void 0:T(v))w=(0,t._)`${w}${C}${this.opts._n}`;else throw new r(v);m.set(v,n.Completed)})}return w}}e.ValueScope=l})(Yr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Wt,r=Yr;var n=Wt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Yr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(i,f){return this}}class u extends s{constructor(i,f,j){super(),this.varKind=i,this.name=f,this.rhs=j}render({es5:i,_n:f}){const j=i?r.varKinds.var:this.varKind,U=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${U};`+f}optimizeNames(i,f){if(i[this.name.str])return this.rhs&&(this.rhs=le(this.rhs,i,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class l extends s{constructor(i,f,j){super(),this.lhs=i,this.rhs=f,this.sideEffects=j}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,f){if(!(this.lhs instanceof t.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=le(this.rhs,i,f),this}get names(){const i=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Ee(i,this.rhs)}}class p extends l{constructor(i,f,j,U){super(i,j,U),this.op=f}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class c extends s{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class y extends s{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class $ extends s{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class T extends s{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,f){return this.code=le(this.code,i,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class w extends s{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((f,j)=>f+j.render(i),"")}optimizeNodes(){const{nodes:i}=this;let f=i.length;for(;f--;){const j=i[f].optimizeNodes();Array.isArray(j)?i.splice(f,1,...j):j?i[f]=j:i.splice(f,1)}return i.length>0?this:void 0}optimizeNames(i,f){const{nodes:j}=this;let U=j.length;for(;U--;){const q=j[U];q.optimizeNames(i,f)||(Qe(i,q.names),j.splice(U,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((i,f)=>Y(i,f.names),{})}}class S extends w{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class N extends w{}class m extends S{}m.kind="else";class v extends S{constructor(i,f){super(f),this.condition=i}render(i){let f=`if(${this.condition})`+super.render(i);return this.else&&(f+="else "+this.else.render(i)),f}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let f=this.else;if(f){const j=f.optimizeNodes();f=this.else=Array.isArray(j)?new m(j):j}if(f)return i===!1?f instanceof v?f:f.nodes:this.nodes.length?this:new v(Ye(i),f instanceof v?[f]:f.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,f){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames(i,f),!!(super.optimizeNames(i,f)||this.else))return this.condition=le(this.condition,i,f),this}get names(){const i=super.names;return Ee(i,this.condition),this.else&&Y(i,this.else.names),i}}v.kind="if";class C extends S{}C.kind="for";class R extends C{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iteration=le(this.iteration,i,f),this}get names(){return Y(super.names,this.iteration.names)}}class k extends C{constructor(i,f,j,U){super(),this.varKind=i,this.name=f,this.from=j,this.to=U}render(i){const f=i.es5?r.varKinds.var:this.varKind,{name:j,from:U,to:q}=this;return`for(${f} ${j}=${U}; ${j}<${q}; ${j}++)`+super.render(i)}get names(){const i=Ee(super.names,this.from);return Ee(i,this.to)}}class D extends C{constructor(i,f,j,U){super(),this.loop=i,this.varKind=f,this.name=j,this.iterable=U}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iterable=le(this.iterable,i,f),this}get names(){return Y(super.names,this.iterable.names)}}class _ extends S{constructor(i,f,j){super(),this.name=i,this.args=f,this.async=j}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}_.kind="func";class O extends w{render(i){return"return "+super.render(i)}}O.kind="return";class A extends S{render(i){let f="try"+super.render(i);return this.catch&&(f+=this.catch.render(i)),this.finally&&(f+=this.finally.render(i)),f}optimizeNodes(){var i,f;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(i,f){var j,U;return super.optimizeNames(i,f),(j=this.catch)===null||j===void 0||j.optimizeNames(i,f),(U=this.finally)===null||U===void 0||U.optimizeNames(i,f),this}get names(){const i=super.names;return this.catch&&Y(i,this.catch.names),this.finally&&Y(i,this.finally.names),i}}class K extends S{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}K.kind="catch";class J extends S{render(i){return"finally"+super.render(i)}}J.kind="finally";class se{constructor(i,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=i,this._scope=new r.Scope({parent:i}),this._nodes=[new N]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,f){const j=this._extScope.value(i,f);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(i,f){return this._extScope.getValue(i,f)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,f,j,U){const q=this._scope.toName(f);return j!==void 0&&U&&(this._constants[q.str]=j),this._leafNode(new u(i,q,j)),q}const(i,f,j){return this._def(r.varKinds.const,i,f,j)}let(i,f,j){return this._def(r.varKinds.let,i,f,j)}var(i,f,j){return this._def(r.varKinds.var,i,f,j)}assign(i,f,j){return this._leafNode(new l(i,f,j))}add(i,f){return this._leafNode(new p(i,e.operators.ADD,f))}code(i){return typeof i=="function"?i():i!==t.nil&&this._leafNode(new T(i)),this}object(...i){const f=["{"];for(const[j,U]of i)f.length>1&&f.push(","),f.push(j),(j!==U||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,U));return f.push("}"),new t._Code(f)}if(i,f,j){if(this._blockNode(new v(i)),f&&j)this.code(f).else().code(j).endIf();else if(f)this.code(f).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new v(i))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(v,m)}_for(i,f){return this._blockNode(i),f&&this.code(f).endFor(),this}for(i,f){return this._for(new R(i),f)}forRange(i,f,j,U,q=this.opts.es5?r.varKinds.var:r.varKinds.let){const W=this._scope.toName(i);return this._for(new k(q,W,f,j),()=>U(W))}forOf(i,f,j,U=r.varKinds.const){const q=this._scope.toName(i);if(this.opts.es5){const W=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${W}.length`,Q=>{this.var(q,(0,t._)`${W}[${Q}]`),j(q)})}return this._for(new D("of",U,q,f),()=>j(q))}forIn(i,f,j,U=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,t._)`Object.keys(${f})`,j);const q=this._scope.toName(i);return this._for(new D("in",U,q,f),()=>j(q))}endFor(){return this._endBlockNode(C)}label(i){return this._leafNode(new c(i))}break(i){return this._leafNode(new y(i))}return(i){const f=new O;if(this._blockNode(f),this.code(i),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(i,f,j){if(!f&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const U=new A;if(this._blockNode(U),this.code(i),f){const q=this.name("e");this._currNode=U.catch=new K(q),f(q)}return j&&(this._currNode=U.finally=new J,this.code(j)),this._endBlockNode(K,J)}throw(i){return this._leafNode(new $(i))}block(i,f){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(f),this}endBlock(i){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-f;if(j<0||i!==void 0&&j!==i)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${i} expected`);return this._nodes.length=f,this}func(i,f=t.nil,j,U){return this._blockNode(new _(i,f,j)),U&&this.code(U).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,f){const j=this._currNode;if(j instanceof i||f&&j instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${i.kind}/${f.kind}`:i.kind}"`)}_elseNode(i){const f=this._currNode;if(!(f instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const f=this._nodes;f[f.length-1]=i}}e.CodeGen=se;function Y(b,i){for(const f in i)b[f]=(b[f]||0)+(i[f]||0);return b}function Ee(b,i){return i instanceof t._CodeOrName?Y(b,i.names):b}function le(b,i,f){if(b instanceof t.Name)return j(b);if(!U(b))return b;return new t._Code(b._items.reduce((q,W)=>(W instanceof t.Name&&(W=j(W)),W instanceof t._Code?q.push(...W._items):q.push(W),q),[]));function j(q){const W=f[q.str];return W===void 0||i[q.str]!==1?q:(delete i[q.str],W)}function U(q){return q instanceof t._Code&&q._items.some(W=>W instanceof t.Name&&i[W.str]===1&&f[W.str]!==void 0)}}function Qe(b,i){for(const f in i)b[f]=(b[f]||0)-(i[f]||0)}function Ye(b){return typeof b=="boolean"||typeof b=="number"||b===null?!b:(0,t._)`!${I(b)}`}e.not=Ye;const lt=g(e.operators.AND);function Tt(...b){return b.reduce(lt)}e.and=Tt;const dt=g(e.operators.OR);function M(...b){return b.reduce(dt)}e.or=M;function g(b){return(i,f)=>i===t.nil?f:f===t.nil?i:(0,t._)`${I(i)} ${b} ${I(f)}`}function I(b){return b instanceof t.Name?b:(0,t._)`(${b})`}})(B);var x={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=B,r=Wt;function n(_){const O={};for(const A of _)O[A]=!0;return O}e.toHash=n;function a(_,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(s(_,O),!u(O,_.self.RULES.all))}e.alwaysValidSchema=a;function s(_,O=_.schema){const{opts:A,self:K}=_;if(!A.strictSchema||typeof O=="boolean")return;const J=K.RULES.keywords;for(const se in O)J[se]||D(_,`unknown keyword: "${se}"`)}e.checkUnknownRules=s;function u(_,O){if(typeof _=="boolean")return!_;for(const A in _)if(O[A])return!0;return!1}e.schemaHasRules=u;function l(_,O){if(typeof _=="boolean")return!_;for(const A in _)if(A!=="$ref"&&O.all[A])return!0;return!1}e.schemaHasRulesButRef=l;function p({topSchemaRef:_,schemaPath:O},A,K,J){if(!J){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${_}${O}${(0,t.getProperty)(K)}`}e.schemaRefOrVal=p;function c(_){return T(decodeURIComponent(_))}e.unescapeFragment=c;function y(_){return encodeURIComponent($(_))}e.escapeFragment=y;function $(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=$;function T(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=T;function w(_,O){if(Array.isArray(_))for(const A of _)O(A);else O(_)}e.eachItem=w;function S({mergeNames:_,mergeToName:O,mergeValues:A,resultToName:K}){return(J,se,Y,Ee)=>{const le=Y===void 0?se:Y instanceof t.Name?(se instanceof t.Name?_(J,se,Y):O(J,se,Y),Y):se instanceof t.Name?(O(J,Y,se),se):A(se,Y);return Ee===t.Name&&!(le instanceof t.Name)?K(J,le):le}}e.mergeEvaluated={props:S({mergeNames:(_,O,A)=>_.if((0,t._)`${A} !== true && ${O} !== undefined`,()=>{_.if((0,t._)`${O} === true`,()=>_.assign(A,!0),()=>_.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${O})`))}),mergeToName:(_,O,A)=>_.if((0,t._)`${A} !== true`,()=>{O===!0?_.assign(A,!0):(_.assign(A,(0,t._)`${A} || {}`),m(_,A,O))}),mergeValues:(_,O)=>_===!0?!0:{..._,...O},resultToName:N}),items:S({mergeNames:(_,O,A)=>_.if((0,t._)`${A} !== true && ${O} !== undefined`,()=>_.assign(A,(0,t._)`${O} === true ? true : ${A} > ${O} ? ${A} : ${O}`)),mergeToName:(_,O,A)=>_.if((0,t._)`${A} !== true`,()=>_.assign(A,O===!0?!0:(0,t._)`${A} > ${O} ? ${A} : ${O}`)),mergeValues:(_,O)=>_===!0?!0:Math.max(_,O),resultToName:(_,O)=>_.var("items",O)})};function N(_,O){if(O===!0)return _.var("props",!0);const A=_.var("props",(0,t._)`{}`);return O!==void 0&&m(_,A,O),A}e.evaluatedPropsToName=N;function m(_,O,A){Object.keys(A).forEach(K=>_.assign((0,t._)`${O}${(0,t.getProperty)(K)}`,!0))}e.setEvaluated=m;const v={};function C(_,O){return _.scopeValue("func",{ref:O,code:v[O.code]||(v[O.code]=new r._Code(O.code))})}e.useFunc=C;var R;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(R=e.Type||(e.Type={}));function k(_,O,A){if(_ instanceof t.Name){const K=O===R.Num;return A?K?(0,t._)`"[" + ${_} + "]"`:(0,t._)`"['" + ${_} + "']"`:K?(0,t._)`"/" + ${_}`:(0,t._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(_).toString():"/"+$(_)}e.getErrorPath=k;function D(_,O,A=_.opts.strictSchema){if(A){if(O=`strict mode: ${O}`,A===!0)throw new Error(O);_.self.logger.warn(O)}}e.checkStrictMode=D})(x);var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});const me=B,ii={data:new me.Name("data"),valCxt:new me.Name("valCxt"),instancePath:new me.Name("instancePath"),parentData:new me.Name("parentData"),parentDataProperty:new me.Name("parentDataProperty"),rootData:new me.Name("rootData"),dynamicAnchors:new me.Name("dynamicAnchors"),vErrors:new me.Name("vErrors"),errors:new me.Name("errors"),this:new me.Name("this"),self:new me.Name("self"),scope:new me.Name("scope"),json:new me.Name("json"),jsonPos:new me.Name("jsonPos"),jsonLen:new me.Name("jsonLen"),jsonPart:new me.Name("jsonPart")};Fe.default=ii;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=B,r=x,n=Fe;e.keywordError={message:({keyword:m})=>(0,t.str)`must pass "${m}" keyword validation`},e.keyword$DataError={message:({keyword:m,schemaType:v})=>v?(0,t.str)`"${m}" keyword must be ${v} ($data)`:(0,t.str)`"${m}" keyword is invalid ($data)`};function a(m,v=e.keywordError,C,R){const{it:k}=m,{gen:D,compositeRule:_,allErrors:O}=k,A=$(m,v,C);R??(_||O)?p(D,A):c(k,(0,t._)`[${A}]`)}e.reportError=a;function s(m,v=e.keywordError,C){const{it:R}=m,{gen:k,compositeRule:D,allErrors:_}=R,O=$(m,v,C);p(k,O),D||_||c(R,n.default.vErrors)}e.reportExtraError=s;function u(m,v){m.assign(n.default.errors,v),m.if((0,t._)`${n.default.vErrors} !== null`,()=>m.if(v,()=>m.assign((0,t._)`${n.default.vErrors}.length`,v),()=>m.assign(n.default.vErrors,null)))}e.resetErrorsCount=u;function l({gen:m,keyword:v,schemaValue:C,data:R,errsCount:k,it:D}){if(k===void 0)throw new Error("ajv implementation error");const _=m.name("err");m.forRange("i",k,n.default.errors,O=>{m.const(_,(0,t._)`${n.default.vErrors}[${O}]`),m.if((0,t._)`${_}.instancePath === undefined`,()=>m.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(n.default.instancePath,D.errorPath))),m.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${D.errSchemaPath}/${v}`),D.opts.verbose&&(m.assign((0,t._)`${_}.schema`,C),m.assign((0,t._)`${_}.data`,R))})}e.extendErrors=l;function p(m,v){const C=m.const("err",v);m.if((0,t._)`${n.default.vErrors} === null`,()=>m.assign(n.default.vErrors,(0,t._)`[${C}]`),(0,t._)`${n.default.vErrors}.push(${C})`),m.code((0,t._)`${n.default.errors}++`)}function c(m,v){const{gen:C,validateName:R,schemaEnv:k}=m;k.$async?C.throw((0,t._)`new ${m.ValidationError}(${v})`):(C.assign((0,t._)`${R}.errors`,v),C.return(!1))}const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(m,v,C){const{createErrors:R}=m.it;return R===!1?(0,t._)`{}`:T(m,v,C)}function T(m,v,C={}){const{gen:R,it:k}=m,D=[w(k,C),S(m,C)];return N(m,v,D),R.object(...D)}function w({errorPath:m},{instancePath:v}){const C=v?(0,t.str)`${m}${(0,r.getErrorPath)(v,r.Type.Str)}`:m;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,C)]}function S({keyword:m,it:{errSchemaPath:v}},{schemaPath:C,parentSchema:R}){let k=R?v:(0,t.str)`${v}/${m}`;return C&&(k=(0,t.str)`${k}${(0,r.getErrorPath)(C,r.Type.Str)}`),[y.schemaPath,k]}function N(m,{params:v,message:C},R){const{keyword:k,data:D,schemaValue:_,it:O}=m,{opts:A,propertyName:K,topSchemaRef:J,schemaPath:se}=O;R.push([y.keyword,k],[y.params,typeof v=="function"?v(m):v||(0,t._)`{}`]),A.messages&&R.push([y.message,typeof C=="function"?C(m):C]),A.verbose&&R.push([y.schema,_],[y.parentSchema,(0,t._)`${J}${se}`],[n.default.data,D]),K&&R.push([y.propertyName,K])}})(Xt);Object.defineProperty(Nt,"__esModule",{value:!0});Nt.boolOrEmptySchema=Nt.topBoolOrEmptySchema=void 0;const oi=Xt,ui=B,ci=Fe,li={message:"boolean schema is false"};function di(e){const{gen:t,schema:r,validateName:n}=e;r===!1?es(e,!1):typeof r=="object"&&r.$async===!0?t.return(ci.default.data):(t.assign((0,ui._)`${n}.errors`,null),t.return(!0))}Nt.topBoolOrEmptySchema=di;function fi(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),es(e)):r.var(t,!0)}Nt.boolOrEmptySchema=fi;function es(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,oi.reportError)(a,li,void 0,t)}var Qt={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.getRules=ot.isJSONType=void 0;const hi=["string","number","integer","boolean","null","object","array"],pi=new Set(hi);function mi(e){return typeof e=="string"&&pi.has(e)}ot.isJSONType=mi;function vi(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ot.getRules=vi;var ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.shouldUseRule=ze.shouldUseGroup=ze.schemaHasRulesForType=void 0;function yi({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&ts(e,n)}ze.schemaHasRulesForType=yi;function ts(e,t){return t.rules.some(r=>rs(e,r))}ze.shouldUseGroup=ts;function rs(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ze.shouldUseRule=rs;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ot,r=ze,n=Xt,a=B,s=x;var u;(function(R){R[R.Correct=0]="Correct",R[R.Wrong=1]="Wrong"})(u=e.DataType||(e.DataType={}));function l(R){const k=p(R.type);if(k.includes("null")){if(R.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!k.length&&R.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');R.nullable===!0&&k.push("null")}return k}e.getSchemaTypes=l;function p(R){const k=Array.isArray(R)?R:R?[R]:[];if(k.every(t.isJSONType))return k;throw new Error("type must be JSONType or JSONType[]: "+k.join(","))}e.getJSONTypes=p;function c(R,k){const{gen:D,data:_,opts:O}=R,A=$(k,O.coerceTypes),K=k.length>0&&!(A.length===0&&k.length===1&&(0,r.schemaHasRulesForType)(R,k[0]));if(K){const J=N(k,_,O.strictNumbers,u.Wrong);D.if(J,()=>{A.length?T(R,k,A):v(R)})}return K}e.coerceAndCheckDataType=c;const y=new Set(["string","number","integer","boolean","null"]);function $(R,k){return k?R.filter(D=>y.has(D)||k==="array"&&D==="array"):[]}function T(R,k,D){const{gen:_,data:O,opts:A}=R,K=_.let("dataType",(0,a._)`typeof ${O}`),J=_.let("coerced",(0,a._)`undefined`);A.coerceTypes==="array"&&_.if((0,a._)`${K} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>_.assign(O,(0,a._)`${O}[0]`).assign(K,(0,a._)`typeof ${O}`).if(N(k,O,A.strictNumbers),()=>_.assign(J,O))),_.if((0,a._)`${J} !== undefined`);for(const Y of D)(y.has(Y)||Y==="array"&&A.coerceTypes==="array")&&se(Y);_.else(),v(R),_.endIf(),_.if((0,a._)`${J} !== undefined`,()=>{_.assign(O,J),w(R,J)});function se(Y){switch(Y){case"string":_.elseIf((0,a._)`${K} == "number" || ${K} == "boolean"`).assign(J,(0,a._)`"" + ${O}`).elseIf((0,a._)`${O} === null`).assign(J,(0,a._)`""`);return;case"number":_.elseIf((0,a._)`${K} == "boolean" || ${O} === null
              || (${K} == "string" && ${O} && ${O} == +${O})`).assign(J,(0,a._)`+${O}`);return;case"integer":_.elseIf((0,a._)`${K} === "boolean" || ${O} === null
              || (${K} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(J,(0,a._)`+${O}`);return;case"boolean":_.elseIf((0,a._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(J,!1).elseIf((0,a._)`${O} === "true" || ${O} === 1`).assign(J,!0);return;case"null":_.elseIf((0,a._)`${O} === "" || ${O} === 0 || ${O} === false`),_.assign(J,null);return;case"array":_.elseIf((0,a._)`${K} === "string" || ${K} === "number"
              || ${K} === "boolean" || ${O} === null`).assign(J,(0,a._)`[${O}]`)}}}function w({gen:R,parentData:k,parentDataProperty:D},_){R.if((0,a._)`${k} !== undefined`,()=>R.assign((0,a._)`${k}[${D}]`,_))}function S(R,k,D,_=u.Correct){const O=_===u.Correct?a.operators.EQ:a.operators.NEQ;let A;switch(R){case"null":return(0,a._)`${k} ${O} null`;case"array":A=(0,a._)`Array.isArray(${k})`;break;case"object":A=(0,a._)`${k} && typeof ${k} == "object" && !Array.isArray(${k})`;break;case"integer":A=K((0,a._)`!(${k} % 1) && !isNaN(${k})`);break;case"number":A=K();break;default:return(0,a._)`typeof ${k} ${O} ${R}`}return _===u.Correct?A:(0,a.not)(A);function K(J=a.nil){return(0,a.and)((0,a._)`typeof ${k} == "number"`,J,D?(0,a._)`isFinite(${k})`:a.nil)}}e.checkDataType=S;function N(R,k,D,_){if(R.length===1)return S(R[0],k,D,_);let O;const A=(0,s.toHash)(R);if(A.array&&A.object){const K=(0,a._)`typeof ${k} != "object"`;O=A.null?K:(0,a._)`!${k} || ${K}`,delete A.null,delete A.array,delete A.object}else O=a.nil;A.number&&delete A.integer;for(const K in A)O=(0,a.and)(O,S(K,k,D,_));return O}e.checkDataTypes=N;const m={message:({schema:R})=>`must be ${R}`,params:({schema:R,schemaValue:k})=>typeof R=="string"?(0,a._)`{type: ${R}}`:(0,a._)`{type: ${k}}`};function v(R){const k=C(R);(0,n.reportError)(k,m)}e.reportTypeError=v;function C(R){const{gen:k,data:D,schema:_}=R,O=(0,s.schemaRefOrVal)(R,_,"type");return{gen:k,keyword:"type",data:D,schema:_.type,schemaCode:O,schemaValue:O,parentSchema:_,params:{},it:R}}})(Qt);var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.assignDefaults=void 0;const gt=B,$i=x;function gi(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)la(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,s)=>la(e,s,a.default))}wr.assignDefaults=gi;function la(e,t,r){const{gen:n,compositeRule:a,data:s,opts:u}=e;if(r===void 0)return;const l=(0,gt._)`${s}${(0,gt.getProperty)(t)}`;if(a){(0,$i.checkStrictMode)(e,`default is ignored for: ${l}`);return}let p=(0,gt._)`${l} === undefined`;u.useDefaults==="empty"&&(p=(0,gt._)`${p} || ${l} === null || ${l} === ""`),n.if(p,(0,gt._)`${l} = ${(0,gt.stringify)(r)}`)}var Ve={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;const re=B,un=x,Ge=Fe,_i=x;function wi(e,t){const{gen:r,data:n,it:a}=e;r.if(ln(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,re._)`${t}`},!0),e.error()})}G.checkReportMissingProp=wi;function bi({gen:e,data:t,it:{opts:r}},n,a){return(0,re.or)(...n.map(s=>(0,re.and)(ln(e,t,s,r.ownProperties),(0,re._)`${a} = ${s}`)))}G.checkMissingProp=bi;function Ei(e,t){e.setParams({missingProperty:t},!0),e.error()}G.reportMissingProp=Ei;function ns(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,re._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=ns;function cn(e,t,r){return(0,re._)`${ns(e)}.call(${t}, ${r})`}G.isOwnProperty=cn;function Si(e,t,r,n){const a=(0,re._)`${t}${(0,re.getProperty)(r)} !== undefined`;return n?(0,re._)`${a} && ${cn(e,t,r)}`:a}G.propertyInData=Si;function ln(e,t,r,n){const a=(0,re._)`${t}${(0,re.getProperty)(r)} === undefined`;return n?(0,re.or)(a,(0,re.not)(cn(e,t,r))):a}G.noPropertyInData=ln;function as(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}G.allSchemaProperties=as;function Pi(e,t){return as(t).filter(r=>!(0,un.alwaysValidSchema)(e,t[r]))}G.schemaProperties=Pi;function Ni({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:u},l,p,c){const y=c?(0,re._)`${e}, ${t}, ${n}${a}`:t,$=[[Ge.default.instancePath,(0,re.strConcat)(Ge.default.instancePath,s)],[Ge.default.parentData,u.parentData],[Ge.default.parentDataProperty,u.parentDataProperty],[Ge.default.rootData,Ge.default.rootData]];u.opts.dynamicRef&&$.push([Ge.default.dynamicAnchors,Ge.default.dynamicAnchors]);const T=(0,re._)`${y}, ${r.object(...$)}`;return p!==re.nil?(0,re._)`${l}.call(${p}, ${T})`:(0,re._)`${l}(${T})`}G.callValidateCode=Ni;const Oi=(0,re._)`new RegExp`;function Ci({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,s=a(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,re._)`${a.code==="new RegExp"?Oi:(0,_i.useFunc)(e,a)}(${r}, ${n})`})}G.usePattern=Ci;function Ri(e){const{gen:t,data:r,keyword:n,it:a}=e,s=t.name("valid");if(a.allErrors){const l=t.let("valid",!0);return u(()=>t.assign(l,!1)),l}return t.var(s,!0),u(()=>t.break()),s;function u(l){const p=t.const("len",(0,re._)`${r}.length`);t.forRange("i",0,p,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:un.Type.Num},s),t.if((0,re.not)(s),l)})}}G.validateArray=Ri;function Ti(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(p=>(0,un.alwaysValidSchema)(a,p))&&!a.opts.unevaluated)return;const u=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((p,c)=>{const y=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},l);t.assign(u,(0,re._)`${u} || ${l}`),e.mergeValidEvaluated(y,l)||t.if((0,re.not)(u))})),e.result(u,()=>e.reset(),()=>e.error(!0))}G.validateUnion=Ti;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.validateKeywordUsage=Ve.validSchemaType=Ve.funcKeywordCode=Ve.macroKeywordCode=void 0;const ye=B,nt=Fe,ji=G,ki=Xt;function Ii(e,t){const{gen:r,keyword:n,schema:a,parentSchema:s,it:u}=e,l=t.macro.call(u.self,a,s,u),p=ss(r,n,l);u.opts.validateSchema!==!1&&u.self.validateSchema(l,!0);const c=r.name("valid");e.subschema({schema:l,schemaPath:ye.nil,errSchemaPath:`${u.errSchemaPath}/${n}`,topSchemaRef:p,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}Ve.macroKeywordCode=Ii;function Ai(e,t){var r;const{gen:n,keyword:a,schema:s,parentSchema:u,$data:l,it:p}=e;Mi(p,t);const c=!l&&t.compile?t.compile.call(p.self,s,u,p):t.validate,y=ss(n,a,c),$=n.let("valid");e.block$data($,T),e.ok((r=t.valid)!==null&&r!==void 0?r:$);function T(){if(t.errors===!1)N(),t.modifying&&da(e),m(()=>e.error());else{const v=t.async?w():S();t.modifying&&da(e),m(()=>Di(e,v))}}function w(){const v=n.let("ruleErrs",null);return n.try(()=>N((0,ye._)`await `),C=>n.assign($,!1).if((0,ye._)`${C} instanceof ${p.ValidationError}`,()=>n.assign(v,(0,ye._)`${C}.errors`),()=>n.throw(C))),v}function S(){const v=(0,ye._)`${y}.errors`;return n.assign(v,null),N(ye.nil),v}function N(v=t.async?(0,ye._)`await `:ye.nil){const C=p.opts.passContext?nt.default.this:nt.default.self,R=!("compile"in t&&!l||t.schema===!1);n.assign($,(0,ye._)`${v}${(0,ji.callValidateCode)(e,y,C,R)}`,t.modifying)}function m(v){var C;n.if((0,ye.not)((C=t.valid)!==null&&C!==void 0?C:$),v)}}Ve.funcKeywordCode=Ai;function da(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ye._)`${n.parentData}[${n.parentDataProperty}]`))}function Di(e,t){const{gen:r}=e;r.if((0,ye._)`Array.isArray(${t})`,()=>{r.assign(nt.default.vErrors,(0,ye._)`${nt.default.vErrors} === null ? ${t} : ${nt.default.vErrors}.concat(${t})`).assign(nt.default.errors,(0,ye._)`${nt.default.vErrors}.length`),(0,ki.extendErrors)(e)},()=>e.error())}function Mi({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function ss(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ye.stringify)(r)})}function Ui(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ve.validSchemaType=Ui;function qi({schema:e,opts:t,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const u=a.dependencies;if(u!=null&&u.some(l=>!Object.prototype.hasOwnProperty.call(e,l)))throw new Error(`parent schema must have dependencies of ${s}: ${u.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[s])){const p=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(p);else throw new Error(p)}}Ve.validateKeywordUsage=qi;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.extendSubschemaMode=Xe.extendSubschemaData=Xe.getSubschema=void 0;const qe=B,is=x;function Vi(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:u}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const l=e.schema[t];return r===void 0?{schema:l,schemaPath:(0,qe._)`${e.schemaPath}${(0,qe.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:l[r],schemaPath:(0,qe._)`${e.schemaPath}${(0,qe.getProperty)(t)}${(0,qe.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,is.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||u===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:u,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Xe.getSubschema=Vi;function Fi(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:u}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=t;if(r!==void 0){const{errorPath:c,dataPathArr:y,opts:$}=t,T=l.let("data",(0,qe._)`${t.data}${(0,qe.getProperty)(r)}`,!0);p(T),e.errorPath=(0,qe.str)`${c}${(0,is.getErrorPath)(r,n,$.jsPropertySyntax)}`,e.parentDataProperty=(0,qe._)`${r}`,e.dataPathArr=[...y,e.parentDataProperty]}if(a!==void 0){const c=a instanceof qe.Name?a:l.let("data",a,!0);p(c),u!==void 0&&(e.propertyName=u)}s&&(e.dataTypes=s);function p(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Xe.extendSubschemaData=Fi;function Li(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Xe.extendSubschemaMode=Li;var pe={},os=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var u=s[a];if(!e(t[u],r[u]))return!1}return!0}return t!==t&&r!==r},us={exports:{}},We=us.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};lr(t,n,a,e,"",e)};We.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};We.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};We.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};We.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function lr(e,t,r,n,a,s,u,l,p,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,s,u,l,p,c);for(var y in n){var $=n[y];if(Array.isArray($)){if(y in We.arrayKeywords)for(var T=0;T<$.length;T++)lr(e,t,r,$[T],a+"/"+y+"/"+T,s,a,y,n,T)}else if(y in We.propsKeywords){if($&&typeof $=="object")for(var w in $)lr(e,t,r,$[w],a+"/"+y+"/"+zi(w),s,a,y,n,w)}else(y in We.keywords||e.allKeys&&!(y in We.skipKeywords))&&lr(e,t,r,$,a+"/"+y,s,a,y,n)}r(n,a,s,u,l,p,c)}}function zi(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Ki=us.exports;Object.defineProperty(pe,"__esModule",{value:!0});pe.getSchemaRefs=pe.resolveUrl=pe.normalizeId=pe._getFullPath=pe.getFullPath=pe.inlineRef=void 0;const Hi=x,Gi=os,Bi=Ki,Ji=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Wi(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Zr(e):t?cs(e)<=t:!1}pe.inlineRef=Wi;const Xi=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Zr(e){for(const t in e){if(Xi.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Zr)||typeof r=="object"&&Zr(r))return!0}return!1}function cs(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Ji.has(r)&&(typeof e[r]=="object"&&(0,Hi.eachItem)(e[r],n=>t+=cs(n)),t===1/0))return 1/0}return t}function ls(e,t="",r){r!==!1&&(t=Pt(t));const n=e.parse(t);return ds(e,n)}pe.getFullPath=ls;function ds(e,t){return e.serialize(t).split("#")[0]+"#"}pe._getFullPath=ds;const Qi=/#\/?$/;function Pt(e){return e?e.replace(Qi,""):""}pe.normalizeId=Pt;function Yi(e,t,r){return r=Pt(r),e.resolve(t,r)}pe.resolveUrl=Yi;const Zi=/^[a-z_][-a-z0-9._]*$/i;function xi(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Pt(e[r]||t),s={"":a},u=ls(n,a,!1),l={},p=new Set;return Bi(e,{allKeys:!0},($,T,w,S)=>{if(S===void 0)return;const N=u+T;let m=s[S];typeof $[r]=="string"&&(m=v.call(this,$[r])),C.call(this,$.$anchor),C.call(this,$.$dynamicAnchor),s[T]=m;function v(R){const k=this.opts.uriResolver.resolve;if(R=Pt(m?k(m,R):R),p.has(R))throw y(R);p.add(R);let D=this.refs[R];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?c($,D.schema,R):R!==Pt(N)&&(R[0]==="#"?(c($,l[R],R),l[R]=$):this.refs[R]=N),R}function C(R){if(typeof R=="string"){if(!Zi.test(R))throw new Error(`invalid anchor "${R}"`);v.call(this,`#${R}`)}}}),l;function c($,T,w){if(T!==void 0&&!Gi($,T))throw y(w)}function y($){return new Error(`reference "${$}" resolves to more than one schema`)}}pe.getSchemaRefs=xi;Object.defineProperty(Te,"__esModule",{value:!0});Te.getData=Te.KeywordCxt=Te.validateFunctionCode=void 0;const fs=Nt,fa=Qt,dn=ze,vr=Qt,eo=wr,Kt=Ve,Rr=Xe,V=B,z=Fe,to=pe,Ke=x,Ft=Xt;function ro(e){if(ms(e)&&(vs(e),ps(e))){so(e);return}hs(e,()=>(0,fs.topBoolOrEmptySchema)(e))}Te.validateFunctionCode=ro;function hs({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},s){a.code.es5?e.func(t,(0,V._)`${z.default.data}, ${z.default.valCxt}`,n.$async,()=>{e.code((0,V._)`"use strict"; ${ha(r,a)}`),ao(e,a),e.code(s)}):e.func(t,(0,V._)`${z.default.data}, ${no(a)}`,n.$async,()=>e.code(ha(r,a)).code(s))}function no(e){return(0,V._)`{${z.default.instancePath}="", ${z.default.parentData}, ${z.default.parentDataProperty}, ${z.default.rootData}=${z.default.data}${e.dynamicRef?(0,V._)`, ${z.default.dynamicAnchors}={}`:V.nil}}={}`}function ao(e,t){e.if(z.default.valCxt,()=>{e.var(z.default.instancePath,(0,V._)`${z.default.valCxt}.${z.default.instancePath}`),e.var(z.default.parentData,(0,V._)`${z.default.valCxt}.${z.default.parentData}`),e.var(z.default.parentDataProperty,(0,V._)`${z.default.valCxt}.${z.default.parentDataProperty}`),e.var(z.default.rootData,(0,V._)`${z.default.valCxt}.${z.default.rootData}`),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,V._)`${z.default.valCxt}.${z.default.dynamicAnchors}`)},()=>{e.var(z.default.instancePath,(0,V._)`""`),e.var(z.default.parentData,(0,V._)`undefined`),e.var(z.default.parentDataProperty,(0,V._)`undefined`),e.var(z.default.rootData,z.default.data),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,V._)`{}`)})}function so(e){const{schema:t,opts:r,gen:n}=e;hs(e,()=>{r.$comment&&t.$comment&&$s(e),lo(e),n.let(z.default.vErrors,null),n.let(z.default.errors,0),r.unevaluated&&io(e),ys(e),po(e)})}function io(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,V._)`${r}.evaluated`),t.if((0,V._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,V._)`${e.evaluated}.props`,(0,V._)`undefined`)),t.if((0,V._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,V._)`${e.evaluated}.items`,(0,V._)`undefined`))}function ha(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,V._)`/*# sourceURL=${r} */`:V.nil}function oo(e,t){if(ms(e)&&(vs(e),ps(e))){uo(e,t);return}(0,fs.boolOrEmptySchema)(e,t)}function ps({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function ms(e){return typeof e.schema!="boolean"}function uo(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&$s(e),fo(e),ho(e);const s=n.const("_errs",z.default.errors);ys(e,s),n.var(t,(0,V._)`${s} === ${z.default.errors}`)}function vs(e){(0,Ke.checkUnknownRules)(e),co(e)}function ys(e,t){if(e.opts.jtd)return pa(e,[],!1,t);const r=(0,fa.getSchemaTypes)(e.schema),n=(0,fa.coerceAndCheckDataType)(e,r);pa(e,r,!n,t)}function co(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ke.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function lo(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ke.checkStrictMode)(e,"default is ignored in the schema root")}function fo(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,to.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function ho(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function $s({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)e.code((0,V._)`${z.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const u=(0,V.str)`${n}/$comment`,l=e.scopeValue("root",{ref:t.root});e.code((0,V._)`${z.default.self}.opts.$comment(${s}, ${u}, ${l}.schema)`)}}function po(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=e;r.$async?t.if((0,V._)`${z.default.errors} === 0`,()=>t.return(z.default.data),()=>t.throw((0,V._)`new ${a}(${z.default.vErrors})`)):(t.assign((0,V._)`${n}.errors`,z.default.vErrors),s.unevaluated&&mo(e),t.return((0,V._)`${z.default.errors} === 0`))}function mo({gen:e,evaluated:t,props:r,items:n}){r instanceof V.Name&&e.assign((0,V._)`${t}.props`,r),n instanceof V.Name&&e.assign((0,V._)`${t}.items`,n)}function pa(e,t,r,n){const{gen:a,schema:s,data:u,allErrors:l,opts:p,self:c}=e,{RULES:y}=c;if(s.$ref&&(p.ignoreKeywordsWithRef||!(0,Ke.schemaHasRulesButRef)(s,y))){a.block(()=>ws(e,"$ref",y.all.$ref.definition));return}p.jtd||vo(e,t),a.block(()=>{for(const T of y.rules)$(T);$(y.post)});function $(T){(0,dn.shouldUseGroup)(s,T)&&(T.type?(a.if((0,vr.checkDataType)(T.type,u,p.strictNumbers)),ma(e,T),t.length===1&&t[0]===T.type&&r&&(a.else(),(0,vr.reportTypeError)(e)),a.endIf()):ma(e,T),l||a.if((0,V._)`${z.default.errors} === ${n||0}`))}}function ma(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,eo.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,dn.shouldUseRule)(n,s)&&ws(e,s.keyword,s.definition,t.type)})}function vo(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(yo(e,t),e.opts.allowUnionTypes||$o(e,t),go(e,e.dataTypes))}function yo(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{gs(e.dataTypes,r)||fn(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),wo(e,t)}}function $o(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&fn(e,"use allowUnionTypes to allow union type keyword")}function go(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,dn.shouldUseRule)(e.schema,a)){const{type:s}=a.definition;s.length&&!s.some(u=>_o(t,u))&&fn(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function _o(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function gs(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function wo(e,t){const r=[];for(const n of e.dataTypes)gs(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function fn(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ke.checkStrictMode)(e,t,e.opts.strictTypes)}class _s{constructor(t,r,n){if((0,Kt.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ke.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",bs(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Kt.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",z.default.errors))}result(t,r,n){this.failResult((0,V.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,V.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,V._)`${r} !== undefined && (${(0,V.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ft.reportExtraError:Ft.reportError)(this,this.def.error,r)}$dataError(){(0,Ft.reportError)(this,this.def.$dataError||Ft.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ft.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=V.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=V.nil,r=V.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:u}=this;n.if((0,V.or)((0,V._)`${a} === undefined`,r)),t!==V.nil&&n.assign(t,!0),(s.length||u.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==V.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,V.or)(u(),l());function u(){if(n.length){if(!(r instanceof V.Name))throw new Error("ajv implementation error");const p=Array.isArray(n)?n:[n];return(0,V._)`${(0,vr.checkDataTypes)(p,r,s.opts.strictNumbers,vr.DataType.Wrong)}`}return V.nil}function l(){if(a.validateSchema){const p=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,V._)`!${p}(${r})`}return V.nil}}subschema(t,r){const n=(0,Rr.getSubschema)(this.it,t);(0,Rr.extendSubschemaData)(n,this.it,t),(0,Rr.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return oo(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ke.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ke.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,V.Name)),!0}}Te.KeywordCxt=_s;function ws(e,t,r,n){const a=new _s(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Kt.funcKeywordCode)(a,r):"macro"in r?(0,Kt.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Kt.funcKeywordCode)(a,r)}const bo=/^\/(?:[^~]|~0|~1)*$/,Eo=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function bs(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,s;if(e==="")return z.default.rootData;if(e[0]==="/"){if(!bo.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,s=z.default.rootData}else{const c=Eo.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const y=+c[1];if(a=c[2],a==="#"){if(y>=t)throw new Error(p("property/index",y));return n[t-y]}if(y>t)throw new Error(p("data",y));if(s=r[t-y],!a)return s}let u=s;const l=a.split("/");for(const c of l)c&&(s=(0,V._)`${s}${(0,V.getProperty)((0,Ke.unescapeJsonPointer)(c))}`,u=(0,V._)`${u} && ${s}`);return u;function p(c,y){return`Cannot access ${c} ${y} levels up, current level is ${t}`}}Te.getData=bs;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});class So extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Yt.default=So;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});const Tr=pe;class Po extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Tr.resolveUrl)(t,r,n),this.missingSchema=(0,Tr.normalizeId)((0,Tr.getFullPath)(t,this.missingRef))}}Zt.default=Po;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.resolveSchema=_e.getCompilingSchema=_e.resolveRef=_e.compileSchema=_e.SchemaEnv=void 0;const Oe=B,No=Yt,rt=Fe,Re=pe,va=x,Oo=Te;class br{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Re.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}_e.SchemaEnv=br;function hn(e){const t=Es.call(this,e);if(t)return t;const r=(0,Re.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,u=new Oe.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let l;e.$async&&(l=u.scopeValue("Error",{ref:No.default,code:(0,Oe._)`require("ajv/dist/runtime/validation_error").default`}));const p=u.scopeName("validate");e.validateName=p;const c={gen:u,allErrors:this.opts.allErrors,data:rt.default.data,parentData:rt.default.parentData,parentDataProperty:rt.default.parentDataProperty,dataNames:[rt.default.data],dataPathArr:[Oe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Oe.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:l,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Oe.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Oe._)`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),(0,Oo.validateFunctionCode)(c),u.optimize(this.opts.code.optimize);const $=u.toString();y=`${u.scopeRefs(rt.default.scope)}return ${$}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const w=new Function(`${rt.default.self}`,`${rt.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:w}),w.errors=null,w.schema=e.schema,w.schemaEnv=e,e.$async&&(w.$async=!0),this.opts.code.source===!0&&(w.source={validateName:p,validateCode:$,scopeValues:u._values}),this.opts.unevaluated){const{props:S,items:N}=c;w.evaluated={props:S instanceof Oe.Name?void 0:S,items:N instanceof Oe.Name?void 0:N,dynamicProps:S instanceof Oe.Name,dynamicItems:N instanceof Oe.Name},w.source&&(w.source.evaluated=(0,Oe.stringify)(w.evaluated))}return e.validate=w,e}catch($){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),$}finally{this._compilations.delete(e)}}_e.compileSchema=hn;function Co(e,t,r){var n;r=(0,Re.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=jo.call(this,e,r);if(s===void 0){const u=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:l}=this.opts;u&&(s=new br({schema:u,schemaId:l,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=Ro.call(this,s)}_e.resolveRef=Co;function Ro(e){return(0,Re.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:hn.call(this,e)}function Es(e){for(const t of this._compilations)if(To(t,e))return t}_e.getCompilingSchema=Es;function To(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function jo(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Er.call(this,e,t)}function Er(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Re._getFullPath)(this.opts.uriResolver,r);let a=(0,Re.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return jr.call(this,r,e);const s=(0,Re.normalizeId)(n),u=this.refs[s]||this.schemas[s];if(typeof u=="string"){const l=Er.call(this,e,u);return typeof(l==null?void 0:l.schema)!="object"?void 0:jr.call(this,r,l)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||hn.call(this,u),s===(0,Re.normalizeId)(t)){const{schema:l}=u,{schemaId:p}=this.opts,c=l[p];return c&&(a=(0,Re.resolveUrl)(this.opts.uriResolver,a,c)),new br({schema:l,schemaId:p,root:e,baseId:a})}return jr.call(this,r,u)}}_e.resolveSchema=Er;const ko=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function jr(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const l of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const p=r[(0,va.unescapeFragment)(l)];if(p===void 0)return;r=p;const c=typeof r=="object"&&r[this.opts.schemaId];!ko.has(l)&&c&&(t=(0,Re.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,va.schemaHasRulesButRef)(r,this.RULES)){const l=(0,Re.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Er.call(this,n,l)}const{schemaId:u}=this.opts;if(s=s||new br({schema:r,schemaId:u,root:n,baseId:t}),s.schema!==s.root.schema)return s}const Io="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Ao="Meta-schema for $data reference (JSON AnySchema extension proposal)",Do="object",Mo=["$data"],Uo={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},qo=!1,Vo={$id:Io,description:Ao,type:Do,required:Mo,properties:Uo,additionalProperties:qo};var pn={},xr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(si,function(r){function n(){for(var d=arguments.length,o=Array(d),h=0;h<d;h++)o[h]=arguments[h];if(o.length>1){o[0]=o[0].slice(0,-1);for(var P=o.length-1,E=1;E<P;++E)o[E]=o[E].slice(1,-1);return o[P]=o[P].slice(1),o.join("")}else return o[0]}function a(d){return"(?:"+d+")"}function s(d){return d===void 0?"undefined":d===null?"null":Object.prototype.toString.call(d).split(" ").pop().split("]").shift().toLowerCase()}function u(d){return d.toUpperCase()}function l(d){return d!=null?d instanceof Array?d:typeof d.length!="number"||d.split||d.setInterval||d.call?[d]:Array.prototype.slice.call(d):[]}function p(d,o){var h=d;if(o)for(var P in o)h[P]=o[P];return h}function c(d){var o="[A-Za-z]",h="[0-9]",P=n(h,"[A-Fa-f]"),E=a(a("%[EFef]"+P+"%"+P+P+"%"+P+P)+"|"+a("%[89A-Fa-f]"+P+"%"+P+P)+"|"+a("%"+P+P)),F="[\\:\\/\\?\\#\\[\\]\\@]",L="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Z=n(F,L),te=d?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",oe=d?"[\\uE000-\\uF8FF]":"[]",X=n(o,h,"[\\-\\.\\_\\~]",te);a(o+n(o,h,"[\\+\\-\\.]")+"*"),a(a(E+"|"+n(X,L,"[\\:]"))+"*");var ee=a(a("25[0-5]")+"|"+a("2[0-4]"+h)+"|"+a("1"+h+h)+"|"+a("0?[1-9]"+h)+"|0?0?"+h),ue=a(ee+"\\."+ee+"\\."+ee+"\\."+ee),H=a(P+"{1,4}"),ne=a(a(H+"\\:"+H)+"|"+ue),de=a(a(H+"\\:")+"{6}"+ne),ae=a("\\:\\:"+a(H+"\\:")+"{5}"+ne),He=a(a(H)+"?\\:\\:"+a(H+"\\:")+"{4}"+ne),De=a(a(a(H+"\\:")+"{0,1}"+H)+"?\\:\\:"+a(H+"\\:")+"{3}"+ne),Me=a(a(a(H+"\\:")+"{0,2}"+H)+"?\\:\\:"+a(H+"\\:")+"{2}"+ne),$t=a(a(a(H+"\\:")+"{0,3}"+H)+"?\\:\\:"+H+"\\:"+ne),et=a(a(a(H+"\\:")+"{0,4}"+H)+"?\\:\\:"+ne),Pe=a(a(a(H+"\\:")+"{0,5}"+H)+"?\\:\\:"+H),Ue=a(a(a(H+"\\:")+"{0,6}"+H)+"?\\:\\:"),tt=a([de,ae,He,De,Me,$t,et,Pe,Ue].join("|")),Le=a(a(X+"|"+E)+"+");a("[vV]"+P+"+\\."+n(X,L,"[\\:]")+"+"),a(a(E+"|"+n(X,L))+"*");var qt=a(E+"|"+n(X,L,"[\\:\\@]"));return a(a(E+"|"+n(X,L,"[\\@]"))+"+"),a(a(qt+"|"+n("[\\/\\?]",oe))+"*"),{NOT_SCHEME:new RegExp(n("[^]",o,h,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",X,L),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",X,L),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",X,L),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",X,L),"g"),NOT_QUERY:new RegExp(n("[^\\%]",X,L,"[\\:\\@\\/\\?]",oe),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",X,L,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",X,L),"g"),UNRESERVED:new RegExp(X,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",X,Z),"g"),PCT_ENCODED:new RegExp(E,"g"),IPV4ADDRESS:new RegExp("^("+ue+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tt+")"+a(a("\\%25|\\%(?!"+P+"{2})")+"("+Le+")")+"?\\]?$")}}var y=c(!1),$=c(!0),T=function(){function d(o,h){var P=[],E=!0,F=!1,L=void 0;try{for(var Z=o[Symbol.iterator](),te;!(E=(te=Z.next()).done)&&(P.push(te.value),!(h&&P.length===h));E=!0);}catch(oe){F=!0,L=oe}finally{try{!E&&Z.return&&Z.return()}finally{if(F)throw L}}return P}return function(o,h){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return d(o,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(d){if(Array.isArray(d)){for(var o=0,h=Array(d.length);o<d.length;o++)h[o]=d[o];return h}else return Array.from(d)},S=2147483647,N=36,m=1,v=26,C=38,R=700,k=72,D=128,_="-",O=/^xn--/,A=/[^\0-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,J={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},se=N-m,Y=Math.floor,Ee=String.fromCharCode;function le(d){throw new RangeError(J[d])}function Qe(d,o){for(var h=[],P=d.length;P--;)h[P]=o(d[P]);return h}function Ye(d,o){var h=d.split("@"),P="";h.length>1&&(P=h[0]+"@",d=h[1]),d=d.replace(K,".");var E=d.split("."),F=Qe(E,o).join(".");return P+F}function lt(d){for(var o=[],h=0,P=d.length;h<P;){var E=d.charCodeAt(h++);if(E>=55296&&E<=56319&&h<P){var F=d.charCodeAt(h++);(F&64512)==56320?o.push(((E&1023)<<10)+(F&1023)+65536):(o.push(E),h--)}else o.push(E)}return o}var Tt=function(o){return String.fromCodePoint.apply(String,w(o))},dt=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:N},M=function(o,h){return o+22+75*(o<26)-((h!=0)<<5)},g=function(o,h,P){var E=0;for(o=P?Y(o/R):o>>1,o+=Y(o/h);o>se*v>>1;E+=N)o=Y(o/se);return Y(E+(se+1)*o/(o+C))},I=function(o){var h=[],P=o.length,E=0,F=D,L=k,Z=o.lastIndexOf(_);Z<0&&(Z=0);for(var te=0;te<Z;++te)o.charCodeAt(te)>=128&&le("not-basic"),h.push(o.charCodeAt(te));for(var oe=Z>0?Z+1:0;oe<P;){for(var X=E,ee=1,ue=N;;ue+=N){oe>=P&&le("invalid-input");var H=dt(o.charCodeAt(oe++));(H>=N||H>Y((S-E)/ee))&&le("overflow"),E+=H*ee;var ne=ue<=L?m:ue>=L+v?v:ue-L;if(H<ne)break;var de=N-ne;ee>Y(S/de)&&le("overflow"),ee*=de}var ae=h.length+1;L=g(E-X,ae,X==0),Y(E/ae)>S-F&&le("overflow"),F+=Y(E/ae),E%=ae,h.splice(E++,0,F)}return String.fromCodePoint.apply(String,h)},b=function(o){var h=[];o=lt(o);var P=o.length,E=D,F=0,L=k,Z=!0,te=!1,oe=void 0;try{for(var X=o[Symbol.iterator](),ee;!(Z=(ee=X.next()).done);Z=!0){var ue=ee.value;ue<128&&h.push(Ee(ue))}}catch(Vt){te=!0,oe=Vt}finally{try{!Z&&X.return&&X.return()}finally{if(te)throw oe}}var H=h.length,ne=H;for(H&&h.push(_);ne<P;){var de=S,ae=!0,He=!1,De=void 0;try{for(var Me=o[Symbol.iterator](),$t;!(ae=($t=Me.next()).done);ae=!0){var et=$t.value;et>=E&&et<de&&(de=et)}}catch(Vt){He=!0,De=Vt}finally{try{!ae&&Me.return&&Me.return()}finally{if(He)throw De}}var Pe=ne+1;de-E>Y((S-F)/Pe)&&le("overflow"),F+=(de-E)*Pe,E=de;var Ue=!0,tt=!1,Le=void 0;try{for(var qt=o[Symbol.iterator](),ia;!(Ue=(ia=qt.next()).done);Ue=!0){var oa=ia.value;if(oa<E&&++F>S&&le("overflow"),oa==E){for(var rr=F,nr=N;;nr+=N){var ar=nr<=L?m:nr>=L+v?v:nr-L;if(rr<ar)break;var ua=rr-ar,ca=N-ar;h.push(Ee(M(ar+ua%ca,0))),rr=Y(ua/ca)}h.push(Ee(M(rr,0))),L=g(F,Pe,ne==H),F=0,++ne}}}catch(Vt){tt=!0,Le=Vt}finally{try{!Ue&&qt.return&&qt.return()}finally{if(tt)throw Le}}++F,++E}return h.join("")},i=function(o){return Ye(o,function(h){return O.test(h)?I(h.slice(4).toLowerCase()):h})},f=function(o){return Ye(o,function(h){return A.test(h)?"xn--"+b(h):h})},j={version:"2.1.0",ucs2:{decode:lt,encode:Tt},decode:I,encode:b,toASCII:f,toUnicode:i},U={};function q(d){var o=d.charCodeAt(0),h=void 0;return o<16?h="%0"+o.toString(16).toUpperCase():o<128?h="%"+o.toString(16).toUpperCase():o<2048?h="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():h="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),h}function W(d){for(var o="",h=0,P=d.length;h<P;){var E=parseInt(d.substr(h+1,2),16);if(E<128)o+=String.fromCharCode(E),h+=3;else if(E>=194&&E<224){if(P-h>=6){var F=parseInt(d.substr(h+4,2),16);o+=String.fromCharCode((E&31)<<6|F&63)}else o+=d.substr(h,6);h+=6}else if(E>=224){if(P-h>=9){var L=parseInt(d.substr(h+4,2),16),Z=parseInt(d.substr(h+7,2),16);o+=String.fromCharCode((E&15)<<12|(L&63)<<6|Z&63)}else o+=d.substr(h,9);h+=9}else o+=d.substr(h,3),h+=3}return o}function Q(d,o){function h(P){var E=W(P);return E.match(o.UNRESERVED)?E:P}return d.scheme&&(d.scheme=String(d.scheme).replace(o.PCT_ENCODED,h).toLowerCase().replace(o.NOT_SCHEME,"")),d.userinfo!==void 0&&(d.userinfo=String(d.userinfo).replace(o.PCT_ENCODED,h).replace(o.NOT_USERINFO,q).replace(o.PCT_ENCODED,u)),d.host!==void 0&&(d.host=String(d.host).replace(o.PCT_ENCODED,h).toLowerCase().replace(o.NOT_HOST,q).replace(o.PCT_ENCODED,u)),d.path!==void 0&&(d.path=String(d.path).replace(o.PCT_ENCODED,h).replace(d.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,q).replace(o.PCT_ENCODED,u)),d.query!==void 0&&(d.query=String(d.query).replace(o.PCT_ENCODED,h).replace(o.NOT_QUERY,q).replace(o.PCT_ENCODED,u)),d.fragment!==void 0&&(d.fragment=String(d.fragment).replace(o.PCT_ENCODED,h).replace(o.NOT_FRAGMENT,q).replace(o.PCT_ENCODED,u)),d}function ie(d){return d.replace(/^0*(.*)/,"$1")||"0"}function ke(d,o){var h=d.match(o.IPV4ADDRESS)||[],P=T(h,2),E=P[1];return E?E.split(".").map(ie).join("."):d}function ft(d,o){var h=d.match(o.IPV6ADDRESS)||[],P=T(h,3),E=P[1],F=P[2];if(E){for(var L=E.toLowerCase().split("::").reverse(),Z=T(L,2),te=Z[0],oe=Z[1],X=oe?oe.split(":").map(ie):[],ee=te.split(":").map(ie),ue=o.IPV4ADDRESS.test(ee[ee.length-1]),H=ue?7:8,ne=ee.length-H,de=Array(H),ae=0;ae<H;++ae)de[ae]=X[ae]||ee[ne+ae]||"";ue&&(de[H-1]=ke(de[H-1],o));var He=de.reduce(function(Pe,Ue,tt){if(!Ue||Ue==="0"){var Le=Pe[Pe.length-1];Le&&Le.index+Le.length===tt?Le.length++:Pe.push({index:tt,length:1})}return Pe},[]),De=He.sort(function(Pe,Ue){return Ue.length-Pe.length})[0],Me=void 0;if(De&&De.length>1){var $t=de.slice(0,De.index),et=de.slice(De.index+De.length);Me=$t.join(":")+"::"+et.join(":")}else Me=de.join(":");return F&&(Me+="%"+F),Me}else return d}var jt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,kt="".match(/(){0}/)[1]===void 0;function we(d){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={},P=o.iri!==!1?$:y;o.reference==="suffix"&&(d=(o.scheme?o.scheme+":":"")+"//"+d);var E=d.match(jt);if(E){kt?(h.scheme=E[1],h.userinfo=E[3],h.host=E[4],h.port=parseInt(E[5],10),h.path=E[6]||"",h.query=E[7],h.fragment=E[8],isNaN(h.port)&&(h.port=E[5])):(h.scheme=E[1]||void 0,h.userinfo=d.indexOf("@")!==-1?E[3]:void 0,h.host=d.indexOf("//")!==-1?E[4]:void 0,h.port=parseInt(E[5],10),h.path=E[6]||"",h.query=d.indexOf("?")!==-1?E[7]:void 0,h.fragment=d.indexOf("#")!==-1?E[8]:void 0,isNaN(h.port)&&(h.port=d.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?E[4]:void 0)),h.host&&(h.host=ft(ke(h.host,P),P)),h.scheme===void 0&&h.userinfo===void 0&&h.host===void 0&&h.port===void 0&&!h.path&&h.query===void 0?h.reference="same-document":h.scheme===void 0?h.reference="relative":h.fragment===void 0?h.reference="absolute":h.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==h.reference&&(h.error=h.error||"URI is not a "+o.reference+" reference.");var F=U[(o.scheme||h.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!F||!F.unicodeSupport)){if(h.host&&(o.domainHost||F&&F.domainHost))try{h.host=j.toASCII(h.host.replace(P.PCT_ENCODED,W).toLowerCase())}catch(L){h.error=h.error||"Host's domain name can not be converted to ASCII via punycode: "+L}Q(h,y)}else Q(h,P);F&&F.parse&&F.parse(h,o)}else h.error=h.error||"URI can not be parsed.";return h}function It(d,o){var h=o.iri!==!1?$:y,P=[];return d.userinfo!==void 0&&(P.push(d.userinfo),P.push("@")),d.host!==void 0&&P.push(ft(ke(String(d.host),h),h).replace(h.IPV6ADDRESS,function(E,F,L){return"["+F+(L?"%25"+L:"")+"]"})),(typeof d.port=="number"||typeof d.port=="string")&&(P.push(":"),P.push(String(d.port))),P.length?P.join(""):void 0}var ht=/^\.\.?\//,pt=/^\/\.(\/|$)/,mt=/^\/\.\.(\/|$)/,At=/^\/?(?:.|\n)*?(?=\/|$)/;function Ie(d){for(var o=[];d.length;)if(d.match(ht))d=d.replace(ht,"");else if(d.match(pt))d=d.replace(pt,"/");else if(d.match(mt))d=d.replace(mt,"/"),o.pop();else if(d==="."||d==="..")d="";else{var h=d.match(At);if(h){var P=h[0];d=d.slice(P.length),o.push(P)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function $e(d){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=o.iri?$:y,P=[],E=U[(o.scheme||d.scheme||"").toLowerCase()];if(E&&E.serialize&&E.serialize(d,o),d.host&&!h.IPV6ADDRESS.test(d.host)){if(o.domainHost||E&&E.domainHost)try{d.host=o.iri?j.toUnicode(d.host):j.toASCII(d.host.replace(h.PCT_ENCODED,W).toLowerCase())}catch(Z){d.error=d.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+Z}}Q(d,h),o.reference!=="suffix"&&d.scheme&&(P.push(d.scheme),P.push(":"));var F=It(d,o);if(F!==void 0&&(o.reference!=="suffix"&&P.push("//"),P.push(F),d.path&&d.path.charAt(0)!=="/"&&P.push("/")),d.path!==void 0){var L=d.path;!o.absolutePath&&(!E||!E.absolutePath)&&(L=Ie(L)),F===void 0&&(L=L.replace(/^\/\//,"/%2F")),P.push(L)}return d.query!==void 0&&(P.push("?"),P.push(d.query)),d.fragment!==void 0&&(P.push("#"),P.push(d.fragment)),P.join("")}function vt(d,o){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments[3],E={};return P||(d=we($e(d,h),h),o=we($e(o,h),h)),h=h||{},!h.tolerant&&o.scheme?(E.scheme=o.scheme,E.userinfo=o.userinfo,E.host=o.host,E.port=o.port,E.path=Ie(o.path||""),E.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(E.userinfo=o.userinfo,E.host=o.host,E.port=o.port,E.path=Ie(o.path||""),E.query=o.query):(o.path?(o.path.charAt(0)==="/"?E.path=Ie(o.path):((d.userinfo!==void 0||d.host!==void 0||d.port!==void 0)&&!d.path?E.path="/"+o.path:d.path?E.path=d.path.slice(0,d.path.lastIndexOf("/")+1)+o.path:E.path=o.path,E.path=Ie(E.path)),E.query=o.query):(E.path=d.path,o.query!==void 0?E.query=o.query:E.query=d.query),E.userinfo=d.userinfo,E.host=d.host,E.port=d.port),E.scheme=d.scheme),E.fragment=o.fragment,E}function Dt(d,o,h){var P=p({scheme:"null"},h);return $e(vt(we(d,P),we(o,P),P,!0),P)}function Ze(d,o){return typeof d=="string"?d=$e(we(d,o),o):s(d)==="object"&&(d=we($e(d,o),o)),d}function Mt(d,o,h){return typeof d=="string"?d=$e(we(d,h),h):s(d)==="object"&&(d=$e(d,h)),typeof o=="string"?o=$e(we(o,h),h):s(o)==="object"&&(o=$e(o,h)),d===o}function tr(d,o){return d&&d.toString().replace(!o||!o.iri?y.ESCAPE:$.ESCAPE,q)}function Se(d,o){return d&&d.toString().replace(!o||!o.iri?y.PCT_ENCODED:$.PCT_ENCODED,W)}var xe={scheme:"http",domainHost:!0,parse:function(o,h){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,h){var P=String(o.scheme).toLowerCase()==="https";return(o.port===(P?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},Zn={scheme:"https",domainHost:xe.domainHost,parse:xe.parse,serialize:xe.serialize};function xn(d){return typeof d.secure=="boolean"?d.secure:String(d.scheme).toLowerCase()==="wss"}var Ut={scheme:"ws",domainHost:!0,parse:function(o,h){var P=o;return P.secure=xn(P),P.resourceName=(P.path||"/")+(P.query?"?"+P.query:""),P.path=void 0,P.query=void 0,P},serialize:function(o,h){if((o.port===(xn(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var P=o.resourceName.split("?"),E=T(P,2),F=E[0],L=E[1];o.path=F&&F!=="/"?F:void 0,o.query=L,o.resourceName=void 0}return o.fragment=void 0,o}},ea={scheme:"wss",domainHost:Ut.domainHost,parse:Ut.parse,serialize:Ut.serialize},Ws={},ta="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ae="[0-9A-Fa-f]",Xs=a(a("%[EFef]"+Ae+"%"+Ae+Ae+"%"+Ae+Ae)+"|"+a("%[89A-Fa-f]"+Ae+"%"+Ae+Ae)+"|"+a("%"+Ae+Ae)),Qs="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ys="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Zs=n(Ys,'[\\"\\\\]'),xs="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ei=new RegExp(ta,"g"),yt=new RegExp(Xs,"g"),ti=new RegExp(n("[^]",Qs,"[\\.]",'[\\"]',Zs),"g"),ra=new RegExp(n("[^]",ta,xs),"g"),ri=ra;function Cr(d){var o=W(d);return o.match(ei)?o:d}var na={scheme:"mailto",parse:function(o,h){var P=o,E=P.to=P.path?P.path.split(","):[];if(P.path=void 0,P.query){for(var F=!1,L={},Z=P.query.split("&"),te=0,oe=Z.length;te<oe;++te){var X=Z[te].split("=");switch(X[0]){case"to":for(var ee=X[1].split(","),ue=0,H=ee.length;ue<H;++ue)E.push(ee[ue]);break;case"subject":P.subject=Se(X[1],h);break;case"body":P.body=Se(X[1],h);break;default:F=!0,L[Se(X[0],h)]=Se(X[1],h);break}}F&&(P.headers=L)}P.query=void 0;for(var ne=0,de=E.length;ne<de;++ne){var ae=E[ne].split("@");if(ae[0]=Se(ae[0]),h.unicodeSupport)ae[1]=Se(ae[1],h).toLowerCase();else try{ae[1]=j.toASCII(Se(ae[1],h).toLowerCase())}catch(He){P.error=P.error||"Email address's domain name can not be converted to ASCII via punycode: "+He}E[ne]=ae.join("@")}return P},serialize:function(o,h){var P=o,E=l(o.to);if(E){for(var F=0,L=E.length;F<L;++F){var Z=String(E[F]),te=Z.lastIndexOf("@"),oe=Z.slice(0,te).replace(yt,Cr).replace(yt,u).replace(ti,q),X=Z.slice(te+1);try{X=h.iri?j.toUnicode(X):j.toASCII(Se(X,h).toLowerCase())}catch(ne){P.error=P.error||"Email address's domain name can not be converted to "+(h.iri?"Unicode":"ASCII")+" via punycode: "+ne}E[F]=oe+"@"+X}P.path=E.join(",")}var ee=o.headers=o.headers||{};o.subject&&(ee.subject=o.subject),o.body&&(ee.body=o.body);var ue=[];for(var H in ee)ee[H]!==Ws[H]&&ue.push(H.replace(yt,Cr).replace(yt,u).replace(ra,q)+"="+ee[H].replace(yt,Cr).replace(yt,u).replace(ri,q));return ue.length&&(P.query=ue.join("&")),P}},ni=/^([^\:]+)\:(.*)/,aa={scheme:"urn",parse:function(o,h){var P=o.path&&o.path.match(ni),E=o;if(P){var F=h.scheme||E.scheme||"urn",L=P[1].toLowerCase(),Z=P[2],te=F+":"+(h.nid||L),oe=U[te];E.nid=L,E.nss=Z,E.path=void 0,oe&&(E=oe.parse(E,h))}else E.error=E.error||"URN can not be parsed.";return E},serialize:function(o,h){var P=h.scheme||o.scheme||"urn",E=o.nid,F=P+":"+(h.nid||E),L=U[F];L&&(o=L.serialize(o,h));var Z=o,te=o.nss;return Z.path=(E||h.nid)+":"+te,Z}},ai=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,sa={scheme:"urn:uuid",parse:function(o,h){var P=o;return P.uuid=P.nss,P.nss=void 0,!h.tolerant&&(!P.uuid||!P.uuid.match(ai))&&(P.error=P.error||"UUID is not valid."),P},serialize:function(o,h){var P=o;return P.nss=(o.uuid||"").toLowerCase(),P}};U[xe.scheme]=xe,U[Zn.scheme]=Zn,U[Ut.scheme]=Ut,U[ea.scheme]=ea,U[na.scheme]=na,U[aa.scheme]=aa,U[sa.scheme]=sa,r.SCHEMES=U,r.pctEncChar=q,r.pctDecChars=W,r.parse=we,r.removeDotSegments=Ie,r.serialize=$e,r.resolveComponents=vt,r.resolve=Dt,r.normalize=Ze,r.equal=Mt,r.escapeComponent=tr,r.unescapeComponent=Se,Object.defineProperty(r,"__esModule",{value:!0})})})(xr,xr.exports);var Fo=xr.exports;Object.defineProperty(pn,"__esModule",{value:!0});const Ss=Fo;Ss.code='require("ajv/dist/runtime/uri").default';pn.default=Ss;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Te;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=B;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Yt,a=Zt,s=ot,u=_e,l=B,p=pe,c=Qt,y=x,$=Vo,T=pn,w=(M,g)=>new RegExp(M,g);w.code="new RegExp";const S=["removeAdditional","useDefaults","coerceTypes"],N=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},C=200;function R(M){var g,I,b,i,f,j,U,q,W,Q,ie,ke,ft,jt,kt,we,It,ht,pt,mt,At,Ie,$e,vt,Dt;const Ze=M.strict,Mt=(g=M.code)===null||g===void 0?void 0:g.optimize,tr=Mt===!0||Mt===void 0?1:Mt||0,Se=(b=(I=M.code)===null||I===void 0?void 0:I.regExp)!==null&&b!==void 0?b:w,xe=(i=M.uriResolver)!==null&&i!==void 0?i:T.default;return{strictSchema:(j=(f=M.strictSchema)!==null&&f!==void 0?f:Ze)!==null&&j!==void 0?j:!0,strictNumbers:(q=(U=M.strictNumbers)!==null&&U!==void 0?U:Ze)!==null&&q!==void 0?q:!0,strictTypes:(Q=(W=M.strictTypes)!==null&&W!==void 0?W:Ze)!==null&&Q!==void 0?Q:"log",strictTuples:(ke=(ie=M.strictTuples)!==null&&ie!==void 0?ie:Ze)!==null&&ke!==void 0?ke:"log",strictRequired:(jt=(ft=M.strictRequired)!==null&&ft!==void 0?ft:Ze)!==null&&jt!==void 0?jt:!1,code:M.code?{...M.code,optimize:tr,regExp:Se}:{optimize:tr,regExp:Se},loopRequired:(kt=M.loopRequired)!==null&&kt!==void 0?kt:C,loopEnum:(we=M.loopEnum)!==null&&we!==void 0?we:C,meta:(It=M.meta)!==null&&It!==void 0?It:!0,messages:(ht=M.messages)!==null&&ht!==void 0?ht:!0,inlineRefs:(pt=M.inlineRefs)!==null&&pt!==void 0?pt:!0,schemaId:(mt=M.schemaId)!==null&&mt!==void 0?mt:"$id",addUsedSchema:(At=M.addUsedSchema)!==null&&At!==void 0?At:!0,validateSchema:(Ie=M.validateSchema)!==null&&Ie!==void 0?Ie:!0,validateFormats:($e=M.validateFormats)!==null&&$e!==void 0?$e:!0,unicodeRegExp:(vt=M.unicodeRegExp)!==null&&vt!==void 0?vt:!0,int32range:(Dt=M.int32range)!==null&&Dt!==void 0?Dt:!0,uriResolver:xe}}class k{constructor(g={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,g=this.opts={...g,...R(g)};const{es5:I,lines:b}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:N,es5:I,lines:b}),this.logger=Y(g.logger);const i=g.validateFormats;g.validateFormats=!1,this.RULES=(0,s.getRules)(),D.call(this,m,g,"NOT SUPPORTED"),D.call(this,v,g,"DEPRECATED","warn"),this._metaOpts=J.call(this),g.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),g.keywords&&K.call(this,g.keywords),typeof g.meta=="object"&&this.addMetaSchema(g.meta),O.call(this),g.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:g,meta:I,schemaId:b}=this.opts;let i=$;b==="id"&&(i={...$},i.id=i.$id,delete i.$id),I&&g&&this.addMetaSchema(i,i[b],!1)}defaultMeta(){const{meta:g,schemaId:I}=this.opts;return this.opts.defaultMeta=typeof g=="object"?g[I]||g:void 0}validate(g,I){let b;if(typeof g=="string"){if(b=this.getSchema(g),!b)throw new Error(`no schema with key or ref "${g}"`)}else b=this.compile(g);const i=b(I);return"$async"in b||(this.errors=b.errors),i}compile(g,I){const b=this._addSchema(g,I);return b.validate||this._compileSchemaEnv(b)}compileAsync(g,I){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:b}=this.opts;return i.call(this,g,I);async function i(Q,ie){await f.call(this,Q.$schema);const ke=this._addSchema(Q,ie);return ke.validate||j.call(this,ke)}async function f(Q){Q&&!this.getSchema(Q)&&await i.call(this,{$ref:Q},!0)}async function j(Q){try{return this._compileSchemaEnv(Q)}catch(ie){if(!(ie instanceof a.default))throw ie;return U.call(this,ie),await q.call(this,ie.missingSchema),j.call(this,Q)}}function U({missingSchema:Q,missingRef:ie}){if(this.refs[Q])throw new Error(`AnySchema ${Q} is loaded but ${ie} cannot be resolved`)}async function q(Q){const ie=await W.call(this,Q);this.refs[Q]||await f.call(this,ie.$schema),this.refs[Q]||this.addSchema(ie,Q,I)}async function W(Q){const ie=this._loading[Q];if(ie)return ie;try{return await(this._loading[Q]=b(Q))}finally{delete this._loading[Q]}}}addSchema(g,I,b,i=this.opts.validateSchema){if(Array.isArray(g)){for(const j of g)this.addSchema(j,void 0,b,i);return this}let f;if(typeof g=="object"){const{schemaId:j}=this.opts;if(f=g[j],f!==void 0&&typeof f!="string")throw new Error(`schema ${j} must be string`)}return I=(0,p.normalizeId)(I||f),this._checkUnique(I),this.schemas[I]=this._addSchema(g,b,I,i,!0),this}addMetaSchema(g,I,b=this.opts.validateSchema){return this.addSchema(g,I,!0,b),this}validateSchema(g,I){if(typeof g=="boolean")return!0;let b;if(b=g.$schema,b!==void 0&&typeof b!="string")throw new Error("$schema must be a string");if(b=b||this.opts.defaultMeta||this.defaultMeta(),!b)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(b,g);if(!i&&I){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return i}getSchema(g){let I;for(;typeof(I=_.call(this,g))=="string";)g=I;if(I===void 0){const{schemaId:b}=this.opts,i=new u.SchemaEnv({schema:{},schemaId:b});if(I=u.resolveSchema.call(this,i,g),!I)return;this.refs[g]=I}return I.validate||this._compileSchemaEnv(I)}removeSchema(g){if(g instanceof RegExp)return this._removeAllSchemas(this.schemas,g),this._removeAllSchemas(this.refs,g),this;switch(typeof g){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const I=_.call(this,g);return typeof I=="object"&&this._cache.delete(I.schema),delete this.schemas[g],delete this.refs[g],this}case"object":{const I=g;this._cache.delete(I);let b=g[this.opts.schemaId];return b&&(b=(0,p.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(g){for(const I of g)this.addKeyword(I);return this}addKeyword(g,I){let b;if(typeof g=="string")b=g,typeof I=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),I.keyword=b);else if(typeof g=="object"&&I===void 0){if(I=g,b=I.keyword,Array.isArray(b)&&!b.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(le.call(this,b,I),!I)return(0,y.eachItem)(b,f=>Qe.call(this,f)),this;lt.call(this,I);const i={...I,type:(0,c.getJSONTypes)(I.type),schemaType:(0,c.getJSONTypes)(I.schemaType)};return(0,y.eachItem)(b,i.type.length===0?f=>Qe.call(this,f,i):f=>i.type.forEach(j=>Qe.call(this,f,i,j))),this}getKeyword(g){const I=this.RULES.all[g];return typeof I=="object"?I.definition:!!I}removeKeyword(g){const{RULES:I}=this;delete I.keywords[g],delete I.all[g];for(const b of I.rules){const i=b.rules.findIndex(f=>f.keyword===g);i>=0&&b.rules.splice(i,1)}return this}addFormat(g,I){return typeof I=="string"&&(I=new RegExp(I)),this.formats[g]=I,this}errorsText(g=this.errors,{separator:I=", ",dataVar:b="data"}={}){return!g||g.length===0?"No errors":g.map(i=>`${b}${i.instancePath} ${i.message}`).reduce((i,f)=>i+I+f)}$dataMetaSchema(g,I){const b=this.RULES.all;g=JSON.parse(JSON.stringify(g));for(const i of I){const f=i.split("/").slice(1);let j=g;for(const U of f)j=j[U];for(const U in b){const q=b[U];if(typeof q!="object")continue;const{$data:W}=q.definition,Q=j[U];W&&Q&&(j[U]=dt(Q))}}return g}_removeAllSchemas(g,I){for(const b in g){const i=g[b];(!I||I.test(b))&&(typeof i=="string"?delete g[b]:i&&!i.meta&&(this._cache.delete(i.schema),delete g[b]))}}_addSchema(g,I,b,i=this.opts.validateSchema,f=this.opts.addUsedSchema){let j;const{schemaId:U}=this.opts;if(typeof g=="object")j=g[U];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof g!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(g);if(q!==void 0)return q;b=(0,p.normalizeId)(j||b);const W=p.getSchemaRefs.call(this,g,b);return q=new u.SchemaEnv({schema:g,schemaId:U,meta:I,baseId:b,localRefs:W}),this._cache.set(q.schema,q),f&&!b.startsWith("#")&&(b&&this._checkUnique(b),this.refs[b]=q),i&&this.validateSchema(g,!0),q}_checkUnique(g){if(this.schemas[g]||this.refs[g])throw new Error(`schema with key or id "${g}" already exists`)}_compileSchemaEnv(g){if(g.meta?this._compileMetaSchema(g):u.compileSchema.call(this,g),!g.validate)throw new Error("ajv implementation error");return g.validate}_compileMetaSchema(g){const I=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,g)}finally{this.opts=I}}}e.default=k,k.ValidationError=n.default,k.MissingRefError=a.default;function D(M,g,I,b="error"){for(const i in M){const f=i;f in g&&this.logger[b](`${I}: option ${i}. ${M[f]}`)}}function _(M){return M=(0,p.normalizeId)(M),this.schemas[M]||this.refs[M]}function O(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const g in M)this.addSchema(M[g],g)}function A(){for(const M in this.opts.formats){const g=this.opts.formats[M];g&&this.addFormat(M,g)}}function K(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const g in M){const I=M[g];I.keyword||(I.keyword=g),this.addKeyword(I)}}function J(){const M={...this.opts};for(const g of S)delete M[g];return M}const se={log(){},warn(){},error(){}};function Y(M){if(M===!1)return se;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const Ee=/^[a-z_$][a-z0-9_$:-]*$/i;function le(M,g){const{RULES:I}=this;if((0,y.eachItem)(M,b=>{if(I.keywords[b])throw new Error(`Keyword ${b} is already defined`);if(!Ee.test(b))throw new Error(`Keyword ${b} has invalid name`)}),!!g&&g.$data&&!("code"in g||"validate"in g))throw new Error('$data keyword must have "code" or "validate" function')}function Qe(M,g,I){var b;const i=g==null?void 0:g.post;if(I&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let j=i?f.post:f.rules.find(({type:q})=>q===I);if(j||(j={type:I,rules:[]},f.rules.push(j)),f.keywords[M]=!0,!g)return;const U={keyword:M,definition:{...g,type:(0,c.getJSONTypes)(g.type),schemaType:(0,c.getJSONTypes)(g.schemaType)}};g.before?Ye.call(this,j,U,g.before):j.rules.push(U),f.all[M]=U,(b=g.implements)===null||b===void 0||b.forEach(q=>this.addKeyword(q))}function Ye(M,g,I){const b=M.rules.findIndex(i=>i.keyword===I);b>=0?M.rules.splice(b,0,g):(M.rules.push(g),this.logger.warn(`rule ${I} is not defined`))}function lt(M){let{metaSchema:g}=M;g!==void 0&&(M.$data&&this.opts.$data&&(g=dt(g)),M.validateSchema=this.compile(g,!0))}const Tt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function dt(M){return{anyOf:[M,Tt]}}})(xa);var mn={},vn={},yn={};Object.defineProperty(yn,"__esModule",{value:!0});const Lo={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};yn.default=Lo;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.callRef=ut.getValidate=void 0;const zo=Zt,ya=G,ge=B,_t=Fe,$a=_e,sr=x,Ko={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:s,validateName:u,opts:l,self:p}=n,{root:c}=s;if((r==="#"||r==="#/")&&a===c.baseId)return $();const y=$a.resolveRef.call(p,c,a,r);if(y===void 0)throw new zo.default(n.opts.uriResolver,a,r);if(y instanceof $a.SchemaEnv)return T(y);return w(y);function $(){if(s===c)return dr(e,u,s,s.$async);const S=t.scopeValue("root",{ref:c});return dr(e,(0,ge._)`${S}.validate`,c,c.$async)}function T(S){const N=Ps(e,S);dr(e,N,S,S.$async)}function w(S){const N=t.scopeValue("schema",l.code.source===!0?{ref:S,code:(0,ge.stringify)(S)}:{ref:S}),m=t.name("valid"),v=e.subschema({schema:S,dataTypes:[],schemaPath:ge.nil,topSchemaRef:N,errSchemaPath:r},m);e.mergeEvaluated(v),e.ok(m)}}};function Ps(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ge._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ut.getValidate=Ps;function dr(e,t,r,n){const{gen:a,it:s}=e,{allErrors:u,schemaEnv:l,opts:p}=s,c=p.passContext?_t.default.this:ge.nil;n?y():$();function y(){if(!l.$async)throw new Error("async schema referenced by sync schema");const S=a.let("valid");a.try(()=>{a.code((0,ge._)`await ${(0,ya.callValidateCode)(e,t,c)}`),w(t),u||a.assign(S,!0)},N=>{a.if((0,ge._)`!(${N} instanceof ${s.ValidationError})`,()=>a.throw(N)),T(N),u||a.assign(S,!1)}),e.ok(S)}function $(){e.result((0,ya.callValidateCode)(e,t,c),()=>w(t),()=>T(t))}function T(S){const N=(0,ge._)`${S}.errors`;a.assign(_t.default.vErrors,(0,ge._)`${_t.default.vErrors} === null ? ${N} : ${_t.default.vErrors}.concat(${N})`),a.assign(_t.default.errors,(0,ge._)`${_t.default.vErrors}.length`)}function w(S){var N;if(!s.opts.unevaluated)return;const m=(N=r==null?void 0:r.validate)===null||N===void 0?void 0:N.evaluated;if(s.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(s.props=sr.mergeEvaluated.props(a,m.props,s.props));else{const v=a.var("props",(0,ge._)`${S}.evaluated.props`);s.props=sr.mergeEvaluated.props(a,v,s.props,ge.Name)}if(s.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(s.items=sr.mergeEvaluated.items(a,m.items,s.items));else{const v=a.var("items",(0,ge._)`${S}.evaluated.items`);s.items=sr.mergeEvaluated.items(a,v,s.items,ge.Name)}}}ut.callRef=dr;ut.default=Ko;Object.defineProperty(vn,"__esModule",{value:!0});const Ho=yn,Go=ut,Bo=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ho.default,Go.default];vn.default=Bo;var $n={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});const yr=B,Be=yr.operators,$r={maximum:{okStr:"<=",ok:Be.LTE,fail:Be.GT},minimum:{okStr:">=",ok:Be.GTE,fail:Be.LT},exclusiveMaximum:{okStr:"<",ok:Be.LT,fail:Be.GTE},exclusiveMinimum:{okStr:">",ok:Be.GT,fail:Be.LTE}},Jo={message:({keyword:e,schemaCode:t})=>(0,yr.str)`must be ${$r[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,yr._)`{comparison: ${$r[e].okStr}, limit: ${t}}`},Wo={keyword:Object.keys($r),type:"number",schemaType:"number",$data:!0,error:Jo,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,yr._)`${r} ${$r[t].fail} ${n} || isNaN(${r})`)}};gn.default=Wo;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});const Ht=B,Xo={message:({schemaCode:e})=>(0,Ht.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ht._)`{multipleOf: ${e}}`},Qo={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Xo,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,u=t.let("res"),l=s?(0,Ht._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${s}`:(0,Ht._)`${u} !== parseInt(${u})`;e.fail$data((0,Ht._)`(${n} === 0 || (${u} = ${r}/${n}, ${l}))`)}};_n.default=Qo;var wn={},bn={};Object.defineProperty(bn,"__esModule",{value:!0});function Ns(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}bn.default=Ns;Ns.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(wn,"__esModule",{value:!0});const at=B,Yo=x,Zo=bn,xo={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,at.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,at._)`{limit: ${e}}`},eu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:xo,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,s=t==="maxLength"?at.operators.GT:at.operators.LT,u=a.opts.unicode===!1?(0,at._)`${r}.length`:(0,at._)`${(0,Yo.useFunc)(e.gen,Zo.default)}(${r})`;e.fail$data((0,at._)`${u} ${s} ${n}`)}};wn.default=eu;var En={};Object.defineProperty(En,"__esModule",{value:!0});const tu=G,gr=B,ru={message:({schemaCode:e})=>(0,gr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,gr._)`{pattern: ${e}}`},nu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ru,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:s}=e,u=s.opts.unicodeRegExp?"u":"",l=r?(0,gr._)`(new RegExp(${a}, ${u}))`:(0,tu.usePattern)(e,n);e.fail$data((0,gr._)`!${l}.test(${t})`)}};En.default=nu;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const Gt=B,au={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Gt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Gt._)`{limit: ${e}}`},su={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:au,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Gt.operators.GT:Gt.operators.LT;e.fail$data((0,Gt._)`Object.keys(${r}).length ${a} ${n}`)}};Sn.default=su;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const Lt=G,Bt=B,iu=x,ou={message:({params:{missingProperty:e}})=>(0,Bt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Bt._)`{missingProperty: ${e}}`},uu={keyword:"required",type:"object",schemaType:"array",$data:!0,error:ou,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:s,it:u}=e,{opts:l}=u;if(!s&&r.length===0)return;const p=r.length>=l.loopRequired;if(u.allErrors?c():y(),l.strictRequired){const w=e.parentSchema.properties,{definedProperties:S}=e.it;for(const N of r)if((w==null?void 0:w[N])===void 0&&!S.has(N)){const m=u.schemaEnv.baseId+u.errSchemaPath,v=`required property "${N}" is not defined at "${m}" (strictRequired)`;(0,iu.checkStrictMode)(u,v,u.opts.strictRequired)}}function c(){if(p||s)e.block$data(Bt.nil,$);else for(const w of r)(0,Lt.checkReportMissingProp)(e,w)}function y(){const w=t.let("missing");if(p||s){const S=t.let("valid",!0);e.block$data(S,()=>T(w,S)),e.ok(S)}else t.if((0,Lt.checkMissingProp)(e,r,w)),(0,Lt.reportMissingProp)(e,w),t.else()}function $(){t.forOf("prop",n,w=>{e.setParams({missingProperty:w}),t.if((0,Lt.noPropertyInData)(t,a,w,l.ownProperties),()=>e.error())})}function T(w,S){e.setParams({missingProperty:w}),t.forOf(w,n,()=>{t.assign(S,(0,Lt.propertyInData)(t,a,w,l.ownProperties)),t.if((0,Bt.not)(S),()=>{e.error(),t.break()})},Bt.nil)}}};Pn.default=uu;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const Jt=B,cu={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Jt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Jt._)`{limit: ${e}}`},lu={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:cu,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Jt.operators.GT:Jt.operators.LT;e.fail$data((0,Jt._)`${r}.length ${a} ${n}`)}};Nn.default=lu;var On={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});const Os=os;Os.code='require("ajv/dist/runtime/equal").default';xt.default=Os;Object.defineProperty(On,"__esModule",{value:!0});const kr=Qt,fe=B,du=x,fu=xt,hu={message:({params:{i:e,j:t}})=>(0,fe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,fe._)`{i: ${e}, j: ${t}}`},pu={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:hu,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:s,schemaCode:u,it:l}=e;if(!n&&!a)return;const p=t.let("valid"),c=s.items?(0,kr.getSchemaTypes)(s.items):[];e.block$data(p,y,(0,fe._)`${u} === false`),e.ok(p);function y(){const S=t.let("i",(0,fe._)`${r}.length`),N=t.let("j");e.setParams({i:S,j:N}),t.assign(p,!0),t.if((0,fe._)`${S} > 1`,()=>($()?T:w)(S,N))}function $(){return c.length>0&&!c.some(S=>S==="object"||S==="array")}function T(S,N){const m=t.name("item"),v=(0,kr.checkDataTypes)(c,m,l.opts.strictNumbers,kr.DataType.Wrong),C=t.const("indices",(0,fe._)`{}`);t.for((0,fe._)`;${S}--;`,()=>{t.let(m,(0,fe._)`${r}[${S}]`),t.if(v,(0,fe._)`continue`),c.length>1&&t.if((0,fe._)`typeof ${m} == "string"`,(0,fe._)`${m} += "_"`),t.if((0,fe._)`typeof ${C}[${m}] == "number"`,()=>{t.assign(N,(0,fe._)`${C}[${m}]`),e.error(),t.assign(p,!1).break()}).code((0,fe._)`${C}[${m}] = ${S}`)})}function w(S,N){const m=(0,du.useFunc)(t,fu.default),v=t.name("outer");t.label(v).for((0,fe._)`;${S}--;`,()=>t.for((0,fe._)`${N} = ${S}; ${N}--;`,()=>t.if((0,fe._)`${m}(${r}[${S}], ${r}[${N}])`,()=>{e.error(),t.assign(p,!1).break(v)})))}}};On.default=pu;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const en=B,mu=x,vu=xt,yu={message:"must be equal to constant",params:({schemaCode:e})=>(0,en._)`{allowedValue: ${e}}`},$u={keyword:"const",$data:!0,error:yu,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,en._)`!${(0,mu.useFunc)(t,vu.default)}(${r}, ${a})`):e.fail((0,en._)`${s} !== ${r}`)}};Cn.default=$u;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});const zt=B,gu=x,_u=xt,wu={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,zt._)`{allowedValues: ${e}}`},bu={keyword:"enum",schemaType:"array",$data:!0,error:wu,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:u}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const l=a.length>=u.opts.loopEnum;let p;const c=()=>p??(p=(0,gu.useFunc)(t,_u.default));let y;if(l||n)y=t.let("valid"),e.block$data(y,$);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const w=t.const("vSchema",s);y=(0,zt.or)(...a.map((S,N)=>T(w,N)))}e.pass(y);function $(){t.assign(y,!1),t.forOf("v",s,w=>t.if((0,zt._)`${c()}(${r}, ${w})`,()=>t.assign(y,!0).break()))}function T(w,S){const N=a[S];return typeof N=="object"&&N!==null?(0,zt._)`${c()}(${r}, ${w}[${S}])`:(0,zt._)`${r} === ${N}`}}};Rn.default=bu;Object.defineProperty($n,"__esModule",{value:!0});const Eu=gn,Su=_n,Pu=wn,Nu=En,Ou=Sn,Cu=Pn,Ru=Nn,Tu=On,ju=Cn,ku=Rn,Iu=[Eu.default,Su.default,Pu.default,Nu.default,Ou.default,Cu.default,Ru.default,Tu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},ju.default,ku.default];$n.default=Iu;var Tn={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.validateAdditionalItems=void 0;const st=B,tn=x,Au={message:({params:{len:e}})=>(0,st.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,st._)`{limit: ${e}}`},Du={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Au,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,tn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Cs(e,n)}};function Cs(e,t){const{gen:r,schema:n,data:a,keyword:s,it:u}=e;u.items=!0;const l=r.const("len",(0,st._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,st._)`${l} <= ${t.length}`);else if(typeof n=="object"&&!(0,tn.alwaysValidSchema)(u,n)){const c=r.var("valid",(0,st._)`${l} <= ${t.length}`);r.if((0,st.not)(c),()=>p(c)),e.ok(c)}function p(c){r.forRange("i",t.length,l,y=>{e.subschema({keyword:s,dataProp:y,dataPropType:tn.Type.Num},c),u.allErrors||r.if((0,st.not)(c),()=>r.break())})}}Ct.validateAdditionalItems=Cs;Ct.default=Du;var jn={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.validateTuple=void 0;const ga=B,fr=x,Mu=G,Uu={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Rs(e,"additionalItems",t);r.items=!0,!(0,fr.alwaysValidSchema)(r,t)&&e.ok((0,Mu.validateArray)(e))}};function Rs(e,t,r=e.schema){const{gen:n,parentSchema:a,data:s,keyword:u,it:l}=e;y(a),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=fr.mergeEvaluated.items(n,r.length,l.items));const p=n.name("valid"),c=n.const("len",(0,ga._)`${s}.length`);r.forEach(($,T)=>{(0,fr.alwaysValidSchema)(l,$)||(n.if((0,ga._)`${c} > ${T}`,()=>e.subschema({keyword:u,schemaProp:T,dataProp:T},p)),e.ok(p))});function y($){const{opts:T,errSchemaPath:w}=l,S=r.length,N=S===$.minItems&&(S===$.maxItems||$[t]===!1);if(T.strictTuples&&!N){const m=`"${u}" is ${S}-tuple, but minItems or maxItems/${t} are not specified or different at path "${w}"`;(0,fr.checkStrictMode)(l,m,T.strictTuples)}}}Rt.validateTuple=Rs;Rt.default=Uu;Object.defineProperty(jn,"__esModule",{value:!0});const qu=Rt,Vu={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,qu.validateTuple)(e,"items")};jn.default=Vu;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const _a=B,Fu=x,Lu=G,zu=Ct,Ku={message:({params:{len:e}})=>(0,_a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,_a._)`{limit: ${e}}`},Hu={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ku,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,Fu.alwaysValidSchema)(n,t)&&(a?(0,zu.validateAdditionalItems)(e,a):e.ok((0,Lu.validateArray)(e)))}};kn.default=Hu;var In={};Object.defineProperty(In,"__esModule",{value:!0});const Ne=B,ir=x,Gu={message:({params:{min:e,max:t}})=>t===void 0?(0,Ne.str)`must contain at least ${e} valid item(s)`:(0,Ne.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ne._)`{minContains: ${e}}`:(0,Ne._)`{minContains: ${e}, maxContains: ${t}}`},Bu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Gu,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;let u,l;const{minContains:p,maxContains:c}=n;s.opts.next?(u=p===void 0?1:p,l=c):u=1;const y=t.const("len",(0,Ne._)`${a}.length`);if(e.setParams({min:u,max:l}),l===void 0&&u===0){(0,ir.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&u>l){(0,ir.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ir.alwaysValidSchema)(s,r)){let N=(0,Ne._)`${y} >= ${u}`;l!==void 0&&(N=(0,Ne._)`${N} && ${y} <= ${l}`),e.pass(N);return}s.items=!0;const $=t.name("valid");l===void 0&&u===1?w($,()=>t.if($,()=>t.break())):u===0?(t.let($,!0),l!==void 0&&t.if((0,Ne._)`${a}.length > 0`,T)):(t.let($,!1),T()),e.result($,()=>e.reset());function T(){const N=t.name("_valid"),m=t.let("count",0);w(N,()=>t.if(N,()=>S(m)))}function w(N,m){t.forRange("i",0,y,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:ir.Type.Num,compositeRule:!0},N),m()})}function S(N){t.code((0,Ne._)`${N}++`),l===void 0?t.if((0,Ne._)`${N} >= ${u}`,()=>t.assign($,!0).break()):(t.if((0,Ne._)`${N} > ${l}`,()=>t.assign($,!1).break()),u===1?t.assign($,!0):t.if((0,Ne._)`${N} >= ${u}`,()=>t.assign($,!0)))}}};In.default=Bu;var Ts={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=B,r=x,n=G;e.error={message:({params:{property:p,depsCount:c,deps:y}})=>{const $=c===1?"property":"properties";return(0,t.str)`must have ${$} ${y} when property ${p} is present`},params:({params:{property:p,depsCount:c,deps:y,missingProperty:$}})=>(0,t._)`{property: ${p},
    missingProperty: ${$},
    depsCount: ${c},
    deps: ${y}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(p){const[c,y]=s(p);u(p,c),l(p,y)}};function s({schema:p}){const c={},y={};for(const $ in p){if($==="__proto__")continue;const T=Array.isArray(p[$])?c:y;T[$]=p[$]}return[c,y]}function u(p,c=p.schema){const{gen:y,data:$,it:T}=p;if(Object.keys(c).length===0)return;const w=y.let("missing");for(const S in c){const N=c[S];if(N.length===0)continue;const m=(0,n.propertyInData)(y,$,S,T.opts.ownProperties);p.setParams({property:S,depsCount:N.length,deps:N.join(", ")}),T.allErrors?y.if(m,()=>{for(const v of N)(0,n.checkReportMissingProp)(p,v)}):(y.if((0,t._)`${m} && (${(0,n.checkMissingProp)(p,N,w)})`),(0,n.reportMissingProp)(p,w),y.else())}}e.validatePropertyDeps=u;function l(p,c=p.schema){const{gen:y,data:$,keyword:T,it:w}=p,S=y.name("valid");for(const N in c)(0,r.alwaysValidSchema)(w,c[N])||(y.if((0,n.propertyInData)(y,$,N,w.opts.ownProperties),()=>{const m=p.subschema({keyword:T,schemaProp:N},S);p.mergeValidEvaluated(m,S)},()=>y.var(S,!0)),p.ok(S))}e.validateSchemaDeps=l,e.default=a})(Ts);var An={};Object.defineProperty(An,"__esModule",{value:!0});const js=B,Ju=x,Wu={message:"property name must be valid",params:({params:e})=>(0,js._)`{propertyName: ${e.propertyName}}`},Xu={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Wu,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,Ju.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",n,u=>{e.setParams({propertyName:u}),e.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},s),t.if((0,js.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};An.default=Xu;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const or=G,Ce=B,Qu=Fe,ur=x,Yu={message:"must NOT have additional properties",params:({params:e})=>(0,Ce._)`{additionalProperty: ${e.additionalProperty}}`},Zu={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Yu,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:s,it:u}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:l,opts:p}=u;if(u.props=!0,p.removeAdditional!=="all"&&(0,ur.alwaysValidSchema)(u,r))return;const c=(0,or.allSchemaProperties)(n.properties),y=(0,or.allSchemaProperties)(n.patternProperties);$(),e.ok((0,Ce._)`${s} === ${Qu.default.errors}`);function $(){t.forIn("key",a,m=>{!c.length&&!y.length?S(m):t.if(T(m),()=>S(m))})}function T(m){let v;if(c.length>8){const C=(0,ur.schemaRefOrVal)(u,n.properties,"properties");v=(0,or.isOwnProperty)(t,C,m)}else c.length?v=(0,Ce.or)(...c.map(C=>(0,Ce._)`${m} === ${C}`)):v=Ce.nil;return y.length&&(v=(0,Ce.or)(v,...y.map(C=>(0,Ce._)`${(0,or.usePattern)(e,C)}.test(${m})`))),(0,Ce.not)(v)}function w(m){t.code((0,Ce._)`delete ${a}[${m}]`)}function S(m){if(p.removeAdditional==="all"||p.removeAdditional&&r===!1){w(m);return}if(r===!1){e.setParams({additionalProperty:m}),e.error(),l||t.break();return}if(typeof r=="object"&&!(0,ur.alwaysValidSchema)(u,r)){const v=t.name("valid");p.removeAdditional==="failing"?(N(m,v,!1),t.if((0,Ce.not)(v),()=>{e.reset(),w(m)})):(N(m,v),l||t.if((0,Ce.not)(v),()=>t.break()))}}function N(m,v,C){const R={keyword:"additionalProperties",dataProp:m,dataPropType:ur.Type.Str};C===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(R,v)}}};Sr.default=Zu;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});const xu=Te,wa=G,Ir=x,ba=Sr,ec={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ba.default.code(new xu.KeywordCxt(s,ba.default,"additionalProperties"));const u=(0,wa.allSchemaProperties)(r);for(const $ of u)s.definedProperties.add($);s.opts.unevaluated&&u.length&&s.props!==!0&&(s.props=Ir.mergeEvaluated.props(t,(0,Ir.toHash)(u),s.props));const l=u.filter($=>!(0,Ir.alwaysValidSchema)(s,r[$]));if(l.length===0)return;const p=t.name("valid");for(const $ of l)c($)?y($):(t.if((0,wa.propertyInData)(t,a,$,s.opts.ownProperties)),y($),s.allErrors||t.else().var(p,!0),t.endIf()),e.it.definedProperties.add($),e.ok(p);function c($){return s.opts.useDefaults&&!s.compositeRule&&r[$].default!==void 0}function y($){e.subschema({keyword:"properties",schemaProp:$,dataProp:$},p)}}};Dn.default=ec;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});const Ea=G,cr=B,Sa=x,Pa=x,tc={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:s}=e,{opts:u}=s,l=(0,Ea.allSchemaProperties)(r),p=l.filter(N=>(0,Sa.alwaysValidSchema)(s,r[N]));if(l.length===0||p.length===l.length&&(!s.opts.unevaluated||s.props===!0))return;const c=u.strictSchema&&!u.allowMatchingProperties&&a.properties,y=t.name("valid");s.props!==!0&&!(s.props instanceof cr.Name)&&(s.props=(0,Pa.evaluatedPropsToName)(t,s.props));const{props:$}=s;T();function T(){for(const N of l)c&&w(N),s.allErrors?S(N):(t.var(y,!0),S(N),t.if(y))}function w(N){for(const m in c)new RegExp(N).test(m)&&(0,Sa.checkStrictMode)(s,`property ${m} matches pattern ${N} (use allowMatchingProperties)`)}function S(N){t.forIn("key",n,m=>{t.if((0,cr._)`${(0,Ea.usePattern)(e,N)}.test(${m})`,()=>{const v=p.includes(N);v||e.subschema({keyword:"patternProperties",schemaProp:N,dataProp:m,dataPropType:Pa.Type.Str},y),s.opts.unevaluated&&$!==!0?t.assign((0,cr._)`${$}[${m}]`,!0):!v&&!s.allErrors&&t.if((0,cr.not)(y),()=>t.break())})})}}};Mn.default=tc;var Un={};Object.defineProperty(Un,"__esModule",{value:!0});const rc=x,nc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,rc.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Un.default=nc;var qn={};Object.defineProperty(qn,"__esModule",{value:!0});const ac=G,sc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ac.validateUnion,error:{message:"must match a schema in anyOf"}};qn.default=sc;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});const hr=B,ic=x,oc={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,hr._)`{passingSchemas: ${e.passing}}`},uc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:oc,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,u=t.let("valid",!1),l=t.let("passing",null),p=t.name("_valid");e.setParams({passing:l}),t.block(c),e.result(u,()=>e.reset(),()=>e.error(!0));function c(){s.forEach((y,$)=>{let T;(0,ic.alwaysValidSchema)(a,y)?t.var(p,!0):T=e.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},p),$>0&&t.if((0,hr._)`${p} && ${u}`).assign(u,!1).assign(l,(0,hr._)`[${l}, ${$}]`).else(),t.if(p,()=>{t.assign(u,!0),t.assign(l,$),T&&e.mergeEvaluated(T,hr.Name)})})}}};Vn.default=uc;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});const cc=x,lc={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,u)=>{if((0,cc.alwaysValidSchema)(n,s))return;const l=e.subschema({keyword:"allOf",schemaProp:u},a);e.ok(a),e.mergeEvaluated(l)})}};Fn.default=lc;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});const _r=B,ks=x,dc={message:({params:e})=>(0,_r.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,_r._)`{failingKeyword: ${e.ifClause}}`},fc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:dc,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,ks.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Na(n,"then"),s=Na(n,"else");if(!a&&!s)return;const u=t.let("valid",!0),l=t.name("_valid");if(p(),e.reset(),a&&s){const y=t.let("ifClause");e.setParams({ifClause:y}),t.if(l,c("then",y),c("else",y))}else a?t.if(l,c("then")):t.if((0,_r.not)(l),c("else"));e.pass(u,()=>e.error(!0));function p(){const y=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(y)}function c(y,$){return()=>{const T=e.subschema({keyword:y},l);t.assign(u,l),e.mergeValidEvaluated(T,u),$?t.assign($,(0,_r._)`${y}`):e.setParams({ifClause:y})}}}};function Na(e,t){const r=e.schema[t];return r!==void 0&&!(0,ks.alwaysValidSchema)(e,r)}Ln.default=fc;var zn={};Object.defineProperty(zn,"__esModule",{value:!0});const hc=x,pc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,hc.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};zn.default=pc;Object.defineProperty(Tn,"__esModule",{value:!0});const mc=Ct,vc=jn,yc=Rt,$c=kn,gc=In,_c=Ts,wc=An,bc=Sr,Ec=Dn,Sc=Mn,Pc=Un,Nc=qn,Oc=Vn,Cc=Fn,Rc=Ln,Tc=zn;function jc(e=!1){const t=[Pc.default,Nc.default,Oc.default,Cc.default,Rc.default,Tc.default,wc.default,bc.default,_c.default,Ec.default,Sc.default];return e?t.push(vc.default,$c.default):t.push(mc.default,yc.default),t.push(gc.default),t}Tn.default=jc;var Kn={},Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});const ce=B,kc={message:({schemaCode:e})=>(0,ce.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ce._)`{format: ${e}}`},Ic={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:kc,code(e,t){const{gen:r,data:n,$data:a,schema:s,schemaCode:u,it:l}=e,{opts:p,errSchemaPath:c,schemaEnv:y,self:$}=l;if(!p.validateFormats)return;a?T():w();function T(){const S=r.scopeValue("formats",{ref:$.formats,code:p.code.formats}),N=r.const("fDef",(0,ce._)`${S}[${u}]`),m=r.let("fType"),v=r.let("format");r.if((0,ce._)`typeof ${N} == "object" && !(${N} instanceof RegExp)`,()=>r.assign(m,(0,ce._)`${N}.type || "string"`).assign(v,(0,ce._)`${N}.validate`),()=>r.assign(m,(0,ce._)`"string"`).assign(v,N)),e.fail$data((0,ce.or)(C(),R()));function C(){return p.strictSchema===!1?ce.nil:(0,ce._)`${u} && !${v}`}function R(){const k=y.$async?(0,ce._)`(${N}.async ? await ${v}(${n}) : ${v}(${n}))`:(0,ce._)`${v}(${n})`,D=(0,ce._)`(typeof ${v} == "function" ? ${k} : ${v}.test(${n}))`;return(0,ce._)`${v} && ${v} !== true && ${m} === ${t} && !${D}`}}function w(){const S=$.formats[s];if(!S){C();return}if(S===!0)return;const[N,m,v]=R(S);N===t&&e.pass(k());function C(){if(p.strictSchema===!1){$.logger.warn(D());return}throw new Error(D());function D(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function R(D){const _=D instanceof RegExp?(0,ce.regexpCode)(D):p.code.formats?(0,ce._)`${p.code.formats}${(0,ce.getProperty)(s)}`:void 0,O=r.scopeValue("formats",{key:s,ref:D,code:_});return typeof D=="object"&&!(D instanceof RegExp)?[D.type||"string",D.validate,(0,ce._)`${O}.validate`]:["string",D,O]}function k(){if(typeof S=="object"&&!(S instanceof RegExp)&&S.async){if(!y.$async)throw new Error("async format in sync schema");return(0,ce._)`await ${v}(${n})`}return typeof m=="function"?(0,ce._)`${v}(${n})`:(0,ce._)`${v}.test(${n})`}}}};Hn.default=Ic;Object.defineProperty(Kn,"__esModule",{value:!0});const Ac=Hn,Dc=[Ac.default];Kn.default=Dc;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.contentVocabulary=Ot.metadataVocabulary=void 0;Ot.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ot.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(mn,"__esModule",{value:!0});const Mc=vn,Uc=$n,qc=Tn,Vc=Kn,Oa=Ot,Fc=[Mc.default,Uc.default,(0,qc.default)(),Vc.default,Oa.metadataVocabulary,Oa.contentVocabulary];mn.default=Fc;var Gn={},Is={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Is);Object.defineProperty(Gn,"__esModule",{value:!0});const Et=B,rn=Is,Ca=_e,Lc=x,zc={message:({params:{discrError:e,tagName:t}})=>e===rn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Et._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Kc={keyword:"discriminator",type:"object",schemaType:"object",error:zc,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:s}=e,{oneOf:u}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const p=t.let("valid",!1),c=t.const("tag",(0,Et._)`${r}${(0,Et.getProperty)(l)}`);t.if((0,Et._)`typeof ${c} == "string"`,()=>y(),()=>e.error(!1,{discrError:rn.DiscrError.Tag,tag:c,tagName:l})),e.ok(p);function y(){const w=T();t.if(!1);for(const S in w)t.elseIf((0,Et._)`${c} === ${S}`),t.assign(p,$(w[S]));t.else(),e.error(!1,{discrError:rn.DiscrError.Mapping,tag:c,tagName:l}),t.endIf()}function $(w){const S=t.name("valid"),N=e.subschema({keyword:"oneOf",schemaProp:w},S);return e.mergeEvaluated(N,Et.Name),S}function T(){var w;const S={},N=v(a);let m=!0;for(let k=0;k<u.length;k++){let D=u[k];D!=null&&D.$ref&&!(0,Lc.schemaHasRulesButRef)(D,s.self.RULES)&&(D=Ca.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,D==null?void 0:D.$ref),D instanceof Ca.SchemaEnv&&(D=D.schema));const _=(w=D==null?void 0:D.properties)===null||w===void 0?void 0:w[l];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);m=m&&(N||v(D)),C(_,k)}if(!m)throw new Error(`discriminator: "${l}" must be required`);return S;function v({required:k}){return Array.isArray(k)&&k.includes(l)}function C(k,D){if(k.const)R(k.const,D);else if(k.enum)for(const _ of k.enum)R(_,D);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function R(k,D){if(typeof k!="string"||k in S)throw new Error(`discriminator: "${l}" values must be unique strings`);S[k]=D}}}};Gn.default=Kc;const Hc="http://json-schema.org/draft-07/schema#",Gc="http://json-schema.org/draft-07/schema#",Bc="Core schema meta-schema",Jc={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Wc=["object","boolean"],Xc={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Qc={$schema:Hc,$id:Gc,title:Bc,definitions:Jc,type:Wc,properties:Xc,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=xa,n=mn,a=Gn,s=Qc,u=["/properties"],l="http://json-schema.org/draft-07/schema";class p extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(s,u):s;this.addMetaSchema(S,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=p,Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var c=Te;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var y=B;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var $=Yt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var T=Zt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return T.default}})})(Qr,Qr.exports);var Yc=Qr.exports;const Zc=on(Yc),xc={type:"object",properties:{id:{type:"string"},topic:{type:"string"},payload:{type:"object"}},required:["id","topic","payload"],additionalProperties:!1},Ra=100;class it{constructor(){this.subscriptionCounter=0,this.subscribers=[],this.messageCounter=0,this.validator=new Zc().compile(xc),this.buffer=[...Array(Ra)],window.addEventListener("message",this.onWindowsMessage.bind(this),!1)}static get instance(){return it._instance||(it._instance=new it),it._instance}publish(t,r){if(St(this.subscribers).filter(n=>n.topic===t||n.topic==="*").forEach(n=>{try{n.callback(t,r)}catch(a){console.error(a)}}),window.top){const n={id:St.uniqueId("remote_"),topic:t,payload:r};this.buffer[this.messageCounter%Ra]=n.id,window.top.postMessage(JSON.stringify(n),"*")}}subscribe(t,r){return this.subscriptionCounter++,this.subscribers.push({id:this.subscriptionCounter,topic:t,callback:r}),this.subscriptionCounter}unsubscribe(t){const r=St.findIndex(this.subscribers,n=>n.id==t);r!=-1&&this.subscribers.splice(r,1)}onWindowsMessage(t){let r;try{r=JSON.parse(t.data)}catch{return}this.validator(r)&&(this.buffer.includes(r.id)||this.publish(r.topic,r.payload))}}class el{constructor(t){this.counter=0,this.subscribers=[],this.topic=`entity.${t.toLowerCase()}`,it.instance.subscribe(this.topic,this.onEntityEvent.bind(this))}onEntityEvent(t,r){St(this.subscribers).filter(n=>n.ev===r.action||n.ev=="all").forEach(n=>{try{n.callback(r.action,r.payload)}catch(a){console.error(a)}})}subscribe(t,r){return this.counter++,this.subscribers.push({ev:t,callback:r,id:this.counter}),this.counter}unsubscribe(t){const r=St.findIndex(this.subscribers,n=>n.id==t);r!=-1&&this.subscribers.splice(r,1)}notify(t,r){const n={action:t,payload:r};it.instance.publish(this.topic,n)}}var Bn={exports:{}},As=function(t,r){return function(){for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];return t.apply(r,a)}},tl=As,ct=Object.prototype.toString;function Jn(e){return ct.call(e)==="[object Array]"}function nn(e){return typeof e>"u"}function rl(e){return e!==null&&!nn(e)&&e.constructor!==null&&!nn(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function nl(e){return ct.call(e)==="[object ArrayBuffer]"}function al(e){return typeof FormData<"u"&&e instanceof FormData}function sl(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function il(e){return typeof e=="string"}function ol(e){return typeof e=="number"}function Ds(e){return e!==null&&typeof e=="object"}function pr(e){if(ct.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function ul(e){return ct.call(e)==="[object Date]"}function cl(e){return ct.call(e)==="[object File]"}function ll(e){return ct.call(e)==="[object Blob]"}function Ms(e){return ct.call(e)==="[object Function]"}function dl(e){return Ds(e)&&Ms(e.pipe)}function fl(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function hl(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function pl(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Wn(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Jn(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}function an(){var e={};function t(a,s){pr(e[s])&&pr(a)?e[s]=an(e[s],a):pr(a)?e[s]=an({},a):Jn(a)?e[s]=a.slice():e[s]=a}for(var r=0,n=arguments.length;r<n;r++)Wn(arguments[r],t);return e}function ml(e,t,r){return Wn(t,function(a,s){r&&typeof a=="function"?e[s]=tl(a,r):e[s]=a}),e}function vl(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var be={isArray:Jn,isArrayBuffer:nl,isBuffer:rl,isFormData:al,isArrayBufferView:sl,isString:il,isNumber:ol,isObject:Ds,isPlainObject:pr,isUndefined:nn,isDate:ul,isFile:cl,isBlob:ll,isFunction:Ms,isStream:dl,isURLSearchParams:fl,isStandardBrowserEnv:pl,forEach:Wn,merge:an,extend:ml,trim:hl,stripBOM:vl},wt=be;function Ta(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xn=function(t,r,n){if(!r)return t;var a;if(n)a=n(r);else if(wt.isURLSearchParams(r))a=r.toString();else{var s=[];wt.forEach(r,function(p,c){p===null||typeof p>"u"||(wt.isArray(p)?c=c+"[]":p=[p],wt.forEach(p,function($){wt.isDate($)?$=$.toISOString():wt.isObject($)&&($=JSON.stringify($)),s.push(Ta(c)+"="+Ta($))}))}),a=s.join("&")}if(a){var u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t};const yl=on(Xn);var $l=be;function Pr(){this.handlers=[]}Pr.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Pr.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Pr.prototype.forEach=function(t){$l.forEach(this.handlers,function(n){n!==null&&t(n)})};var gl=Pr,_l=be,wl=function(t,r){_l.forEach(t,function(a,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(t[r]=a,delete t[s])})},Us=function(t,r,n,a,s){return t.config=r,n&&(t.code=n),t.request=a,t.response=s,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},Ar,ja;function qs(){if(ja)return Ar;ja=1;var e=Us;return Ar=function(r,n,a,s,u){var l=new Error(r);return e(l,n,a,s,u)},Ar}var Dr,ka;function bl(){if(ka)return Dr;ka=1;var e=qs();return Dr=function(r,n,a){var s=a.config.validateStatus;!a.status||!s||s(a.status)?r(a):n(e("Request failed with status code "+a.status,a.config,null,a.request,a))},Dr}var Mr,Ia;function El(){if(Ia)return Mr;Ia=1;var e=be;return Mr=e.isStandardBrowserEnv()?function(){return{write:function(n,a,s,u,l,p){var c=[];c.push(n+"="+encodeURIComponent(a)),e.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),e.isString(u)&&c.push("path="+u),e.isString(l)&&c.push("domain="+l),p===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var a=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Mr}var Ur,Aa;function Sl(){return Aa||(Aa=1,Ur=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}),Ur}var qr,Da;function Pl(){return Da||(Da=1,qr=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),qr}var Vr,Ma;function Nl(){if(Ma)return Vr;Ma=1;var e=Sl(),t=Pl();return Vr=function(n,a){return n&&!e(a)?t(n,a):a},Vr}var Fr,Ua;function Ol(){if(Ua)return Fr;Ua=1;var e=be,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Fr=function(n){var a={},s,u,l;return n&&e.forEach(n.split(`
`),function(c){if(l=c.indexOf(":"),s=e.trim(c.substr(0,l)).toLowerCase(),u=e.trim(c.substr(l+1)),s){if(a[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?a[s]=(a[s]?a[s]:[]).concat([u]):a[s]=a[s]?a[s]+", "+u:u}}),a},Fr}var Lr,qa;function Cl(){if(qa)return Lr;qa=1;var e=be;return Lr=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),a;function s(u){var l=u;return r&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return a=s(window.location.href),function(l){var p=e.isString(l)?s(l):l;return p.protocol===a.protocol&&p.host===a.host}}():function(){return function(){return!0}}(),Lr}var zr,Va;function Fa(){if(Va)return zr;Va=1;var e=be,t=bl(),r=El(),n=Xn,a=Nl(),s=Ol(),u=Cl(),l=qs();return zr=function(c){return new Promise(function($,T){var w=c.data,S=c.headers,N=c.responseType;e.isFormData(w)&&delete S["Content-Type"];var m=new XMLHttpRequest;if(c.auth){var v=c.auth.username||"",C=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";S.Authorization="Basic "+btoa(v+":"+C)}var R=a(c.baseURL,c.url);m.open(c.method.toUpperCase(),n(R,c.params,c.paramsSerializer),!0),m.timeout=c.timeout;function k(){if(m){var _="getAllResponseHeaders"in m?s(m.getAllResponseHeaders()):null,O=!N||N==="text"||N==="json"?m.responseText:m.response,A={data:O,status:m.status,statusText:m.statusText,headers:_,config:c,request:m};t($,T,A),m=null}}if("onloadend"in m?m.onloadend=k:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(k)},m.onabort=function(){m&&(T(l("Request aborted",c,"ECONNABORTED",m)),m=null)},m.onerror=function(){T(l("Network Error",c,null,m)),m=null},m.ontimeout=function(){var O="timeout of "+c.timeout+"ms exceeded";c.timeoutErrorMessage&&(O=c.timeoutErrorMessage),T(l(O,c,c.transitional&&c.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},e.isStandardBrowserEnv()){var D=(c.withCredentials||u(R))&&c.xsrfCookieName?r.read(c.xsrfCookieName):void 0;D&&(S[c.xsrfHeaderName]=D)}"setRequestHeader"in m&&e.forEach(S,function(O,A){typeof w>"u"&&A.toLowerCase()==="content-type"?delete S[A]:m.setRequestHeader(A,O)}),e.isUndefined(c.withCredentials)||(m.withCredentials=!!c.withCredentials),N&&N!=="json"&&(m.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&m.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(O){m&&(m.abort(),T(O),m=null)}),w||(w=null),m.send(w)})},zr}var he=be,La=wl,Rl=Us,Tl={"Content-Type":"application/x-www-form-urlencoded"};function za(e,t){!he.isUndefined(e)&&he.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function jl(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Fa()),e}function kl(e,t,r){if(he.isString(e))try{return(t||JSON.parse)(e),he.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Nr={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:jl(),transformRequest:[function(t,r){return La(r,"Accept"),La(r,"Content-Type"),he.isFormData(t)||he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t)?t:he.isArrayBufferView(t)?t.buffer:he.isURLSearchParams(t)?(za(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):he.isObject(t)||r&&r["Content-Type"]==="application/json"?(za(r,"application/json"),kl(t)):t}],transformResponse:[function(t){var r=this.transitional,n=r&&r.silentJSONParsing,a=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||a&&he.isString(t)&&t.length)try{return JSON.parse(t)}catch(u){if(s)throw u.name==="SyntaxError"?Rl(u,this,"E_JSON_PARSE"):u}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Nr.headers={common:{Accept:"application/json, text/plain, */*"}};he.forEach(["delete","get","head"],function(t){Nr.headers[t]={}});he.forEach(["post","put","patch"],function(t){Nr.headers[t]=he.merge(Tl)});var Qn=Nr,Il=be,Al=Qn,Dl=function(t,r,n){var a=this||Al;return Il.forEach(n,function(u){t=u.call(a,t,r)}),t},Kr,Ka;function Vs(){return Ka||(Ka=1,Kr=function(t){return!!(t&&t.__CANCEL__)}),Kr}var Ha=be,Hr=Dl,Ml=Vs(),Ul=Qn;function Gr(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ql=function(t){Gr(t),t.headers=t.headers||{},t.data=Hr.call(t,t.data,t.headers,t.transformRequest),t.headers=Ha.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ha.forEach(["delete","get","head","post","put","patch","common"],function(a){delete t.headers[a]});var r=t.adapter||Ul.adapter;return r(t).then(function(a){return Gr(t),a.data=Hr.call(t,a.data,a.headers,t.transformResponse),a},function(a){return Ml(a)||(Gr(t),a&&a.response&&(a.response.data=Hr.call(t,a.response.data,a.response.headers,t.transformResponse))),Promise.reject(a)})},ve=be,Fs=function(t,r){r=r||{};var n={},a=["url","method","data"],s=["headers","auth","proxy","params"],u=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function p(T,w){return ve.isPlainObject(T)&&ve.isPlainObject(w)?ve.merge(T,w):ve.isPlainObject(w)?ve.merge({},w):ve.isArray(w)?w.slice():w}function c(T){ve.isUndefined(r[T])?ve.isUndefined(t[T])||(n[T]=p(void 0,t[T])):n[T]=p(t[T],r[T])}ve.forEach(a,function(w){ve.isUndefined(r[w])||(n[w]=p(void 0,r[w]))}),ve.forEach(s,c),ve.forEach(u,function(w){ve.isUndefined(r[w])?ve.isUndefined(t[w])||(n[w]=p(void 0,t[w])):n[w]=p(void 0,r[w])}),ve.forEach(l,function(w){w in r?n[w]=p(t[w],r[w]):w in t&&(n[w]=p(void 0,t[w]))});var y=a.concat(s).concat(u).concat(l),$=Object.keys(t).concat(Object.keys(r)).filter(function(w){return y.indexOf(w)===-1});return ve.forEach($,c),n};const Vl="axios",Fl="0.21.4",Ll="Promise based HTTP client for the browser and node.js",zl="index.js",Kl={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},Hl={type:"git",url:"https://github.com/axios/axios.git"},Gl=["xhr","http","ajax","promise","node"],Bl="Matt Zabriskie",Jl="MIT",Wl={url:"https://github.com/axios/axios/issues"},Xl="https://axios-http.com",Ql={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},Yl={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},Zl="dist/axios.min.js",xl="dist/axios.min.js",ed="./index.d.ts",td={"follow-redirects":"^1.14.0"},rd=[{path:"./dist/axios.min.js",threshold:"5kB"}],nd={name:Vl,version:Fl,description:Ll,main:zl,scripts:Kl,repository:Hl,keywords:Gl,author:Bl,license:Jl,bugs:Wl,homepage:Xl,devDependencies:Ql,browser:Yl,jsdelivr:Zl,unpkg:xl,typings:ed,dependencies:td,bundlesize:rd};var Ls=nd,Yn={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Yn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Ga={},ad=Ls.version.split(".");function zs(e,t){for(var r=t?t.split("."):ad,n=e.split("."),a=0;a<3;a++){if(r[a]>n[a])return!0;if(r[a]<n[a])return!1}return!1}Yn.transitional=function(t,r,n){var a=r&&zs(r);function s(u,l){return"[Axios v"+Ls.version+"] Transitional option '"+u+"'"+l+(n?". "+n:"")}return function(u,l,p){if(t===!1)throw new Error(s(l," has been removed in "+r));return a&&!Ga[l]&&(Ga[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(u,l,p):!0}};function sd(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var s=n[a],u=t[s];if(u){var l=e[s],p=l===void 0||u(l,s,e);if(p!==!0)throw new TypeError("option "+s+" must be "+p);continue}if(r!==!0)throw Error("Unknown option "+s)}}var id={isOlderVersion:zs,assertOptions:sd,validators:Yn},Ks=be,od=Xn,Ba=gl,Ja=ql,Or=Fs,Hs=id,bt=Hs.validators;function er(e){this.defaults=e,this.interceptors={request:new Ba,response:new Ba}}er.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=Or(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&Hs.assertOptions(r,{silentJSONParsing:bt.transitional(bt.boolean,"1.0.0"),forcedJSONParsing:bt.transitional(bt.boolean,"1.0.0"),clarifyTimeoutError:bt.transitional(bt.boolean,"1.0.0")},!1);var n=[],a=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(a=a&&T.synchronous,n.unshift(T.fulfilled,T.rejected))});var s=[];this.interceptors.response.forEach(function(T){s.push(T.fulfilled,T.rejected)});var u;if(!a){var l=[Ja,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(s),u=Promise.resolve(t);l.length;)u=u.then(l.shift(),l.shift());return u}for(var p=t;n.length;){var c=n.shift(),y=n.shift();try{p=c(p)}catch($){y($);break}}try{u=Ja(p)}catch($){return Promise.reject($)}for(;s.length;)u=u.then(s.shift(),s.shift());return u};er.prototype.getUri=function(t){return t=Or(this.defaults,t),od(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Ks.forEach(["delete","get","head","options"],function(t){er.prototype[t]=function(r,n){return this.request(Or(n||{},{method:t,url:r,data:(n||{}).data}))}});Ks.forEach(["post","put","patch"],function(t){er.prototype[t]=function(r,n,a){return this.request(Or(a||{},{method:t,url:r,data:n}))}});var ud=er,Br,Wa;function Gs(){if(Wa)return Br;Wa=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,Br=e,Br}var Jr,Xa;function cd(){if(Xa)return Jr;Xa=1;var e=Gs();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(u){n=u});var a=this;r(function(u){a.reason||(a.reason=new e(u),n(a.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var n,a=new t(function(u){n=u});return{token:a,cancel:n}},Jr=t,Jr}var Wr,Qa;function ld(){return Qa||(Qa=1,Wr=function(t){return function(n){return t.apply(null,n)}}),Wr}var Xr,Ya;function dd(){return Ya||(Ya=1,Xr=function(t){return typeof t=="object"&&t.isAxiosError===!0}),Xr}var Za=be,fd=As,mr=ud,hd=Fs,pd=Qn;function Bs(e){var t=new mr(e),r=fd(mr.prototype.request,t);return Za.extend(r,mr.prototype,t),Za.extend(r,t),r}var je=Bs(pd);je.Axios=mr;je.create=function(t){return Bs(hd(je.defaults,t))};je.Cancel=Gs();je.CancelToken=cd();je.isCancel=Vs();je.all=function(t){return Promise.all(t)};je.spread=ld();je.isAxiosError=dd();Bn.exports=je;Bn.exports.default=je;var md=Bn.exports,vd=md;const yd=on(vd);function sn(e,t){if(typeof t!="object"||t===null||t instanceof Date)return[{key:e,value:t}];if(Array.isArray(t))return t.length===0?[{key:`${e}[0]`,value:""}]:t.map((r,n)=>sn(`${e}[${n}]`,r)).flat();{const r=[];for(const n in t)r.push(...sn(e+"."+n,t[n]));return r}}function $d(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function gd(e){const t={};for(const r in e){const n=sn(r,e[r]);for(const a of n)t[a.key]=a.value}return t}function _d(e,t,r){let n=null;return t&&(n=St.cloneDeep(t),n=$d(n),n=gd(n)),yl(e,n,r)}const Js=class Je{constructor(t){this.notifyService=null,t&&(this.notifyService=new el(t))}static create(t,r){const n=new Je(t);return()=>r(n)}static createComplete(t,r,n,a,s){return Je.create(t,u=>u.build(u.addNotify(),u.addGetMany(r,s),u.addGet(l=>n(l),a),u.addCreate(r,a),u.addUpdate(l=>n(l),a),u.addRemove(l=>n(l))))}addGetMany(t,r){return{getMany:async a=>{const s=typeof t=="string"?t:t();return(await Je.http.get(_d(s,a))).data.map(p=>new r(p))}}}addGet(t,r){return{get:async a=>{const u=(await Je.http.get(t(a))).data;return new r(u)}}}addCreate(t,r){return{create:async a=>{const s=typeof t=="string"?t:t(),u=await Je.http.post(s,a),l=new r(u.data);return this.notifyService&&this.notifyService.notify("add",l),l}}}addUpdate(t,r){return{update:async(a,s)=>{const u=await Je.http.post(t(a),s),l=new r(u.data);return this.notifyService&&this.notifyService.notify("update",l),l}}}addRemove(t){return{remove:async n=>{await Je.http.delete(t(n)),this.notifyService&&this.notifyService.notify("delete",n)}}}addNotify(t){if(!this.notifyService)throw new Error("Create your service with a type if you want to use notify");const r=this.notifyService,{subscribe:n,unsubscribe:a}=r,s=t?t(r):{};return{subscribe:n,unsubscribe:a,...s}}build(){return Object.assign({},...arguments)}};Js.http=yd;let Ed=Js;export{Ed as S,vd as a,os as f};
//# sourceMappingURL=serviceFactory-43967840.js.map
