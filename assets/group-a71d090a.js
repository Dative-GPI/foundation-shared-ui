import{u as B}from"./proxiedModel-8c3bd5c0.js";import{p as x,f as E,E as b,j as h,m as w,w as V,r as P,o as k,u as q}from"./vue.esm-bundler-a6679ce1.js";import{p as y,l as C,s as M,q as U,w as $,t as A}from"./theme-8c0eb56d.js";const j=y({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),z=y({value:null,disabled:Boolean,selectedClass:String},"group-item");function D(t,o){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=C("useGroupItem");if(!e)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const n=M();x(Symbol.for(`${o.description}:id`),n);const l=E(o,null);if(!l){if(!r)return l;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${o.description}`)}const m=b(t,"value"),p=h(()=>!!(l.disabled.value||t.disabled));l.register({id:n,value:m,disabled:p},e),w(()=>{l.unregister(n)});const f=h(()=>l.isSelected(n)),v=h(()=>f.value&&[l.selectedClass.value,t.selectedClass]);return V(f,g=>{e.emit("group:selected",{value:g})},{flush:"sync"}),{id:n,isSelected:f,toggle:()=>l.select(n,!f.value),select:g=>l.select(n,g),selectedClass:v,value:m,disabled:p,group:l}}function H(t,o){let r=!1;const e=P([]),n=B(t,"modelValue",[],s=>s==null?[]:S(e,$(s)),s=>{const i=N(e,s);return t.multiple?i:i[0]}),l=C("useGroup");function m(s,i){const d=s,u=Symbol.for(`${o.description}:id`),c=A(u,l==null?void 0:l.vnode).indexOf(i);q(d.value)==null&&(d.value=c),c>-1?e.splice(c,0,d):e.push(d)}function p(s){if(r)return;f();const i=e.findIndex(d=>d.id===s);e.splice(i,1)}function f(){const s=e.find(i=>!i.disabled);s&&t.mandatory==="force"&&!n.value.length&&(n.value=[s.id])}k(()=>{f()}),w(()=>{r=!0});function v(s,i){const d=e.find(u=>u.id===s);if(!(i&&(d!=null&&d.disabled)))if(t.multiple){const u=n.value.slice(),a=u.findIndex(G=>G===s),c=~a;if(i=i??!c,c&&t.mandatory&&u.length<=1||!c&&t.max!=null&&u.length+1>t.max)return;a<0&&i?u.push(s):a>=0&&!i&&u.splice(a,1),n.value=u}else{const u=n.value.includes(s);if(t.mandatory&&u)return;n.value=i??!u?[s]:[]}}function g(s){if(t.multiple,n.value.length){const i=n.value[0],d=e.findIndex(c=>c.id===i);let u=(d+s)%e.length,a=e[u];for(;a.disabled&&u!==d;)u=(u+s)%e.length,a=e[u];if(a.disabled)return;n.value=[e[u].id]}else{const i=e.find(d=>!d.disabled);i&&(n.value=[i.id])}}const I={register:m,unregister:p,selected:n,select:v,disabled:b(t,"disabled"),prev:()=>g(e.length-1),next:()=>g(1),isSelected:s=>n.value.includes(s),selectedClass:h(()=>t.selectedClass),items:h(()=>e),getItemIndex:s=>F(e,s)};return x(o,I),I}function F(t,o){const r=S(t,[o]);return r.length?t.findIndex(e=>e.id===r[0]):-1}function S(t,o){const r=[];return o.forEach(e=>{const n=t.find(m=>U(e,m.value)),l=t[e];(n==null?void 0:n.value)!=null?r.push(n.id):l!=null&&r.push(l.id)}),r}function N(t,o){const r=[];return o.forEach(e=>{const n=t.findIndex(l=>l.id===e);if(~n){const l=t[n];r.push(l.value!=null?l.value:n)}}),r}export{j as a,H as b,z as m,D as u};
