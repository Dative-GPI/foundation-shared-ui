import{d as A,c as v,y as u,z as p,A as S,B as i,L as a,E as C,G as y,D as $,t as R,X as oe,a2 as ie,m as q,I as E,b as L,H as U,C as _,N as se,F as w}from"./vue.esm-bundler-BSyvBTC9.js";import{F as le}from"./FSStatusesCarousel-aiolA0WX.js";import{F as M}from"./FSCard-Dakm4bPu.js";import{F as j}from"./FSChip-Cu5YGhb-.js";import{F as z}from"./FSText-DyldgdXP.js";import{F}from"./FSCol-DZA6pxA1.js";import{u as G}from"./useTranslations-CdSqQFV3.js";import{u as X}from"./useDateFormat-CNSspUCn.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as Y,F as ue}from"./FSStatus-ZGfipMpJ.js";import{V as H}from"./VMenu-BVgNprPc.js";import{F as J}from"./FSButton-CyN0itWL.js";import{C as b}from"./useColors-DlnF7i6T.js";import{C as I,A as l}from"./alerts-pw2xvgtT.js";import{m as de,g as ce,c as me,b as fe,a as pe}from"./color-BygXFKwQ.js";import{I as ve,V as Se}from"./VIcon-BIpY_noq.js";import{u as ge}from"./locale-C-s_GJlL.js";import{a as ye,b as Fe}from"./loader-pPiux2KM.js";import{m as Ce,u as $e}from"./rounded-Dg8mz8II.js";import{a as be}from"./tag-DB5D_XjQ.js";import{p as Ae,s as he,M as Te,V as qe}from"./theme-D4rXHj3O.js";import{m as Ve,M as Ie}from"./transition-CNA6wh-m.js";import{F as k}from"./FSRow-CA1vgNXx.js";import{F as ke}from"./FSDivider-DQ-5tMcN.js";import{F as _e}from"./FSImage-BxDhaxzU.js";import{_ as W}from"./FSSpan-CCGpb4KF.js";import{F as we}from"./FSTile-ClEhpyRn.js";import{u as We}from"./css-DLfrm0pR.js";var T=(e=>(e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.PartiallyConnected=2]="PartiallyConnected",e[e.AlmostOffline=3]="AlmostOffline",e[e.Offline=4]="Offline",e))(T||{});const{$tr:V}=G(),De=e=>{switch(e){case T.Connected:return V("ui.connectivity-status.connected","Connected");case T.PartiallyConnected:return V("ui.connectivity-status.partially-connected","Partially connected");case T.AlmostOffline:return V("ui.connectivity-status.almost-offline","Almost offline");default:return V("ui.connectivity-status.offline","Offline")}},K=A({name:"FSWorstAlertCard",components:{FSButton:J,FSCard:M,FSChip:j,FSText:z,FSCol:F},props:{deviceAlert:{type:Object,required:!0},alertTo:{type:Function,required:!1,default:null}},emits:["close"],setup(e){const{epochToLongTimeFormat:t}=X(),{$tr:n}=G(),c=v(()=>{var o;switch((o=e.deviceAlert)==null?void 0:o.criticity){case I.Error:return b.Error;case I.Warning:return b.Warning;default:return b.Primary}}),m=v(()=>{var o;switch((o=e.deviceAlert)==null?void 0:o.status){case l.Pending:return"mdi-timer-outline";case l.Untriggered:return"mdi-timer-off-outline";case l.Unresolved:return"mdi-alert-circle-outline";case l.Resolved:return"mdi-check-circle-outline";case l.Expired:return"mdi-clock-outline";case l.Triggered:return"mdi-alert-circle-outline";case l.Abandoned:return"mdi-cancel";default:return""}}),d=v(()=>{var o;switch((o=e.deviceAlert)==null?void 0:o.status){case l.Pending:return n("ui.alert-status.pending","Pending");case l.Untriggered:return n("ui.alert-status.untriggered","Untriggered");case l.Unresolved:return n("ui.alert-status.unresolved","Unresolved");case l.Resolved:return n("ui.alert-status.resolved","Resolved");case l.Expired:return n("ui.alert-status.expired","Expired");case l.Triggered:return n("ui.alert-status.triggered","Triggered");case l.Abandoned:return n("ui.alert-status.abandoned","Abandoned");default:return""}});return{deviceTimestamp:v(()=>e.deviceAlert.sourceTimestamp?t(e.deviceAlert.sourceTimestamp):""),criticityColor:c,statusLabel:d,statusIcon:m}}});function Ne(e,t,n,c,m,d){const f=u("FSChip"),o=u("FSText"),r=u("FSCard");return p(),S(r,{padding:"12px 24px",elevation:!0},{default:i(()=>[a(F,{align:"center-center",gap:"12px"},{default:i(()=>[a(f,{label:e.$tr("ui.common.alert","Alert"),prependIcon:e.statusIcon,color:e.criticityColor},null,8,["label","prependIcon","color"]),a(F,{align:"center-center",gap:"0px"},{default:i(()=>[a(o,null,{default:i(()=>[C(y(e.$tr("ui.alert.status","Status"))+" : "+y(e.statusLabel),1)]),_:1}),a(o,{font:"text-button",color:e.criticityColor},{default:i(()=>[C(y(e.$props.deviceAlert.label),1)]),_:1},8,["color"])]),_:1}),e.deviceTimestamp?(p(),S(o,{key:0,font:"text-overline",variant:"dark"},{default:i(()=>[C(y(e.deviceTimestamp),1)]),_:1})):$("",!0),e.$props.alertTo?(p(),S(J,{key:1,icon:"mdi-information-outline",label:e.$tr("ui.alert.details","Alert details"),to:e.$props.alertTo(e.$props.deviceAlert.id)},null,8,["label","to"])):$("",!0)]),_:1})]),_:1})}const Be=h(K,[["render",Ne]]);K.__docgenInfo={displayName:"FSWorstAlertCard",exportName:"default",description:"",tags:{},props:[{name:"deviceAlert",type:{name:"FSDeviceAlert"},required:!0},{name:"alertTo",type:{name:"func"},required:!1,defaultValue:{func:!1,value:"null"}}],events:[{name:"close"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSWorstAlertCard.vue"]};const Q=A({name:"FSBadge",props:{content:{type:String,required:!1,default:null},color:{type:String,required:!1,default:b.Primary}}}),Oe=Ae({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ve,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...de(),...ye({location:"top end"}),...Ce(),...be(),...he(),...Ve({transition:"scale-rotate-transition"})},"VBadge"),Pe=ce()({name:"VBadge",inheritAttrs:!1,props:Oe(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:c}=me(R(e,"color")),{roundedClasses:m}=$e(e),{t:d}=ge(),{textColorClasses:f,textColorStyles:o}=fe(R(e,"textColor")),{themeClasses:r}=Te(),{locationStyles:s}=Fe(e,!0,g=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(g)?+(e.offsetY??0):["left","right"].includes(g)?+(e.offsetX??0):0));return pe(()=>{const g=Number(e.content),D=!e.max||isNaN(g)?e.content:g<=+e.max?g:`${e.max}+`,[ne,ae]=qe(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,q({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},ae,{style:e.style}),{default:()=>{var N,B;return[a("div",{class:"v-badge__wrapper"},[(B=(N=t.slots).default)==null?void 0:B.call(N),a(Ie,{transition:e.transition},{default:()=>{var O,P;return[oe(a("span",q({class:["v-badge__badge",r.value,n.value,m.value,f.value],style:[c.value,o.value,e.inline?{}:s.value],"aria-atomic":"true","aria-label":d(e.label,g),"aria-live":"polite",role:"status"},ne),[e.dot?void 0:t.slots.badge?(P=(O=t.slots).badge)==null?void 0:P.call(O):e.icon?a(Se,{icon:e.icon},null):D]),[[ie,e.modelValue]])]}})])]}})}),{}}});function Re(e,t,n,c,m,d){return e.$props.content?(p(),S(Pe,{key:0,content:e.$props.content,color:e.$props.color,bordered:!0},{default:i(()=>[E(e.$slots,"default")]),_:3},8,["content","color"])):E(e.$slots,"default",{key:1})}const Ee=h(Q,[["render",Re]]);Q.__docgenInfo={displayName:"FSBadge",exportName:"default",description:"",tags:{},props:[{name:"content",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSBadge.vue"]};const Z=A({name:"FSWorstAlert",components:{FSWorstAlertCard:Be,FSColorIcon:Y,FSBadge:Ee},props:{deviceWorstAlert:{type:Object,required:!0},deviceAlerts:{type:Array,required:!1,default:()=>[]},alertTo:{type:Function,required:!1,default:null}},setup(e){const t=L(!1),n=v(()=>{var d;switch((d=e.deviceWorstAlert)==null?void 0:d.criticity){case I.Error:return b.Error;case I.Warning:return b.Warning;default:return b.Primary}}),c=v(()=>{var d;switch((d=e.deviceWorstAlert)==null?void 0:d.status){case l.Pending:return"mdi-timer-outline";case l.Untriggered:return"mdi-timer-off-outline";case l.Unresolved:return"mdi-alert-circle-outline";case l.Resolved:return"mdi-check-circle-outline";case l.Expired:return"mdi-clock-outline";case l.Triggered:return"mdi-alert-circle-outline";case l.Abandoned:return"mdi-cancel";default:return""}}),m=v(()=>!e.deviceAlerts||e.deviceAlerts.length<1?null:e.deviceAlerts.length>9?"9+":e.deviceAlerts.length.toString());return{criticityColor:n,statusIcon:c,badgeLabel:m,menu:t}}});function Le(e,t,n,c,m,d){const f=u("FSColorIcon"),o=u("FSBadge"),r=u("FSWorstAlertCard");return p(),S(H,{closeOnContentClick:!1,modelValue:e.menu,"onUpdate:modelValue":t[2]||(t[2]=s=>e.menu=s),location:"bottom center"},{activator:i(({props:s})=>[a(o,{content:e.badgeLabel,color:e.criticityColor},{default:i(()=>[a(f,q({class:"fs-stopclick",size:"m",color:e.criticityColor,onClick:t[0]||(t[0]=U(()=>{},["prevent","stop"]))},s),{default:i(()=>[C(y(e.statusIcon),1)]),_:2},1040,["color"])]),_:2},1032,["content","color"])]),default:i(()=>[a(r,{deviceAlert:e.deviceWorstAlert,alertTo:e.$props.alertTo,onClose:t[1]||(t[1]=s=>e.menu=!1)},null,8,["deviceAlert","alertTo"])]),_:1},8,["modelValue"])}const Ue=h(Z,[["render",Le]]);Z.__docgenInfo={displayName:"FSWorstAlert",exportName:"default",description:"",tags:{},props:[{name:"deviceWorstAlert",type:{name:"FSDeviceAlert"},required:!0},{name:"deviceAlerts",type:{name:"FSDeviceAlert[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"alertTo",type:{name:"func"},required:!1,defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSWorstAlert.vue"]};const x=A({name:"FSConnectivityCard",components:{FSCard:M,FSChip:j,FSText:z,FSCol:F},props:{deviceConnectivity:{type:Object,required:!0}},emit:["close"],setup(e){const{epochToLongTimeFormat:t}=X();return{deviceTimestamp:v(()=>e.deviceConnectivity.sourceTimestamp?t(e.deviceConnectivity.sourceTimestamp):""),connectivityLabel:De}}});function Me(e,t,n,c,m,d){const f=u("FSChip"),o=u("FSText"),r=u("FSCard");return p(),S(r,{padding:"12px 24px",elevation:!0},{default:i(()=>[a(F,{align:"center-center",gap:"12px"},{default:i(()=>[a(f,{prependIcon:e.$props.deviceConnectivity.icon,color:e.$props.deviceConnectivity.color,label:e.connectivityLabel(e.$props.deviceConnectivity.status)},null,8,["prependIcon","color","label"]),a(F,{align:"center-center",gap:"0px"},{default:i(()=>[a(o,null,{default:i(()=>[C(y(e.$tr("ui.device.last-message-received","Last message received")),1)]),_:1}),e.deviceTimestamp?(p(),S(o,{key:0,font:"text-button",color:e.$props.deviceConnectivity.color,variant:"soft"},{default:i(()=>[C(y(e.deviceTimestamp),1)]),_:1},8,["color"])):$("",!0)]),_:1})]),_:1})]),_:1})}const je=h(x,[["render",Me]]);x.__docgenInfo={displayName:"FSConnectivityCard",exportName:"default",description:"",tags:{},props:[{name:"deviceConnectivity",type:{name:"FSDeviceConnectivity"},required:!0}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSConnectivityCard.vue"]};const ee=A({name:"FSConnectivity",components:{FSConnectivityCard:je,FSColorIcon:Y},props:{deviceConnectivity:{type:Object,required:!0}},setup(){return{menu:L(!1)}}});function ze(e,t,n,c,m,d){const f=u("FSColorIcon"),o=u("FSConnectivityCard");return p(),S(H,{closeOnContentClick:!1,modelValue:e.menu,"onUpdate:modelValue":t[2]||(t[2]=r=>e.menu=r),location:"bottom center"},{activator:i(({props:r})=>[a(f,q({class:"fs-stopclick",size:"m",color:e.$props.deviceConnectivity.color,onClick:t[0]||(t[0]=U(()=>{},["prevent","stop"]))},r),{default:i(()=>[C(y(e.$props.deviceConnectivity.icon),1)]),_:2},1040,["color"])]),default:i(()=>[a(o,{deviceConnectivity:e.$props.deviceConnectivity,onClose:t[1]||(t[1]=r=>e.menu=!1)},null,8,["deviceConnectivity"])]),_:1},8,["modelValue"])}const Ge=h(ee,[["render",ze]]);ee.__docgenInfo={displayName:"FSConnectivity",exportName:"default",description:"",tags:{},props:[{name:"deviceConnectivity",type:{name:"FSDeviceConnectivity"},required:!0}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSConnectivity.vue"]};const te=A({name:"FSStatusesRow",components:{FSConnectivity:Ge,FSWorstAlert:Ue,FSStatus:ue,FSRow:k},props:{deviceConnectivity:{type:Object,required:!1,default:null},deviceWorstAlert:{type:Object,required:!1,default:null},deviceAlerts:{type:Array,required:!1,default:()=>[]},modelStatuses:{type:Array,required:!0},deviceStatuses:{type:Array,required:!0},alertTo:{type:Function,required:!1,default:null}},setup(e){return{ConnectivityStatus:T,deviceStatus:n=>{const c=e.deviceStatuses.find(m=>m.modelStatusId===n.id);return c!=null?c.statusGroups[0]:n.showDefault?{label:n.label,icon:n.iconDefault,color:n.colorDefault}:null}}}});function Xe(e,t,n,c,m,d){const f=u("FSConnectivity"),o=u("FSWorstAlert"),r=u("FSStatus");return p(),S(k,{align:"center-left",gap:"4px",wrap:!1},{default:i(()=>[e.$props.deviceConnectivity&&e.$props.deviceConnectivity.status!=e.ConnectivityStatus.None?(p(),S(f,{key:0,deviceConnectivity:e.$props.deviceConnectivity},null,8,["deviceConnectivity"])):$("",!0),e.$props.deviceWorstAlert?(p(),S(o,{key:1,deviceWorstAlert:e.$props.deviceWorstAlert,deviceAlerts:e.$props.deviceAlerts,alertTo:e.$props.alertTo},null,8,["deviceWorstAlert","deviceAlerts","alertTo"])):$("",!0),(p(!0),_(w,null,se(e.$props.modelStatuses,(s,g)=>(p(),_(w,null,[e.deviceStatus(s)?(p(),S(r,{statusGroup:e.deviceStatus(s),modelStatus:s,key:g},null,8,["statusGroup","modelStatus"])):$("",!0)],64))),256))]),_:1})}const Ye=h(te,[["render",Xe]]);te.__docgenInfo={displayName:"FSStatusesRow",exportName:"default",description:"",tags:{},props:[{name:"deviceConnectivity",type:{name:"FSDeviceConnectivity"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceWorstAlert",type:{name:"FSDeviceAlert"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceAlerts",type:{name:"FSDeviceAlert[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"modelStatuses",type:{name:"FSModelStatus[]"},required:!0},{name:"deviceStatuses",type:{name:"FSDeviceStatus[]"},required:!0},{name:"alertTo",type:{name:"func"},required:!1,defaultValue:{func:!1,value:"null"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/deviceOrganisations/FSStatusesRow.vue"]};const re=A({name:"FSDeviceOrganisationTileUI",components:{FSStatusesCarousel:le,FSStatusesRow:Ye,FSDivider:ke,FSImage:_e,FSSpan:W,FSTile:we,FSCol:F,FSRow:k},props:{imageId:{type:String,required:!1,default:null},label:{type:String,required:!1,default:null},code:{type:String,required:!1,default:null},deviceConnectivity:{type:Object,required:!1,default:null},deviceWorstAlert:{type:Object,required:!1,default:null},deviceAlerts:{type:Array,required:!1,default:()=>[]},modelStatuses:{type:Array,required:!0,default:()=>[]},deviceStatuses:{type:Array,required:!0,default:()=>[]},alertTo:{type:Function,required:!1,default:null},width:{type:[Array,String,Number],required:!1,default:()=>[352,336]},modelValue:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!1,default:!0}},setup(e){const{isMobileSized:t}=We(),n=v(()=>e.modelStatuses.filter(r=>!(r.groupById!=null||!r.showDefault&&!e.deviceStatuses.some(s=>s.modelStatusId===r.id))).slice(0,5).sort((r,s)=>r.index-s.index)),c=v(()=>e.deviceStatuses.filter(r=>n.value.some(s=>s.id===r.modelStatusId))),m=v(()=>e.modelStatuses.filter(r=>!(r.groupById==null||!r.showDefault&&!e.deviceStatuses.some(s=>s.modelStatusId===r.id))).sort((r,s)=>r.index-s.index)),d=v(()=>e.deviceStatuses.filter(r=>m.value.some(s=>s.id===r.modelStatusId))),f=v(()=>t.value?90:100),o=v(()=>e.imageId?`calc(100% - ${f.value}px - 24px)`:"100%");return{carouselDeviceStatuses:d,carouselModelStatuses:m,singleDeviceStatuses:c,singleModelStatuses:n,ColorEnum:b,imageSize:f,infoWidth:o}}});function He(e,t,n,c,m,d){const f=u("FSStatusesRow"),o=u("FSImage"),r=u("FSDivider"),s=u("FSStatusesCarousel"),g=u("FSTile");return p(),S(g,q({activeColor:e.ColorEnum.Primary,bottomColor:e.ColorEnum.Primary,editable:e.$props.editable,width:e.$props.width,modelValue:e.$props.modelValue},e.$attrs),{default:i(()=>[a(F,{align:"center-center",width:"fill"},{default:i(()=>[a(k,{align:"center-center",gap:"24px",height:e.imageSize,wrap:!1},{default:i(()=>[a(F,{gap:"12px",width:e.infoWidth},{default:i(()=>[a(F,{gap:"6px"},{default:i(()=>[a(W,{font:"text-button",lineClamp:2},{default:i(()=>[C(y(e.$props.label),1)]),_:1}),a(W,{font:"text-overline",variant:"soft"},{default:i(()=>[C(y(e.$props.code),1)]),_:1})]),_:1}),a(f,{deviceConnectivity:e.$props.deviceConnectivity,deviceWorstAlert:e.$props.deviceWorstAlert,deviceStatuses:e.singleDeviceStatuses,modelStatuses:e.singleModelStatuses,deviceAlerts:e.$props.deviceAlerts,alertTo:e.$props.alertTo},null,8,["deviceConnectivity","deviceWorstAlert","deviceStatuses","modelStatuses","deviceAlerts","alertTo"])]),_:1},8,["width"]),e.$props.imageId?(p(),S(o,{key:0,imageId:e.$props.imageId,width:e.imageSize},null,8,["imageId","width"])):$("",!0)]),_:1},8,["height"]),e.carouselModelStatuses.length?(p(),_(w,{key:0},[a(r),a(s,{modelStatuses:e.carouselModelStatuses,deviceStatuses:e.carouselDeviceStatuses},null,8,["modelStatuses","deviceStatuses"])],64)):$("",!0)]),_:1})]),_:1},16,["activeColor","bottomColor","editable","width","modelValue"])}const At=h(re,[["render",He]]);re.__docgenInfo={displayName:"FSDeviceOrganisationTileUI",exportName:"default",description:"",tags:{},props:[{name:"imageId",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"code",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceConnectivity",type:{name:"FSDeviceConnectivity"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceWorstAlert",type:{name:"FSDeviceAlert"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"deviceAlerts",type:{name:"FSDeviceAlert[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"modelStatuses",type:{name:"FSModelStatus[]"},required:!0,defaultValue:{func:!0,value:"() => []"}},{name:"deviceStatuses",type:{name:"FSDeviceStatus[]"},required:!0,defaultValue:{func:!0,value:"() => []"}},{name:"alertTo",type:{name:"func"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"width",type:{name:"string[] | number[] | string | number | null"},required:!1,defaultValue:{func:!0,value:"() => [352, 336]"}},{name:"modelValue",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/tiles/FSDeviceOrganisationTileUI.vue"]};export{T as C,At as F,Ge as a,Ue as b};
