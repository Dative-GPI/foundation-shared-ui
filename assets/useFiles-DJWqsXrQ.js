import{u}from"./useAppAuthToken-BT-dflJP.js";import{u as i}from"./FSRouterLink-DFrDtHuc.js";import{G as l}from"./base-CmdGny12.js";const c=()=>`${l()}/files`,m=(t,e)=>{let n=`${c()}/${encodeURIComponent(t)}`;return e&&(n+=`?access_token=${encodeURIComponent(e)}`),n},U=()=>{const{authToken:t}=u(),{openTab:e}=i();return{downloadFile:r=>{e(m(r,t.value))},readFile:r=>new Promise((a,d)=>{const s=new FileReader;s.addEventListener("load",o=>{a(o.target&&o.target.result)}),s.addEventListener("error",o=>{d(o)}),s.readAsDataURL(r)})}};export{U as u};
