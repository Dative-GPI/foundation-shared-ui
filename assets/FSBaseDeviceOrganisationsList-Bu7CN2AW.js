var U=Object.defineProperty;var R=(o,t,l)=>t in o?U(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l;var i=(o,t,l)=>R(o,typeof t!="symbol"?t+"":t,l);import{d as E,c as O,o as z,w as W,y as m,z as p,A as f,M as G,N as V,B as s,m as A,I,J as T,K as _,L as a,E as b,D as F}from"./vue.esm-bundler-BSyvBTC9.js";import{_ as j}from"./lodash-BiW_TGGX.js";import{F as J}from"./FSDataTable-B6hZuxqM.js";import{F as K}from"./FSMetaValue-C1O7Yn4U.js";import{F as H}from"./FSImage-CyPZfe-0.js";import{F as Q}from"./FSTagGroup-KaZAzl-t.js";import{F as X}from"./FSIconCheck-CYPJ_L0b.js";import{a as Y,F as Z,b as x,C as D}from"./FSDeviceOrganisationTileUI-Dev_c_l9.js";import{F as ee}from"./FSStatusesCarousel-S5jmd0p7.js";import{C as te}from"./base-1FyQZYnT.js";import{S as oe}from"./serviceFactory-Bd5jifNi.js";import{C as ie}from"./composableFactory-wHNy9kQa.js";import{u as re}from"./useDeviceOrganisations-CvIgpWuO.js";import{a as w}from"./customProperties-DqkON8hk.js";import{a as P}from"./FSDataTableUI-CekjR0Nk.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as $}from"./FSCol-YmDykHL-.js";import{_ as M}from"./FSIcon-DHDofKUo.js";import"./_commonjsHelpers-BosuxZz1.js";import"./FSLoader-DIRgKG_M.js";import"./css-DLfrm0pR.js";import"./useColors-B5ivMAr9.js";import"./index-_Z9wfsFC.js";import"./theme-D4rXHj3O.js";import"./color-BygXFKwQ.js";import"./dimensions-DyYT4L19.js";import"./elevation-Ben4zuE4.js";import"./locale-C-s_GJlL.js";import"./FSRow-CVY2l52N.js";import"./VSpacer-C4plVoTE.js";import"./FSFadeOut-I9nnIcBb.js";import"./uuid-DTaye2KM.js";import"./useAppTimeZone-D_npl1cn.js";import"./FSText-8i4Fp1Ld.js";import"./useSlots-P12pG1X5.js";import"./useDateFormat-CNSspUCn.js";import"./datesTools-BRWlXl6j.js";import"./useTranslations-CdSqQFV3.js";import"./useAppLanguageCode-CwkNj4O3.js";import"./FSImageUI-DhMjHi0K.js";import"./base-CmdGny12.js";import"./VImg-DW7Ik4XH.js";import"./rounded-Dg8mz8II.js";import"./transition-CNA6wh-m.js";import"./index-D_lBla-s.js";import"./FSWrapGroup-DnBpx7nY.js";import"./FSSlideGroup-DCqEyw4i.js";import"./FSButton-BVWlNylM.js";import"./FSClickable-DVS7KdyM.js";import"./FSCard-DAS46KTX.js";import"./VProgressCircular-Dh9H7lZx.js";import"./tag-DB5D_XjQ.js";import"./FSSpan-CCGpb4KF.js";import"./index-CHbvZ5Sj.js";import"./display-BMkR1-zV.js";import"./group-CBCTR8u6.js";import"./proxiedModel-Bq4wip6p.js";import"./VIcon-BIpY_noq.js";import"./FSTag-Bvc5sF_f.js";import"./VBtn-CC1p3R0h.js";import"./border-njGtMOdT.js";import"./density-CDPzHPmZ.js";import"./loader-pPiux2KM.js";import"./anchor-D9N-895C.js";import"./router-D2IrSaAD.js";import"./index-DPxysH4G.js";import"./VDefaultsProvider-YWdCRIjF.js";import"./FSChip-vR1IHQ3P.js";import"./VMenu-BVgNprPc.js";import"./VOverlay-CLFcrAVK.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-CAOrKziU.js";import"./alerts-pw2xvgtT.js";import"./FSDivider-CpPmq5Yu.js";import"./FSTile-BxIJyXna.js";import"./FSCheckbox-YoHHo_JV.js";import"./useRules-B3HKjmia.js";import"./VSelectionControl-BRDFiqFl.js";import"./VLabel-owjBjdIA.js";import"./VInput-DO9fMQeR.js";import"./form-B61Sg6X-.js";import"./FSWindow-BMzav7Sc.js";import"./ssrBoot-SGvAq9J5.js";import"./FSColor-CQ-EnRa2.js";import"./useAppOrganisationId-BfPsGMlN.js";import"./hubFactory-CTsGCpS5.js";import"./pathCrumb-Db-cq5HI.js";import"./vue-router-BhvpcqFa.js";import"./FSSearchField-CnDYBu_t.js";import"./FSTextField-zMIFz9nB.js";import"./FSBaseField-DnC2dzvH.js";import"./VField-DndYz9t7.js";import"./FSSelectField-D8_kFGVg.js";import"./FSDialogMenu-CjU7jTTU.js";import"./VDialog-BkP6MFQ7.js";import"./FSToggleSet-Y4-ows8F.js";import"./FSRadio-BknZZMeV.js";import"./VList-BSxk2mkg.js";import"./VSelect-VfM2CROL.js";import"./FSOptionGroup-wuNvwQjf.js";import"./filter-DuGNEgHB.js";class ne{constructor(t){i(this,"priority");i(this,"filterType");i(this,"filterValues");i(this,"color");this.priority=t.priority,this.filterType=t.filterType,this.filterValues=t.filterValues.slice(),this.color=t.color}}class q{constructor(t){i(this,"id");i(this,"code");i(this,"label");i(this,"categoryLabel");i(this,"index");i(this,"entity");i(this,"dataType");i(this,"addInInfos");i(this,"readOnlyCore");i(this,"readOnlyAdmin");i(this,"defaultValue");i(this,"history");i(this,"historySize");i(this,"colorful");i(this,"colorMap");i(this,"useOnlyAllowedValues");i(this,"allowedValues");this.id=t.id,this.code=t.code,this.label=t.label,this.categoryLabel=t.categoryLabel,this.index=t.index,this.entity=t.entity,this.dataType=t.dataType,this.addInInfos=t.addInInfos,this.readOnlyCore=t.readOnlyCore,this.readOnlyAdmin=t.readOnlyAdmin,this.defaultValue=t.defaultValue,this.history=t.history,this.historySize=t.historySize,this.colorful=t.colorful,this.colorMap=t.colorMap.map(l=>new ne(l)),this.useOnlyAllowedValues=t.useOnlyAllowedValues,this.allowedValues={...t.allowedValues}}}class ae extends q{constructor(t){super(t)}}const le=()=>`${te()}/custom-properties`,me=new oe("customProperty",ae).create(o=>o.build(o.addGetMany(le,q),o.addNotify())),ce=ie.getMany(me),L=E({name:"FSBaseDeviceOrganisationsList",components:{FSConnectivity:Y,FSDataTable:J,FSDeviceOrganisationTileUI:Z,FSIconCheck:X,FSImage:H,FSMetaValue:K,FSStatusesCarousel:ee,FSTagGroup:Q,FSWorstAlert:x},props:{modelValue:{type:Array,default:()=>[],required:!1},deviceOrganisationFilters:{type:Object,required:!1,default:null},connectedOnly:{type:Boolean,required:!1,default:!1},itemTo:{type:Function,required:!1},singleSelect:{type:Boolean,required:!1,default:!1},tableCode:{type:String,required:!0}},emits:["update:modelValue"],setup(o){const{fetching:t,entities:l,getMany:h}=ce(),{entities:y,fetching:C,getMany:v}=re(),u=O(()=>o.connectedOnly?y.value.filter(r=>r.connectivity!=null&&r.connectivity.status!=D.None):y.value),g=O(()=>({connectable:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status),connectivity:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status)})),S=r=>o.modelValue.includes(r);return z(()=>{h({entities:[w.Device,w.DeviceOrganisation]})}),W(()=>o.deviceOrganisationFilters,(r,n)=>{(!r&&!n||!j.isEqual(r,n))&&v(o.deviceOrganisationFilters)},{immediate:!0}),{fetchingDeviceOrganisations:C,fecthingCustomProperties:t,deviceOrganisations:u,ConnectivityStatus:D,customProperties:l,customSorts:g,isSelected:S}}});function ue(o,t,l,h,y,C){const v=m("FSImage"),u=m("FSConnectivity"),g=m("FSIconCheck"),S=m("FSTagGroup"),r=m("FSWorstAlert"),n=m("FSStatusesCarousel"),N=m("FSMetaValue"),k=m("FSDeviceOrganisationTileUI"),B=m("FSDataTable");return p(),f(B,A({items:o.deviceOrganisations,customSorts:o.customSorts,itemTo:o.$props.itemTo,loading:o.fetchingDeviceOrganisations,tableCode:o.$props.tableCode,modelValue:o.$props.modelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>o.$emit("update:modelValue",e))},o.$attrs),G({"header.connectable-title":s(()=>[a(M,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"header.connectivity-title":s(()=>[a(M,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"item.imageId":s(({item:e})=>[e.imageId?(p(),f(v,{key:0,height:"32px",width:"32px",imageId:e.imageId},null,8,["imageId"])):F("",!0)]),"item.connectable":s(({item:e})=>[a($,null,{default:s(()=>[e.connectivity.status!=o.ConnectivityStatus.None?(p(),f(u,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):F("",!0)]),_:2},1024)]),"item.connectivity":s(({item:e})=>[a($,null,{default:s(()=>[e.connectivity.status!=o.ConnectivityStatus.None?(p(),f(u,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):F("",!0)]),_:2},1024)]),"item.unrestricted":s(({item:e})=>[a(g,{value:e.unrestricted},null,8,["value"])]),"item.tags":s(({item:e})=>[a(S,{variant:"slide",editable:!1,tags:e.tags},null,8,["tags"])]),"item.worstAlert":s(({item:e})=>[a(r,{deviceAlerts:e.alerts,deviceAlert:e.worstAlert},null,8,["deviceAlerts","deviceAlert"])]),"item.alerts":s(({item:e})=>[a(r,{deviceAlerts:e.alerts.length,deviceAlert:e.worstAlert},null,8,["deviceAlerts","deviceAlert"])]),"item.status":s(({item:e})=>[a(n,{modelStatuses:e.modelStatuses,deviceStatuses:e.status.statuses},null,8,["modelStatuses","deviceStatuses"])]),"item.actions":s(({item:e})=>[I(o.$slots,"actions",T(_({item:e})))]),"item.tile":s(({item:e,toggleSelect:c})=>[a(k,A(e,{modelValue:o.isSelected(e.id),singleSelect:o.singleSelect,deviceStatuses:e.status.statuses,deviceConnectivity:e.connectivity,deviceWorstAlert:e.worstAlert,deviceAlerts:e.alerts,to:o.$props.itemTo&&o.$props.itemTo(e),"onUpdate:modelValue":d=>c(e)}),null,16,["modelValue","singleSelect","deviceStatuses","deviceConnectivity","deviceWorstAlert","deviceAlerts","to","onUpdate:modelValue"])]),_:2},[V(o.$slots,(e,c)=>({name:c,fn:s(d=>[I(o.$slots,c,T(_(d)))])})),V(o.customProperties,(e,c)=>({name:`item.meta.${e.code}`,fn:s(({item:d})=>[a(N,{customProperty:e,meta:d.meta},null,8,["customProperty","meta"])])}))]),1040,["items","customSorts","itemTo","loading","tableCode","modelValue"])}const no=se(L,[["render",ue]]);L.__docgenInfo={displayName:"FSBaseDeviceOrganisationsList",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"deviceOrganisationFilters",type:{name:"DeviceOrganisationFilters"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"connectedOnly",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"itemTo",type:{name:"(item: DeviceOrganisationInfos) => Partial<RouteLocation>"},required:!1},{name:"singleSelect",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"tableCode",type:{name:"string"},required:!0}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"actions",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/lists/deviceOrganisations/FSBaseDeviceOrganisationsList.vue"]};export{no as default};
