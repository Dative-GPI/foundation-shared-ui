import{f as L,j as c,g as s,I as b,J as U,M,A as r,X as E,Y as H,L as u,F as O,V as C,Q as P,R as N}from"./vue.esm-bundler-cd768bc3.js";import{F as j,a as I}from"./FSCalendarTwin-882eee29.js";import{F as h}from"./FSTextField-1c3f111c.js";import{F as $}from"./FSButton-7364cb00.js";import{F as z}from"./FSClock-30da2200.js";import{_ as g}from"./FSCol-ff457bc3.js";import{_ as q}from"./FSRow-1d7c2545.js";import{C as m,u as J}from"./useColors-91ab292c.js";import{u as Q}from"./useAppTimeZone-d6a8f46f.js";import{u as X}from"./useRules-bb9e9594.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";const k=L({name:"FSDateTimeRangeField",components:{FSDialogSubmit:j,FSCalendarTwin:I,FSTextField:h,FSButton:$,FSClock:z,FSCol:g,FSRow:q},props:{label:{type:String,required:!1,default:null},description:{type:String,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},color:{type:String,required:!1,default:m.Primary},hideHeader:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},rules:{type:Array,required:!1,default:()=>[]},editable:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const{getUserOffsetMillis:f,epochToShortTimeFormat:y}=Q(),{validateOn:F,blurred:S,getMessages:V}=X(),{getColors:t}=J(),v=t(m.Error),o=t(m.Light),p=t(m.Dark),i=c(!1),l=c(null),d=c(0),n=c(0);if(e.modelValue&&Array.isArray(e.modelValue))switch(e.modelValue.length){case 0:break;case 1:{n.value=Math.floor((e.modelValue[0]+f())%(24*60*60*1e3)),l.value=[e.modelValue[0]-n.value];break}default:{n.value=Math.floor((e.modelValue[0]+f())%(24*60*60*1e3)),d.value=Math.floor((e.modelValue[1]+f())%(24*60*60*1e3)),l.value=[e.modelValue[0]-n.value,e.modelValue[1]-d.value];break}}const T=s(()=>e.editable?{"--fs-date-field-color":p.base,"--fs-date-field-error-color":v.base}:{"--fs-date-field-color":o.dark}),R=s(()=>!e.modelValue||!Array.isArray(e.modelValue)||!e.modelValue.length?"":e.modelValue.map(w=>y(w)).join(" - ")),D=s(()=>l.value&&Array.isArray(l.value)&&l.value.length?l.value[0]:null),A=s(()=>l.value&&Array.isArray(l.value)&&l.value.length>1?l.value[1]:null),B=s(()=>V(e.modelValue,e.rules,!0));return{ColorEnum:m,validateOn:F,messages:B,blurred:S,style:T,dialog:i,toShortTimeFormat:R,innerDateLeft:D,innerTimeLeft:n,innerDateRight:A,innerTimeRight:d,innerDateRange:l,onClick:()=>{e.editable&&(i.value=!0)},onClear:()=>{a("update:modelValue",null),n.value=0,d.value=0,l.value=null},onSubmit:()=>{l.value&&Array.isArray(l.value)&&l.value.length>1&&a("update:modelValue",[l.value[0]+n.value,l.value[1]+d.value]),i.value=!1}}}});function Z(e,a,f,y,F,S){const V=b("FSCalendarTwin"),t=b("FSClock"),v=b("FSDialogSubmit");return U(),M(O,null,[r(h,{class:"fs-date-field",label:e.$props.label,description:e.$props.description,color:e.$props.color,hideHeader:e.$props.hideHeader,required:e.$props.required,editable:e.$props.editable,readonly:!0,rules:e.$props.rules,messages:e.messages,validateOn:e.validateOn,validationValue:e.$props.modelValue,modelValue:e.toShortTimeFormat,onClick:e.onClick,"onUpdate:modelValue":e.onClear,onBlur:a[0]||(a[0]=o=>e.blurred=!0)},E({"prepend-inner":u(()=>[C(e.$slots,"prepend-inner",{},()=>[r($,{variant:"icon",icon:"mdi-calendar",editable:e.$props.editable,color:e.ColorEnum.Dark},null,8,["editable","color"])])]),_:2},[H(e.$slots,(o,p)=>({name:p,fn:u(i=>[C(e.$slots,p,P(N(i)))])}))]),1032,["label","description","color","hideHeader","required","editable","rules","messages","validateOn","validationValue","modelValue","onClick","onUpdate:modelValue"]),r(v,{title:e.$props.label,rightButtonColor:e.$props.color,"onClick:rightButton":e.onSubmit,modelValue:e.dialog,"onUpdate:modelValue":a[4]||(a[4]=o=>e.dialog=o)},{body:u(()=>[r(g,null,{default:u(()=>[r(V,{color:e.$props.color,modelValue:e.innerDateRange,"onUpdate:modelValue":a[1]||(a[1]=o=>e.innerDateRange=o)},null,8,["color","modelValue"]),r(q,{width:"100%"},{default:u(()=>[r(g,{width:"calc(50% - 4px)"},{default:u(()=>[r(t,{color:e.$props.color,date:e.innerDateLeft,modelValue:e.innerTimeLeft,"onUpdate:modelValue":a[2]||(a[2]=o=>e.innerTimeLeft=o)},null,8,["color","date","modelValue"])]),_:1}),r(g,{width:"calc(50% - 4px)"},{default:u(()=>[r(t,{color:e.$props.color,date:e.innerDateRight,modelValue:e.innerTimeRight,"onUpdate:modelValue":a[3]||(a[3]=o=>e.innerTimeRight=o)},null,8,["color","date","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","rightButtonColor","onClick:rightButton","modelValue"])],64)}const de=Y(k,[["render",Z]]);k.__docgenInfo={displayName:"FSDateTimeRangeField",exportName:"default",description:"",tags:{},props:[{name:"label",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"description",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"number[] | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}},{name:"hideHeader",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"rules",type:{name:"any[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:modelValue"}],slots:[{name:"prepend-inner"},{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSDateTimeRangeField.vue"]};export{de as F};
