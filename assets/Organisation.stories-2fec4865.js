import{q as u,s as c,u as d,d as x,v as B,o as H,e as S,t as D}from"./vue.esm-bundler-245253b1.js";import"./lodash-ee9167ea.js";import{S as M}from"./serviceFactory-43967840.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";const w="/api/core/v1",I=`${w}/organisations`,T=i=>`${I}/${encodeURIComponent(i)}`;function $(i,e=n=>!0,s=n=>n.id){return(t,a)=>{switch(t){case"add":A(i,a,s,e);return;case"update":F(i,a,s,e);return;case"delete":R(i,a,s);return}}}function h(i,e=s=>s.id){return(n,t)=>{if(!i.value)return;const a=e(i.value);(n==="add"||n==="update")&&a===e(t)&&(i.value=t),n==="delete"&&a===t&&(i.value=null)}}function A(i,e,s,n){const t=i.value,a=s(e),o=t.findIndex(l=>s(l)===a),r=n(e);o==-1&&r?t.push(e):o==-1&&!r||(o!=-1&&!r?t.splice(o,1):t.splice(o,1,e))}function F(i,e,s,n){const t=i.value,a=s(e),o=t.findIndex(l=>s(l)===a),r=n(e);o!=-1&&r?t.splice(o,1,e):o!=-1&&!r?t.splice(o,1):o==-1&&r&&t.push(e)}function R(i,e,s){const n=i.value,t=n.findIndex(a=>s(a)===e);t!=-1&&n.splice(t,1)}class U{static create(e){return n=>{for(const t in e)if(n[t]!==e[t])return!1;return!0}}}class p{static get(e){const s=e();return()=>{const n=u(!1),t=u(null),a=async o=>{n.value=!0;try{t.value=await s.get(o)}finally{n.value=!1}const r=s.subscribe("all",h(t));return d(()=>s.unsubscribe(r)),c(t)};return{getting:c(n),get:a,entity:c(t)}}}static getMany(e){const s=e();return()=>{const n=u(!1),t=u([]),a=async(o,r)=>{n.value=!0;try{t.value=await s.getMany(o)}finally{n.value=!1}const l=r||(o?U.create(o):W=>!0),_=s.subscribe("all",$(t,l));return d(()=>s.unsubscribe(_)),c(t)};return{fetching:c(n),getMany:a,entities:c(t)}}}static create(e){const s=e();return()=>{const n=u(!1),t=u(null),a=async o=>{n.value=!0;try{t.value=await s.create(o)}finally{n.value=!1}const r=s.subscribe("all",h(t));return d(()=>s.unsubscribe(r)),c(t)};return{creating:c(n),create:a,created:c(t)}}}static update(e){const s=e();return()=>{const n=u(!1),t=u(null),a=async(o,r)=>{n.value=!0;try{t.value=await s.update(o,r)}finally{n.value=!1}const l=s.subscribe("all",h(t));return d(()=>s.unsubscribe(l)),c(t.value)};return{updating:c(n),update:a,updated:c(t)}}}static remove(e){const s=e();return()=>{const n=u(!1),t=async a=>{n.value=!0;try{await s.remove(a)}finally{n.value=!1}};return{removing:c(n),remove:t}}}}class y{constructor(e){this.id=e.id,this.label=e.label,this.userCount=e.userCount,this.imageId=e.imageId,this.imageBlurHash=e.imageBlurHash,this.imageHeight=e.imageHeight,this.imageWidth=e.imageWidth}}class L extends y{constructor(e){super(e),this.organisationTypeId=e.organisationTypeId,this.label=e.label,this.userCount=e.userCount,this.mainDashboardId=e.mainDashboardId,this.description=e.description,this.imageId=e.imageId,this.imageBlurHash=e.imageBlurHash,this.imageHeight=e.imageHeight,this.imageWidth=e.imageWidth,this.adminId=e.adminId,this.adminName=e.adminName,this.locationCount=e.locationCount,this.deviceCount=e.deviceCount,this.mainDashboardOrganisationsIds=e.mainDashboardOrganisationsIds.slice(),this.mainDashboardOrganisationTypesIds=e.mainDashboardOrganisationTypesIds.slice()}}const O=M.createComplete("organisation",I,T,L,y),k=p.get(O);p.getMany(O);const C=x({setup(){const{get:i,entity:e}=k();return B(async()=>{i("testId")}),{organisation:e}}});function E(i,e,s,n,t,a){var o;return H(),S("div",null," Here is the components containing : "+D((o=i.organisation)==null?void 0:o.label),1)}const f=N(C,[["render",E]]);C.__docgenInfo={exportName:"default",displayName:"Organisation",description:"",tags:{},sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/foundation-shared-ui-components/components/Organisation.vue"]};const K={title:"Test/Organisation",component:f,render:i=>({components:{Organisation:f},template:"<organisation />"}),tags:["autodocs"]},g={args:{}};var m,v,b;g.parameters={...g.parameters,docs:{...(m=g.parameters)==null?void 0:m.docs,source:{originalSource:`{
  args: {}
}`,...(b=(v=g.parameters)==null?void 0:v.docs)==null?void 0:b.source}}};const P=["LoggedIn"];export{g as LoggedIn,P as __namedExportsOrder,K as default};
//# sourceMappingURL=Organisation.stories-2fec4865.js.map
