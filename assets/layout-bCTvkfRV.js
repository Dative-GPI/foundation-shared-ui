import{u as G}from"./resizeObserver-CpF7iUII.js";import{a as K,n as N,c as a,e as J,r as w,p as Q}from"./vue.esm-bundler-D5n7z5qz.js";import{e as k,c as L,g as ee,p as te,f as oe}from"./theme-BcqfMidt.js";const M=Symbol.for("vuetify:layout"),ne=Symbol.for("vuetify:layout-item"),A=1e3,re=te({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout");function ce(){const i=K(M);if(!i)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:N(),getLayoutItem:i.getLayoutItem,mainRect:i.mainRect,mainStyles:i.mainStyles}}const ae=(i,r,p,c)=>{let s={top:0,left:0,right:0,bottom:0};const v=[{id:"",layer:{...s}}];for(const u of i){const y=r.get(u),m=p.get(u),z=c.get(u);if(!y||!m||!z)continue;const g={...s,[y.value]:parseInt(s[y.value],10)+(z.value?parseInt(m.value,10):0)};v.push({id:u,layer:g}),s=g}return v};function ve(i){const r=K(M,null),p=a(()=>r?r.rootZIndex.value-100:A),c=J([]),s=w(new Map),v=w(new Map),u=w(new Map),y=w(new Map),m=w(new Map),{resizeRef:z,contentRect:g}=G(),h=k(()=>{const t=[...new Set([...u.values()].map(e=>e.value))].sort((e,d)=>e-d),n=[];for(const e of t){const d=c.value.filter(o=>{var f;return((f=u.get(o))==null?void 0:f.value)===e});n.push(...d)}return ae(n,s,v,y)}),T=a(()=>!Array.from(m.values()).some(t=>t.value)),x=a(()=>h.value[h.value.length-1].layer),X=a(()=>({"--v-layout-left":L(x.value.left),"--v-layout-right":L(x.value.right),"--v-layout-top":L(x.value.top),"--v-layout-bottom":L(x.value.bottom),...T.value?void 0:{transition:"none"}})),I=k(()=>h.value.slice(1).map((t,n)=>{let{id:e}=t;const{layer:d}=h.value[n],o=v.get(e),f=s.get(e);return{id:e,...d,size:Number(o.value),position:f.value}})),V=t=>I.value.find(n=>n.id===t),S=ee("createLayout"),H=N();Q(M,{register:(t,n)=>{let{id:e,order:d,position:o,layoutSize:f,elementSize:b,active:P,disableTransitions:Z,absolute:D}=n;u.set(e,d),s.set(e,o),v.set(e,f),y.set(e,P),Z&&m.set(e,Z);const j=oe(ne,S==null?void 0:S.vnode).indexOf(t);j>-1?c.value.splice(j,0,e):c.value.push(e);const R=a(()=>I.value.findIndex($=>$.id===e)),C=a(()=>p.value+h.value.length*2-R.value*2),F=a(()=>{const $=o.value==="left"||o.value==="right",O=o.value==="right",W=o.value==="bottom",E=b.value??f.value,Y=E===0?"%":"px",_={[o.value]:0,zIndex:C.value,transform:`translate${$?"X":"Y"}(${(P.value?0:-(E===0?100:E))*(O||W?-1:1)}${Y})`,position:D.value||p.value!==A?"absolute":"fixed",...T.value?void 0:{transition:"none"}};if(R.value<0)throw new Error(`Layout item "${e}" is missing`);const l=I.value[R.value];if(!l)throw new Error(`[Vuetify] Could not find layout item "${e}"`);return{..._,height:$?`calc(100% - ${l.top}px - ${l.bottom}px)`:b.value?`${b.value}px`:void 0,left:O?void 0:`${l.left}px`,right:O?`${l.right}px`:void 0,top:o.value!=="bottom"?`${l.top}px`:void 0,bottom:o.value!=="top"?`${l.bottom}px`:void 0,width:$?b.value?`${b.value}px`:void 0:`calc(100% - ${l.left}px - ${l.right}px)`}}),U=a(()=>({zIndex:C.value-1}));return{layoutItemStyles:F,layoutItemScrimStyles:U,zIndex:C}},unregister:t=>{u.delete(t),s.delete(t),v.delete(t),y.delete(t),m.delete(t),c.value=c.value.filter(n=>n!==t)},mainRect:x,mainStyles:X,getLayoutItem:V,items:I,layoutRect:g,rootZIndex:p,layoutIsReady:H});const q=a(()=>["v-layout",{"v-layout--full-height":i.fullHeight}]),B=a(()=>({zIndex:r?p.value:void 0,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:q,layoutStyles:B,getLayoutItem:V,items:I,layoutRect:g,layoutIsReady:H,layoutRef:z}}export{M as V,ve as c,re as m,ce as u};
