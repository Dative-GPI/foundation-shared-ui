var U=Object.defineProperty;var W=(t,o,a)=>o in t?U(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a;var i=(t,o,a)=>W(t,typeof o!="symbol"?o+"":o,a);import{d as R,c as O,o as E,w as z,y as l,z as u,A as c,M as G,N as V,B as s,m as T,I as A,J as I,K as w,L as m,E as b,D as d}from"./vue.esm-bundler-BSyvBTC9.js";import{_ as j}from"./lodash-BiW_TGGX.js";import{F as J}from"./FSDataTable-xX9JgO_Q.js";import{F as K}from"./FSMetaValue-DnJq1_76.js";import{F as H}from"./FSImage-BxDhaxzU.js";import{F as Q}from"./FSTagGroup-Dj83q6UG.js";import{F as X}from"./FSIconCheck-CX-utQD8.js";import{a as Y,F as Z,b as x,C as D}from"./FSDeviceOrganisationTileUI-BAGFRjkY.js";import{F as ee}from"./FSStatusesCarousel-aiolA0WX.js";import{C as te}from"./base-1FyQZYnT.js";import{S as oe}from"./serviceFactory-Bd5jifNi.js";import{C as ie}from"./composableFactory-wHNy9kQa.js";import{u as re}from"./useDeviceOrganisations-CvIgpWuO.js";import{a as $}from"./customProperties-DqkON8hk.js";import{a as P}from"./FSDataTableUI-DmL672AK.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as _}from"./FSCol-DZA6pxA1.js";import{F as q}from"./FSIcon-DwJNOKvG.js";import"./_commonjsHelpers-BosuxZz1.js";import"./FSLoader-CtbqJzfZ.js";import"./css-DLfrm0pR.js";import"./useColors-DlnF7i6T.js";import"./index-DfSX31J9.js";import"./theme-D4rXHj3O.js";import"./color-BygXFKwQ.js";import"./dimensions-DyYT4L19.js";import"./elevation-Ben4zuE4.js";import"./locale-C-s_GJlL.js";import"./FSRow-CA1vgNXx.js";import"./VSpacer-C4plVoTE.js";import"./FSFadeOut-D96pvLZm.js";import"./uuid-DTaye2KM.js";import"./useAppTimeZone-D_npl1cn.js";import"./FSText-DyldgdXP.js";import"./useSlots-P12pG1X5.js";import"./useDateFormat-CNSspUCn.js";import"./datesTools-BRWlXl6j.js";import"./useTranslations-CdSqQFV3.js";import"./useAppLanguageCode-CwkNj4O3.js";import"./FSImageUI-C0XOuHIu.js";import"./VImg-DW7Ik4XH.js";import"./rounded-Dg8mz8II.js";import"./transition-CNA6wh-m.js";import"./index-D_lBla-s.js";import"./useImages-BaeRdzQ-.js";import"./base-CmdGny12.js";import"./FSWrapGroup-yFK4C9rw.js";import"./FSSlideGroup-BogZOmN_.js";import"./FSButton-CyN0itWL.js";import"./FSClickable-CS9kdIxp.js";import"./FSCard-Dakm4bPu.js";import"./VProgressCircular-Dh9H7lZx.js";import"./tag-DB5D_XjQ.js";import"./FSSpan-CCGpb4KF.js";import"./index-CHbvZ5Sj.js";import"./display-BMkR1-zV.js";import"./group-CBCTR8u6.js";import"./proxiedModel-Bq4wip6p.js";import"./VIcon-BIpY_noq.js";import"./FSTag-CiTQmVvb.js";import"./VBtn-CC1p3R0h.js";import"./border-njGtMOdT.js";import"./density-CDPzHPmZ.js";import"./loader-pPiux2KM.js";import"./anchor-D9N-895C.js";import"./router-D2IrSaAD.js";import"./index-DPxysH4G.js";import"./VDefaultsProvider-YWdCRIjF.js";import"./FSChip-Cu5YGhb-.js";import"./FSStatus-ZGfipMpJ.js";import"./FSColor-CSobaj7A.js";import"./VMenu-BVgNprPc.js";import"./VOverlay-CLFcrAVK.js";import"./forwardRefs-DWGaNmQL.js";import"./lazy-CAOrKziU.js";import"./alerts-pw2xvgtT.js";import"./FSDivider-DQ-5tMcN.js";import"./FSTile-ClEhpyRn.js";import"./FSCheckbox-DPKcfP0u.js";import"./useRules-B3HKjmia.js";import"./VSelectionControl-BRDFiqFl.js";import"./VLabel-owjBjdIA.js";import"./VInput-DO9fMQeR.js";import"./form-B61Sg6X-.js";import"./FSWindow-BMzav7Sc.js";import"./ssrBoot-SGvAq9J5.js";import"./useAppOrganisationId-BfPsGMlN.js";import"./hubFactory-CTsGCpS5.js";import"./pathCrumb-Db-cq5HI.js";import"./vue-router-BhvpcqFa.js";import"./FSSearchField-Cjbg81V-.js";import"./FSTextField-DIyIIzs_.js";import"./FSBaseField-BkzmckaL.js";import"./VField-DndYz9t7.js";import"./FSSelectField-CBLEXrby.js";import"./FSDialogMenu-D5T4tlYN.js";import"./VDialog-BkP6MFQ7.js";import"./FSToggleSet-Cx7T0QZL.js";import"./FSRadio-CTi9smel.js";import"./VList-BSxk2mkg.js";import"./VSelect-vIgl-vXK.js";import"./FSOptionGroup-BXRAcD1O.js";import"./filter-CTnmeGG4.js";import"./filter-DuGNEgHB.js";class ne{constructor(o){i(this,"priority");i(this,"filterType");i(this,"filterValues");i(this,"color");this.priority=o.priority,this.filterType=o.filterType,this.filterValues=o.filterValues.slice(),this.color=o.color}}class M{constructor(o){i(this,"id");i(this,"code");i(this,"label");i(this,"categoryLabel");i(this,"index");i(this,"entity");i(this,"dataType");i(this,"addInInfos");i(this,"readOnlyCore");i(this,"readOnlyAdmin");i(this,"defaultValue");i(this,"history");i(this,"historySize");i(this,"colorful");i(this,"colorMap");i(this,"useOnlyAllowedValues");i(this,"allowedValues");this.id=o.id,this.code=o.code,this.label=o.label,this.categoryLabel=o.categoryLabel,this.index=o.index,this.entity=o.entity,this.dataType=o.dataType,this.addInInfos=o.addInInfos,this.readOnlyCore=o.readOnlyCore,this.readOnlyAdmin=o.readOnlyAdmin,this.defaultValue=o.defaultValue,this.history=o.history,this.historySize=o.historySize,this.colorful=o.colorful,this.colorMap=o.colorMap.map(a=>new ne(a)),this.useOnlyAllowedValues=o.useOnlyAllowedValues,this.allowedValues={...o.allowedValues}}}class ae extends M{constructor(o){super(o)}}const le=()=>`${te()}/custom-properties`,me=new oe("customProperty",ae).create(t=>t.build(t.addGetMany(le,M),t.addNotify())),ue=ie.getMany(me),L=R({name:"FSBaseDeviceOrganisationsList",components:{FSConnectivity:Y,FSDataTable:J,FSDeviceOrganisationTileUI:Z,FSIconCheck:X,FSImage:H,FSMetaValue:K,FSStatusesCarousel:ee,FSTagGroup:Q,FSWorstAlert:x},props:{modelValue:{type:Array,default:()=>[],required:!1},deviceOrganisationFilters:{type:Object,required:!1,default:null},connectedOnly:{type:Boolean,required:!1,default:!1},itemTo:{type:Function,required:!1},alertTo:{type:Function,required:!1,default:null},singleSelect:{type:Boolean,required:!1,default:!1},tableCode:{type:String,required:!0}},emits:["update:modelValue"],setup(t){const{fetching:o,entities:a,getMany:h}=ue(),{entities:v,fetching:C,getMany:S}=re(),f=O(()=>t.connectedOnly?v.value.filter(r=>r.connectivity!=null&&r.connectivity.status!=D.None):v.value),g=O(()=>({connectable:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status),connectivity:(r,n)=>P(r==null?void 0:r.status,n==null?void 0:n.status)})),F=r=>t.modelValue.includes(r);return E(()=>{h({entities:[$.Device,$.DeviceOrganisation]})}),z(()=>t.deviceOrganisationFilters,(r,n)=>{(!r&&!n||!j.isEqual(r,n))&&S(t.deviceOrganisationFilters)},{immediate:!0}),{fetchingDeviceOrganisations:C,fecthingCustomProperties:o,deviceOrganisations:f,ConnectivityStatus:D,customProperties:a,customSorts:g,isSelected:F}}});function ce(t,o,a,h,v,C){const S=l("FSImage"),f=l("FSConnectivity"),g=l("FSIconCheck"),F=l("FSTagGroup"),r=l("FSWorstAlert"),n=l("FSStatusesCarousel"),k=l("FSMetaValue"),N=l("FSDeviceOrganisationTileUI"),B=l("FSDataTable");return u(),c(B,T({items:t.deviceOrganisations,customSorts:t.customSorts,itemTo:t.$props.itemTo,loading:t.fetchingDeviceOrganisations,tableCode:t.$props.tableCode,modelValue:t.$props.modelValue,"onUpdate:modelValue":o[0]||(o[0]=e=>t.$emit("update:modelValue",e))},t.$attrs),G({"header.connectable-title":s(()=>[m(q,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"header.connectivity-title":s(()=>[m(q,null,{default:s(()=>[b(" mdi-wifi ")]),_:1})]),"item.imageId":s(({item:e})=>[e.imageId?(u(),c(S,{key:0,height:"32px",width:"32px",imageId:e.imageId},null,8,["imageId"])):d("",!0)]),"item.connectable":s(({item:e})=>[m(_,null,{default:s(()=>[e.connectivity.status!=t.ConnectivityStatus.None?(u(),c(f,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):d("",!0)]),_:2},1024)]),"item.connectivity":s(({item:e})=>[m(_,null,{default:s(()=>[e.connectivity.status!=t.ConnectivityStatus.None?(u(),c(f,{key:0,deviceConnectivity:e.connectivity},null,8,["deviceConnectivity"])):d("",!0)]),_:2},1024)]),"item.unrestricted":s(({item:e})=>[m(g,{value:e.unrestricted},null,8,["value"])]),"item.tags":s(({item:e})=>[m(F,{variant:"slide",editable:!1,tags:e.tags},null,8,["tags"])]),"item.worstAlert":s(({item:e})=>[e.worstAlert?(u(),c(r,{key:0,deviceWorstAlert:e.worstAlert,deviceAlerts:e.alerts,alertTo:t.$props.alertTo},null,8,["deviceWorstAlert","deviceAlerts","alertTo"])):d("",!0)]),"item.alerts":s(({item:e})=>[e.worstAlert?(u(),c(r,{key:0,deviceWorstAlert:e.worstAlert,deviceAlerts:e.alerts,alertTo:t.$props.alertTo},null,8,["deviceWorstAlert","deviceAlerts","alertTo"])):d("",!0)]),"item.status":s(({item:e})=>[m(n,{modelStatuses:e.modelStatuses,deviceStatuses:e.status.statuses},null,8,["modelStatuses","deviceStatuses"])]),"item.actions":s(({item:e})=>[A(t.$slots,"actions",I(w({item:e})))]),"item.tile":s(({item:e,toggleSelect:p})=>[m(N,T(e,{modelValue:t.isSelected(e.id),singleSelect:t.singleSelect,deviceStatuses:e.status.statuses,deviceConnectivity:e.connectivity,deviceWorstAlert:e.worstAlert,deviceAlerts:e.alerts,to:t.$props.itemTo&&t.$props.itemTo(e),alertTo:t.$props.alertTo,"onUpdate:modelValue":y=>p(e)}),null,16,["modelValue","singleSelect","deviceStatuses","deviceConnectivity","deviceWorstAlert","deviceAlerts","to","alertTo","onUpdate:modelValue"])]),_:2},[V(t.$slots,(e,p)=>({name:p,fn:s(y=>[A(t.$slots,p,I(w(y)))])})),V(t.customProperties,(e,p)=>({name:`item.meta.${e.code}`,fn:s(({item:y})=>[m(k,{customProperty:e,meta:y.meta},null,8,["customProperty","meta"])])}))]),1040,["items","customSorts","itemTo","loading","tableCode","modelValue"])}const mo=se(L,[["render",ce]]);L.__docgenInfo={displayName:"FSBaseDeviceOrganisationsList",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"string[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"deviceOrganisationFilters",type:{name:"DeviceOrganisationFilters"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"connectedOnly",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"itemTo",type:{name:"(item: DeviceOrganisationInfos) => Partial<RouteLocation>"},required:!1},{name:"alertTo",type:{name:"func"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"singleSelect",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"tableCode",type:{name:"string"},required:!0}],events:[{name:"update:modelValue"}],slots:[{name:"name",scoped:!0,bindings:[{name:"name",title:"binding"}]},{name:"actions",scoped:!0,bindings:[{name:"item",title:"binding"}]}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/core/foundation-core-components/components/lists/deviceOrganisations/FSBaseDeviceOrganisationsList.vue"]};export{mo as default};
