import{d as q,b as C,c as f,g as E,A,B as U,D as r,I as _,P as n,J as z,K as I,X as L,R as y}from"./vue.esm-bundler-0BaZj8Cy.js";import{F as R}from"./FSSelectField-CTk_sCUj.js";import{F as p}from"./FSButton-BDSx2V0J.js";import{_ as F}from"./FSSpan-BhEzkP-a.js";import{F as k}from"./FSCol-D35grUmj.js";import{_ as h}from"./FSRow-CAJM3FZ0.js";import{C as c,u as H}from"./useColors-SBQj5l4a.js";import{u as j}from"./useDateFormat-BwdEXDwr.js";import{u as J}from"./useAppLanguageCode-DX4nWmzx.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as X,a as G}from"./VLocaleProvider-B05T5O77.js";const V=q({name:"FSCalendar",components:{FSSelectField:R,FSButton:p,FSSpan:F,FSCol:k,FSRow:h},props:{modelValue:{type:Number,required:!1,default:null},color:{type:String,required:!1,default:c.Primary},limit:{type:String,required:!1,default:"none"}},emits:["update:modelValue"],setup(e,{emit:d}){const{epochToPicker:m,pickerToEpoch:t,todayToEpoch:g}=j(),{languageCode:v}=J(),{getColors:s}=H(),o=C(new Date().getMonth()),u=C(new Date().getFullYear()),i=f(()=>s(e.color)),b=s(c.Background),S=s(c.Light),D=s(c.Dark),w=f(()=>({"--fs-calendar-background-color":b.base,"--fs-calendar-hover-background-color":i.value.light,"--fs-calendar-active-background-color":i.value.base,"--fs-calendar-border-color":S.dark,"--fs-calendar-hover-border-color":i.value.base,"--fs-calendar-active-border-color":i.value.base,"--fs-calendar-color":D.base,"--fs-calendar-hover-color":i.value.base,"--fs-calendar-active-color":i.value.light})),Y=f(()=>{const a=new Date(0);return a.setMonth(o.value),a.setFullYear(u.value),new Intl.DateTimeFormat(v.value,{month:"long",year:"numeric"}).format(a)}),M=f(()=>{const a=[];switch(e.limit){case"past":for(let l=1900;l<new Date().getFullYear();l++)a.push({label:l.toString(),id:l});break;case"future":for(let l=new Date().getFullYear();l<2100;l++)a.push({label:l.toString(),id:l});break;default:for(let l=1900;l<2100;l++)a.push({label:l.toString(),id:l});break}return a}),P=()=>{o.value>0?o.value--:(u.value--,o.value=11)},T=()=>{o.value<11?o.value++:(u.value++,o.value=0)},N=a=>{!Array.isArray(a)||!(a[0]instanceof Date)||d("update:modelValue",t(a[0]))},$=()=>{const a=new Date;o.value=a.getMonth(),u.value=a.getFullYear(),a.setHours(0,0,0,0),d("update:modelValue",t(a))},B=a=>{if(!(a instanceof Date))return!1;switch(e.limit){case"past":return t(a)<=g();case"future":return t(a)>=g();default:return!0}};return E(()=>{e.modelValue&&(o.value=m(e.modelValue).getMonth(),u.value=m(e.modelValue).getFullYear())}),{ColorEnum:c,languageCode:v,style:w,text:Y,innerMonth:o,innerYear:u,years:M,epochToPicker:m,pickerToEpoch:t,onClickPrevious:P,onClickNext:T,onClickDate:N,onClickToday:$,allowedDates:B}}});function O(e,d,m,t,g,v){const s=A("FSSelectField");return _(),U(k,{width:"hug"},{default:r(()=>[n(h,null,{default:r(()=>[n(s,{hideHeader:!0,clearable:!1,items:e.years,modelValue:e.innerYear,"onUpdate:modelValue":d[0]||(d[0]=o=>e.innerYear=o)},null,8,["items","modelValue"]),n(h,{align:"center-right"},{default:r(()=>[n(p,{label:e.$tr("ui.common.today","Today"),onClick:e.onClickToday},null,8,["label","onClick"])]),_:1})]),_:1}),n(k,{class:"fs-calendar",height:["380px","375px"],style:y(e.style)},{default:r(()=>[n(h,{class:"fs-calendar-header",align:"center-center"},{default:r(()=>[n(p,{size:"l",variant:"icon",icon:"mdi-chevron-left",color:e.ColorEnum.Dark,onClick:e.onClickPrevious},null,8,["color","onClick"]),n(F,{class:"fs-calendar-text",font:"text-h3"},{default:r(()=>[z(I(e.text),1)]),_:1}),n(p,{size:"l",variant:"icon",icon:"mdi-chevron-right",color:e.ColorEnum.Dark,onClick:e.onClickNext},null,8,["color","onClick"])]),_:1}),L("div",{class:"fs-calendar-divider",style:y(e.style)},null,4),n(X,{locale:e.languageCode},{default:r(()=>[n(G,{month:e.innerMonth,year:e.innerYear,multiple:!1,showAdjacentMonths:!0,allowedDates:e.allowedDates,modelValue:[e.epochToPicker(e.$props.modelValue)],"onUpdate:modelValue":e.onClickDate,"onUpdate:month":o=>null,"onUpdate:year":o=>null},null,8,["month","year","allowedDates","modelValue","onUpdate:modelValue"])]),_:1},8,["locale"])]),_:1},8,["style"])]),_:1})}const se=K(V,[["render",O]]);V.__docgenInfo={displayName:"FSCalendar",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"number | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"color",type:{name:"ColorBase"},required:!1,defaultValue:{func:!1,value:"ColorEnum.Primary"}},{name:"limit",values:["none","past","future"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:'"none"'}}],events:[{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/FSCalendar.vue"]};export{se as F};
